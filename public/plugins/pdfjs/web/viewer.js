(function(q){function f(n){if(m[n])return m[n].exports;var r=m[n]={i:n,l:!1,exports:{}};q[n].call(r.exports,r,r.exports,f);r.l=!0;return r.exports}var m={};f.m=q;f.c=m;f.d=function(n,r,p){f.o(n,r)||Object.defineProperty(n,r,{enumerable:!0,get:p})};f.r=function(f){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(f,Symbol.toStringTag,{value:"Module"});Object.defineProperty(f,"__esModule",{value:!0})};f.t=function(n,r){r&1&&(n=f(n));if(r&8||r&4&&"object"===typeof n&&n&&n.__esModule)return n;var p=Object.create(null);f.r(p);Object.defineProperty(p,"default",{enumerable:!0,value:n});if(r&2&&"string"!=typeof n)for(var l in n)f.d(p,l,function(h){return n[h]}.bind(null,l));return p};f.n=function(n){var r=n&&n.__esModule?function(){return n["default"]}:function(){return n};f.d(r,"a",r);return r};f.o=function(f,r){return Object.prototype.hasOwnProperty.call(f,r)};f.p="";return f(f.s=0)})([function(q,f,m){function n(){var l={appContainer:document.body,mainContainer:document.getElementById("viewerContainer"),viewerContainer:document.getElementById("viewer"),eventBus:null,toolbar:{container:document.getElementById("toolbarViewer"),numPages:document.getElementById("numPages"),pageNumber:document.getElementById("pageNumber"),scaleSelectContainer:document.getElementById("scaleSelectContainer"),scaleSelect:document.getElementById("scaleSelect"),customScaleOption:document.getElementById("customScaleOption"),previous:document.getElementById("previous"),next:document.getElementById("next"),zoomIn:document.getElementById("zoomIn"),zoomOut:document.getElementById("zoomOut"),viewFind:document.getElementById("viewFind"),openFile:document.getElementById("openFile"),print:document.getElementById("print"),presentationModeButton:document.getElementById("presentationMode"),download:document.getElementById("download"),viewBookmark:document.getElementById("viewBookmark")},secondaryToolbar:{toolbar:document.getElementById("secondaryToolbar"),toggleButton:document.getElementById("secondaryToolbarToggle"),toolbarButtonContainer:document.getElementById("secondaryToolbarButtonContainer"),presentationModeButton:document.getElementById("secondaryPresentationMode"),openFileButton:document.getElementById("secondaryOpenFile"),printButton:document.getElementById("secondaryPrint"),downloadButton:document.getElementById("secondaryDownload"),viewBookmarkButton:document.getElementById("secondaryViewBookmark"),firstPageButton:document.getElementById("firstPage"),lastPageButton:document.getElementById("lastPage"),pageRotateCwButton:document.getElementById("pageRotateCw"),pageRotateCcwButton:document.getElementById("pageRotateCcw"),cursorSelectToolButton:document.getElementById("cursorSelectTool"),cursorHandToolButton:document.getElementById("cursorHandTool"),scrollVerticalButton:document.getElementById("scrollVertical"),scrollHorizontalButton:document.getElementById("scrollHorizontal"),scrollWrappedButton:document.getElementById("scrollWrapped"),spreadNoneButton:document.getElementById("spreadNone"),spreadOddButton:document.getElementById("spreadOdd"),spreadEvenButton:document.getElementById("spreadEven"),documentPropertiesButton:document.getElementById("documentProperties")},fullscreen:{contextFirstPage:document.getElementById("contextFirstPage"),contextLastPage:document.getElementById("contextLastPage"),contextPageRotateCw:document.getElementById("contextPageRotateCw"),contextPageRotateCcw:document.getElementById("contextPageRotateCcw")},sidebar:{outerContainer:document.getElementById("outerContainer"),viewerContainer:document.getElementById("viewerContainer"),toggleButton:document.getElementById("sidebarToggle"),thumbnailButton:document.getElementById("viewThumbnail"),outlineButton:document.getElementById("viewOutline"),attachmentsButton:document.getElementById("viewAttachments"),thumbnailView:document.getElementById("thumbnailView"),outlineView:document.getElementById("outlineView"),attachmentsView:document.getElementById("attachmentsView")},sidebarResizer:{outerContainer:document.getElementById("outerContainer"),resizer:document.getElementById("sidebarResizer")},findBar:{bar:document.getElementById("findbar"),toggleButton:document.getElementById("viewFind"),findField:document.getElementById("findInput"),highlightAllCheckbox:document.getElementById("findHighlightAll"),caseSensitiveCheckbox:document.getElementById("findMatchCase"),entireWordCheckbox:document.getElementById("findEntireWord"),findMsg:document.getElementById("findMsg"),findResultsCount:document.getElementById("findResultsCount"),findPreviousButton:document.getElementById("findPrevious"),findNextButton:document.getElementById("findNext")},passwordOverlay:{overlayName:"passwordOverlay",container:document.getElementById("passwordOverlay"),label:document.getElementById("passwordText"),input:document.getElementById("password"),submitButton:document.getElementById("passwordSubmit"),cancelButton:document.getElementById("passwordCancel")},documentProperties:{overlayName:"documentPropertiesOverlay",container:document.getElementById("documentPropertiesOverlay"),closeButton:document.getElementById("documentPropertiesClose"),fields:{fileName:document.getElementById("fileNameField"),fileSize:document.getElementById("fileSizeField"),title:document.getElementById("titleField"),author:document.getElementById("authorField"),subject:document.getElementById("subjectField"),keywords:document.getElementById("keywordsField"),creationDate:document.getElementById("creationDateField"),modificationDate:document.getElementById("modificationDateField"),creator:document.getElementById("creatorField"),producer:document.getElementById("producerField"),version:document.getElementById("versionField"),pageCount:document.getElementById("pageCountField"),pageSize:document.getElementById("pageSizeField"),linearized:document.getElementById("linearizedField")}},errorWrapper:{container:document.getElementById("errorWrapper"),errorMessage:document.getElementById("errorMessage"),closeButton:document.getElementById("errorClose"),errorMoreInfo:document.getElementById("errorMoreInfo"),moreInfoButton:document.getElementById("errorShowMore"),lessInfoButton:document.getElementById("errorShowLess")},printContainer:document.getElementById("printContainer"),openFileInputName:"fileInput",debuggerScriptPath:"./debugger.js"};window.PDFViewerApplication=r.PDFViewerApplication;window.PDFViewerApplicationOptions=p.AppOptions;var h=document.createEvent("CustomEvent");h.initCustomEvent("webviewerloaded",!0,!0,{});document.dispatchEvent(h);r.PDFViewerApplication.run(l)}var r,p;r=m(1);p=m(6);m(36);m(41);"interactive"===document.readyState||"complete"===document.readyState?n():document.addEventListener("DOMContentLoaded",n,!0)},function(q,f,m){function n(a,e){var b;b=Array.isArray(a)?a:void 0;if(!b){b=[];var c=!0,g=!1,k=void 0;try{for(var u=a[Symbol.iterator](),d;!(c=(d=u.next()).done)&&(b.push(d.value),!e||b.length!==e);c=!0);}catch(ra){g=!0,k=ra}finally{try{if(!c&&null!=u["return"])u["return"]()}finally{if(g)throw k;}}}if(!(a=b))throw new TypeError("Invalid attempt to destructure non-iterable instance");return a}function r(a,e,b,c,g,k,u){try{var d=a[k](u),v=d.value}catch(sa){b(sa);return}d.done?e(v):Promise.resolve(v).then(c,g)}function p(a){return function(){var e=this,b=arguments;return new Promise(function(c,g){function k(a){r(d,c,g,k,u,"next",a)}function u(a){r(d,c,g,k,u,"throw",a)}var d=a.apply(e,b);k(void 0)})}}function l(){D.GlobalWorkerOptions.workerSrc||(D.GlobalWorkerOptions.workerSrc=y.AppOptions.get("workerSrc"));return(0,D.loadScript)(D.PDFWorker.getWorkerSrc())}function h(a){var e=t.appConfig;return(0,D.loadScript)(e.debuggerScriptPath).then(function(){PDFBug.enable(a);PDFBug.init({OPS:D.OPS,createObjectURL:D.createObjectURL},e.mainContainer)})}function d(){var a=t.appConfig,e;e=document.location.search.substring(1);e=(0,A.parseQueryString)(e);e="file"in e?e.file:y.AppOptions.get("defaultUrl");Z(e);var b=document.createElement("input");b.id=a.openFileInputName;b.className="fileInput";b.setAttribute("type","file");b.oncontextmenu=A.noContextMenuHandler;document.body.appendChild(b);window.File&&window.FileReader&&window.FileList&&window.Blob?b.value=null:(a.toolbar.openFile.setAttribute("hidden","true"),a.secondaryToolbar.openFileButton.setAttribute("hidden","true"));b.addEventListener("change",function(a){var e=a.target.files;e&&0!==e.length&&t.eventBus.dispatch("fileinputchange",{source:this,fileInput:a.target})});a.mainContainer.addEventListener("dragover",function(a){a.preventDefault();a.dataTransfer.dropEffect="move"});a.mainContainer.addEventListener("drop",function(a){a.preventDefault();var e=a.dataTransfer.files;e&&0!==e.length&&t.eventBus.dispatch("fileinputchange",{source:this,fileInput:a.dataTransfer})});t.supportsPrinting||(a.toolbar.print.classList.add("hidden"),a.secondaryToolbar.printButton.classList.add("hidden"));t.supportsFullscreen||(a.toolbar.presentationModeButton.classList.add("hidden"),a.secondaryToolbar.presentationModeButton.classList.add("hidden"));t.supportsIntegratedFind&&a.toolbar.viewFind.classList.add("hidden");a.mainContainer.addEventListener("transitionend",function(a){a.target===this&&t.eventBus.dispatch("resize",{source:this})},!0);a.sidebar.toggleButton.addEventListener("click",function(){t.pdfSidebar.toggle()});try{aa(e)}catch(T){t.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then(function(a){t.error(a,T)})}}function c(a){a=a.pageNumber;var e=a-1,b=t.pdfViewer.getPageView(e);a===t.page&&t.toolbar.updateLoadingIndicatorState(!1);b&&(t.pdfSidebar.isThumbnailViewVisible&&t.pdfThumbnailViewer.getThumbnail(e).setImage(b),"undefined"!==typeof Stats&&Stats.enabled&&b.stats&&Stats.add(a,b.stats),b.error&&t.l10n.get("rendering_error",null,"An error occurred while rendering the page.").then(function(a){t.error(a,b.error)}))}function b(a){}function k(a){a=a.mode;switch(a){case "thumbs":a=L.SidebarView.THUMBS;break;case "bookmarks":case "outline":a=L.SidebarView.OUTLINE;break;case "attachments":a=L.SidebarView.ATTACHMENTS;break;case "none":a=L.SidebarView.NONE;break;default:console.error('Invalid "pagemode" hash parameter: '+a);return}t.pdfSidebar.switchView(a,!0)}function g(a){switch(a.action){case "GoToPage":t.appConfig.toolbar.pageNumber.select();break;case "Find":t.supportsIntegratedFind||t.findBar.toggle()}}function a(a){var e=a.active;t.pdfViewer.presentationModeState=a.switchInProgress?A.PresentationModeState.CHANGING:e?A.PresentationModeState.FULLSCREEN:A.PresentationModeState.NORMAL}function e(a){t.pdfRenderingQueue.isThumbnailViewEnabled=t.pdfSidebar.isThumbnailViewVisible;var e=t.store;if(e&&t.isInitialViewSet)e.set("sidebarView",a.view)["catch"](function(){})}function u(a){a=a.location;var e=t.store;if(e&&t.isInitialViewSet)e.setMultiple({page:a.pageNumber,zoom:a.scale,scrollLeft:a.left,scrollTop:a.top,rotation:a.rotation})["catch"](function(){});a=t.pdfLinkService.getAnchorUrl(a.pdfOpenParams);t.appConfig.toolbar.viewBookmark.href=a;t.appConfig.secondaryToolbar.viewBookmarkButton.href=a;a=t.pdfViewer.getPageView(t.page-1).renderingState!==ba.RenderingStates.FINISHED;t.toolbar.updateLoadingIndicatorState(a)}function w(a){var e=t.store;if(e&&t.isInitialViewSet)e.set("scrollMode",a.mode)["catch"](function(){})}function x(a){var e=t.store;if(e&&t.isInitialViewSet)e.set("spreadMode",a.mode)["catch"](function(){})}function v(){var a=t.pdfViewer;if(t.pdfDocument){var e=a.currentScaleValue;if("auto"===e||"page-fit"===e||"page-width"===e)a.currentScaleValue=e;a.update()}}function C(a){if(a=a.hash)t.isInitialViewSet?t.pdfHistory.popStateInProgress||t.pdfLinkService.setHash(a):t.initialBookmark=a}function z(){t.requestPresentationMode()}function G(){document.getElementById(t.appConfig.openFileInputName).click()}function B(){window.print()}function E(){t.download()}function O(){t.pdfDocument&&(t.page=1)}function F(){t.pdfDocument&&(t.page=t.pagesCount)}function ca(){t.page++}function P(){t.page--}function da(){t.zoomIn()}function U(){t.zoomOut()}function Q(a){t.zoomReset(a&&a.ignoreDuplicate)}function K(a){var e=t.pdfViewer;""!==a.value&&(e.currentPageLabel=a.value);a.value!==e.currentPageNumber.toString()&&a.value!==e.currentPageLabel&&t.toolbar.setPageNumber(e.currentPageNumber,e.currentPageLabel)}function M(a){t.pdfViewer.currentScaleValue=a.value}function N(){t.rotatePages(90)}function ea(){t.rotatePages(-90)}function fa(a){t.pdfViewer.scrollMode=a.mode}function S(a){t.pdfViewer.spreadMode=a.mode}function R(){t.pdfDocumentProperties.open()}function H(a){t.findController.executeCommand("find"+a.type,{query:a.query,phraseSearch:a.phraseSearch,caseSensitive:a.caseSensitive,entireWord:a.entireWord,highlightAll:a.highlightAll,findPrevious:a.findPrevious})}function ga(a){t.findController.executeCommand("find",{query:a.query,phraseSearch:a.phraseSearch,caseSensitive:!1,entireWord:!1,highlightAll:!0,findPrevious:!1})}function ha(a){a=a.matchesCount;t.supportsIntegratedFind?t.externalServices.updateFindMatchesCount(a):t.findBar.updateResultsCount(a)}function ia(a){var e=a.state,b=a.previous;a=a.matchesCount;t.supportsIntegratedFind?t.externalServices.updateFindControlState({result:e,findPrevious:b,matchesCount:a}):t.findBar.updateUIState(e,b,a)}function ja(a){t.toolbar.setPageScale(a.presetValue,a.scale);t.pdfViewer.update()}function ka(a){t.pdfThumbnailViewer.pagesRotation=a.pagesRotation;t.forceRendering();t.pdfViewer.currentPageNumber=a.pageNumber}function la(a){var e=a.pageNumber;t.toolbar.setPageNumber(e,a.pageLabel||null);t.secondaryToolbar.setPageNumber(e);t.pdfSidebar.isThumbnailViewVisible&&t.pdfThumbnailViewer.scrollThumbnailIntoView(e);"undefined"!==typeof Stats&&Stats.enabled&&(a=t.pdfViewer.getPageView(e-1))&&a.stats&&Stats.add(e,a.stats)}function ma(a){"visible"===document.visibilityState&&na()}function na(){V&&clearTimeout(V);V=setTimeout(function(){V=null},1E3)}function oa(a){var e=t.pdfViewer;if(!e.isInPresentationMode)if(a.ctrlKey||a.metaKey){var b=t.supportedMouseWheelZoomModifierKeys;if(!(a.ctrlKey&&!b.ctrlKey||a.metaKey&&!b.metaKey||(a.preventDefault(),V||"hidden"===document.visibilityState))){var b=e.currentScale,c=3*(0,A.normalizeWheelEventDelta)(a);0>c?t.zoomOut(-c):t.zoomIn(c);c=e.currentScale;if(b!==c){var b=c/b-1,c=e.container.getBoundingClientRect(),g=a.clientY-c.top;e.container.scrollLeft+=(a.clientX-c.left)*b;e.container.scrollTop+=g*b}}}else na()}function pa(a){if(t.secondaryToolbar.isOpen){var e=t.appConfig;(t.pdfViewer.containsElement(a.target)||e.toolbar.container.contains(a.target)&&a.target!==e.secondaryToolbar.toggleButton)&&t.secondaryToolbar.close()}}function qa(a){if(!t.overlayManager.active){var e=!1,b=!1,c=(a.ctrlKey?1:0)|(a.altKey?2:0)|(a.shiftKey?4:0)|(a.metaKey?8:0),g=t.pdfViewer,k=g&&g.isInPresentationMode;if(1===c||8===c||5===c||12===c)switch(a.keyCode){case 70:t.supportsIntegratedFind||(t.findBar.open(),e=!0);break;case 71:t.supportsIntegratedFind||((e=t.findController.state)&&t.findController.executeCommand("findagain",{query:e.query,phraseSearch:e.phraseSearch,caseSensitive:e.caseSensitive,entireWord:e.entireWord,highlightAll:e.highlightAll,findPrevious:5===c||12===c}),e=!0);break;case 61:case 107:case 187:case 171:k||t.zoomIn();e=!0;break;case 173:case 109:case 189:k||t.zoomOut();e=!0;break;case 48:case 96:k||(setTimeout(function(){t.zoomReset()}),e=!1);break;case 38:if(k||1<t.page)t.page=1,b=e=!0;break;case 40:if(k||t.page<t.pagesCount)t.page=t.pagesCount,b=e=!0}if(1===c||8===c)switch(a.keyCode){case 83:t.download(),e=!0}if(3===c||10===c)switch(a.keyCode){case 80:t.requestPresentationMode();e=!0;break;case 71:t.appConfig.toolbar.pageNumber.select(),e=!0}if(e)b&&!k&&g.focus(),a.preventDefault();else{var u=document.activeElement||document.querySelector(":focus"),d=u&&u.tagName.toUpperCase();if("INPUT"!==d&&"TEXTAREA"!==d&&"SELECT"!==d||27===a.keyCode){if(0===c){var v=0,w=!1;switch(a.keyCode){case 38:case 33:g.isVerticalScrollbarEnabled&&(w=!0);v=-1;break;case 8:k||(w=!0);v=-1;break;case 37:g.isHorizontalScrollbarEnabled&&(w=!0);case 75:case 80:v=-1;break;case 27:t.secondaryToolbar.isOpen&&(t.secondaryToolbar.close(),e=!0);!t.supportsIntegratedFind&&t.findBar.opened&&(t.findBar.close(),e=!0);break;case 40:case 34:g.isVerticalScrollbarEnabled&&(w=!0);v=1;break;case 13:case 32:k||(w=!0);v=1;break;case 39:g.isHorizontalScrollbarEnabled&&(w=!0);case 74:case 78:v=1;break;case 36:if(k||1<t.page)t.page=1,b=e=!0;break;case 35:if(k||t.page<t.pagesCount)t.page=t.pagesCount,b=e=!0;break;case 83:t.pdfCursorTools.switchTool(W.CursorTool.SELECT);break;case 72:t.pdfCursorTools.switchTool(W.CursorTool.HAND);break;case 82:t.rotatePages(90);break;case 115:t.pdfSidebar.toggle()}0===v||w&&"page-fit"!==g.currentScaleValue||(0<v?t.page<t.pagesCount&&t.page++:1<t.page&&t.page--,e=!0)}if(4===c)switch(a.keyCode){case 13:case 32:if(!k&&"page-fit"!==g.currentScaleValue)break;1<t.page&&t.page--;e=!0;break;case 82:t.rotatePages(-90)}e||k||!(33<=a.keyCode&&40>=a.keyCode||32===a.keyCode&&"BUTTON"!==d)||(b=!0);b&&!g.containsElement(u)&&g.focus();e&&a.preventDefault()}}}}function ta(a){switch(a){case "UseThumbs":return L.SidebarView.THUMBS;case "UseOutlines":return L.SidebarView.OUTLINE;case "UseAttachments":return L.SidebarView.ATTACHMENTS}return L.SidebarView.NONE}Object.defineProperty(f,"__esModule",{value:!0});f.PDFPrintServiceFactory=f.DefaultExternalServices=f.PDFViewerApplication=void 0;var I=function(a){return a&&a.__esModule?a:{"default":a}}(m(2)),A=m(5),y=m(6),D=m(7),W=m(9),ba=m(11),L=m(12),ua=m(13),va=m(14),wa=m(15),xa=m(16),ya=m(17),za=m(18),Aa=m(20),Ba=m(21),Ca=m(22),Da=m(23),Ea=m(24),Fa=m(25),Ga=m(27),Ha=m(32),Ia=m(34),Ja=m(35);q={updateFindControlState:function(a){},updateFindMatchesCount:function(a){},initPassiveLoading:function(a){},fallback:function(a,e){},reportTelemetry:function(a){},createDownloadManager:function(a){throw Error("Not implemented: createDownloadManager");},createPreferences:function(){throw Error("Not implemented: createPreferences");},createL10n:function(a){throw Error("Not implemented: createL10n");},supportsIntegratedFind:!1,supportsDocumentFonts:!0,supportsDocumentColors:!0,supportedMouseWheelZoomModifierKeys:{ctrlKey:!0,metaKey:!0}};f.DefaultExternalServices=q;var t={initialBookmark:document.location.hash.substring(1),initialized:!1,fellback:!1,appConfig:null,pdfDocument:null,pdfLoadingTask:null,printService:null,pdfViewer:null,pdfThumbnailViewer:null,pdfRenderingQueue:null,pdfPresentationMode:null,pdfDocumentProperties:null,pdfLinkService:null,pdfHistory:null,pdfSidebar:null,pdfSidebarResizer:null,pdfOutlineViewer:null,pdfAttachmentViewer:null,pdfCursorTools:null,store:null,downloadManager:null,overlayManager:null,preferences:null,toolbar:null,secondaryToolbar:null,eventBus:null,l10n:null,isInitialViewSet:!1,downloadComplete:!1,isViewerEmbedded:window.parent!==window,url:"",baseUrl:"",externalServices:q,_boundEvents:{},contentDispositionFilename:null,initialize:function(){var a=p(I["default"].mark(function J(a){var e=this,b;return I["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return this.preferences=this.externalServices.createPreferences(),this.appConfig=a,c.next=4,this._readPreferences();case 4:return c.next=6,this._parseHashParameters();case 6:return c.next=8,this._initializeL10n();case 8:return this.isViewerEmbedded&&y.AppOptions.get("externalLinkTarget")===D.LinkTarget.NONE&&y.AppOptions.set("externalLinkTarget",D.LinkTarget.TOP),c.next=11,this._initializeViewerComponents();case 11:this.bindEvents(),this.bindWindowEvents(),b=a.appContainer||document.documentElement,this.l10n.translate(b).then(function(){e.eventBus.dispatch("localized",{source:e})}),this.initialized=!0;case 16:case "end":return c.stop()}},J,this)}));return function(e){return a.apply(this,arguments)}}(),_readPreferences:function(){var a=p(I["default"].mark(function J(){var a,e;return I["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(!0!==y.AppOptions.get("disablePreferences")){b.next=2;break}return b.abrupt("return");case 2:return b.prev=2,b.next=5,this.preferences.getAll();case 5:a=b.sent;for(e in a)y.AppOptions.set(e,a[e]);b.next=12;break;case 9:b.prev=9,b.t0=b["catch"](2),console.error('_readPreferences: "'.concat(b.t0.message,'".'));case 12:case "end":return b.stop()}},J,this,[[2,9]])}));return function(){return a.apply(this,arguments)}}(),_parseHashParameters:function(){var a=p(I["default"].mark(function J(){var a,e,b,c,g;return I["default"].wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(y.AppOptions.get("pdfBugEnabled")){k.next=2;break}return k.abrupt("return",void 0);case 2:a=[];e=document.location.hash.substring(1);b=(0,A.parseQueryString)(e);"disableworker"in b&&"true"===b.disableworker&&a.push(l());"disablerange"in b&&y.AppOptions.set("disableRange","true"===b.disablerange);"disablestream"in b&&y.AppOptions.set("disableStream","true"===b.disablestream);"disableautofetch"in b&&y.AppOptions.set("disableAutoFetch","true"===b.disableautofetch);"disablefontface"in b&&y.AppOptions.set("disableFontFace","true"===b.disablefontface);"disablehistory"in b&&y.AppOptions.set("disableHistory","true"===b.disablehistory);"webgl"in b&&y.AppOptions.set("enableWebGL","true"===b.webgl);"useonlycsszoom"in b&&y.AppOptions.set("useOnlyCssZoom","true"===b.useonlycsszoom);"verbosity"in b&&y.AppOptions.set("verbosity",b.verbosity|0);if(!("textlayer"in b)){k.next=23;break}k.t0=b.textlayer;k.next="off"===k.t0?18:"visible"===k.t0?20:"shadow"===k.t0?20:"hover"===k.t0?20:23;break;case 18:return y.AppOptions.set("textLayerMode",A.TextLayerMode.DISABLE),k.abrupt("break",23);case 20:return c=this.appConfig.viewerContainer,c.classList.add("textLayer-"+b.textlayer),k.abrupt("break",23);case 23:return"pdfbug"in b&&(y.AppOptions.set("pdfBug",!0),g=b.pdfbug.split(","),a.push(h(g))),"locale"in b&&y.AppOptions.set("locale",b.locale),k.abrupt("return",Promise.all(a)["catch"](function(a){console.error('_parseHashParameters: "'.concat(a.message,'".'))}));case 26:case "end":return k.stop()}},J,this)}));return function(){return a.apply(this,arguments)}}(),_initializeL10n:function(){var a=p(I["default"].mark(function J(){var a;return I["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.l10n=this.externalServices.createL10n({locale:y.AppOptions.get("locale")}),e.next=3,this.l10n.getDirection();case 3:a=e.sent,document.getElementsByTagName("html")[0].dir=a;case 5:case "end":return e.stop()}},J,this)}));return function(){return a.apply(this,arguments)}}(),_initializeViewerComponents:function(){var a=p(I["default"].mark(function J(){var a,e,b,c,g,k,u,d;return I["default"].wrap(function(v){for(;;)switch(v.prev=v.next){case 0:a=this.appConfig,this.overlayManager=new ua.OverlayManager,this.eventBus=e=a.eventBus||(0,A.getGlobalEventBus)(y.AppOptions.get("eventBusDispatchToDOM")),b=new ba.PDFRenderingQueue,b.onIdle=this.cleanup.bind(this),this.pdfRenderingQueue=b,this.pdfLinkService=c=new Ba.PDFLinkService({eventBus:e,externalLinkTarget:y.AppOptions.get("externalLinkTarget"),externalLinkRel:y.AppOptions.get("externalLinkRel")}),this.downloadManager=g=this.externalServices.createDownloadManager({disableCreateObjectURL:y.AppOptions.get("disableCreateObjectURL")}),this.findController=k=new za.PDFFindController({linkService:c,eventBus:e}),u=a.mainContainer,d=a.viewerContainer,this.pdfViewer=new Ga.PDFViewer({container:u,viewer:d,eventBus:e,renderingQueue:b,linkService:c,downloadManager:g,findController:k,renderer:y.AppOptions.get("renderer"),enableWebGL:y.AppOptions.get("enableWebGL"),l10n:this.l10n,textLayerMode:y.AppOptions.get("textLayerMode"),imageResourcesPath:y.AppOptions.get("imageResourcesPath"),renderInteractiveForms:y.AppOptions.get("renderInteractiveForms"),enablePrintAutoRotate:y.AppOptions.get("enablePrintAutoRotate"),useOnlyCssZoom:y.AppOptions.get("useOnlyCssZoom"),maxCanvasPixels:y.AppOptions.get("maxCanvasPixels")}),b.setViewer(this.pdfViewer),c.setViewer(this.pdfViewer),this.pdfThumbnailViewer=new Fa.PDFThumbnailViewer({container:a.sidebar.thumbnailView,renderingQueue:b,linkService:c,l10n:this.l10n}),b.setThumbnailViewer(this.pdfThumbnailViewer),this.pdfHistory=new Aa.PDFHistory({linkService:c,eventBus:e}),c.setHistory(this.pdfHistory),this.findBar=new ya.PDFFindBar(a.findBar,e,this.l10n),this.pdfDocumentProperties=new xa.PDFDocumentProperties(a.documentProperties,this.overlayManager,e,this.l10n),this.pdfCursorTools=new W.PDFCursorTools({container:u,eventBus:e,cursorToolOnLoad:y.AppOptions.get("cursorToolOnLoad")}),this.toolbar=new Ia.Toolbar(a.toolbar,e,this.l10n),this.secondaryToolbar=new Ha.SecondaryToolbar(a.secondaryToolbar,u,e),this.supportsFullscreen&&(this.pdfPresentationMode=new Da.PDFPresentationMode({container:u,viewer:d,pdfViewer:this.pdfViewer,eventBus:e,contextMenuItems:a.fullscreen})),this.passwordPrompt=new va.PasswordPrompt(a.passwordOverlay,this.overlayManager,this.l10n),this.pdfOutlineViewer=new Ca.PDFOutlineViewer({container:a.sidebar.outlineView,eventBus:e,linkService:c}),this.pdfAttachmentViewer=new wa.PDFAttachmentViewer({container:a.sidebar.attachmentsView,eventBus:e,downloadManager:g}),this.pdfSidebar=new L.PDFSidebar({elements:a.sidebar,pdfViewer:this.pdfViewer,pdfThumbnailViewer:this.pdfThumbnailViewer,eventBus:e,l10n:this.l10n}),this.pdfSidebar.onToggled=this.forceRendering.bind(this),this.pdfSidebarResizer=new Ea.PDFSidebarResizer(a.sidebarResizer,e,this.l10n);case 34:case "end":return v.stop()}},J,this)}));return function(){return a.apply(this,arguments)}}(),run:function(a){this.initialize(a).then(d)},zoomIn:function(a){var e=this.pdfViewer.currentScale;do e=(1.1*e).toFixed(2),e=Math.ceil(10*e)/10,e=Math.min(A.MAX_SCALE,e);while(0<--a&&e<A.MAX_SCALE);this.pdfViewer.currentScaleValue=e},zoomOut:function(a){var e=this.pdfViewer.currentScale;do e=(e/1.1).toFixed(2),e=Math.floor(10*e)/10,e=Math.max(A.MIN_SCALE,e);while(0<--a&&e>A.MIN_SCALE);this.pdfViewer.currentScaleValue=e},zoomReset:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.pdfViewer.isInPresentationMode||a&&this.pdfViewer.currentScaleValue===A.DEFAULT_SCALE_VALUE||(this.pdfViewer.currentScaleValue=A.DEFAULT_SCALE_VALUE)},get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0},set page(a){this.pdfViewer.currentPageNumber=a},get page(){return this.pdfViewer.currentPageNumber},get printing(){return!!this.printService},get supportsPrinting(){return X.instance.supportsPrinting},get supportsFullscreen(){var a;a=document.documentElement;a=!!(a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullScreen||a.msRequestFullscreen);if(!1===document.fullscreenEnabled||!1===document.mozFullScreenEnabled||!1===document.webkitFullscreenEnabled||!1===document.msFullscreenEnabled)a=!1;return(0,D.shadow)(this,"supportsFullscreen",a)},get supportsIntegratedFind(){return this.externalServices.supportsIntegratedFind},get supportsDocumentFonts(){return this.externalServices.supportsDocumentFonts},get supportsDocumentColors(){return this.externalServices.supportsDocumentColors},get loadingBar(){var a=new A.ProgressBar("#loadingBar");return(0,D.shadow)(this,"loadingBar",a)},get supportedMouseWheelZoomModifierKeys(){return this.externalServices.supportedMouseWheelZoomModifierKeys},initPassiveLoading:function(){throw Error("Not implemented: initPassiveLoading");},setTitleUsingUrl:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";this.url=a;this.baseUrl=a.split("#")[0];var e=(0,A.getPDFFileNameFromURL)(a,"");if(!e)try{e=decodeURIComponent((0,D.getFilenameFromUrl)(a))||a}catch(J){e=a}this.setTitle(e)},setTitle:function(a){this.isViewerEmbedded||(document.title=a)},close:function(){var a=p(I["default"].mark(function J(){var a,e;return I["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:a=this.appConfig.errorWrapper.container;a.setAttribute("hidden","true");if(this.pdfLoadingTask){b.next=4;break}return b.abrupt("return",void 0);case 4:return e=this.pdfLoadingTask.destroy(),this.pdfLoadingTask=null,this.pdfDocument&&(this.pdfDocument=null,this.pdfThumbnailViewer.setDocument(null),this.pdfViewer.setDocument(null),this.pdfLinkService.setDocument(null),this.pdfDocumentProperties.setDocument(null)),this.store=null,this.downloadComplete=this.isInitialViewSet=!1,this.baseUrl=this.url="",this.contentDispositionFilename=null,this.pdfSidebar.reset(),this.pdfOutlineViewer.reset(),this.pdfAttachmentViewer.reset(),this.findBar.reset(),this.toolbar.reset(),this.secondaryToolbar.reset(),"undefined"!==typeof PDFBug&&PDFBug.cleanup(),b.abrupt("return",e);case 21:case "end":return b.stop()}},J,this)}));return function(){return a.apply(this,arguments)}}(),open:function(){var a=p(I["default"].mark(function J(a,e){var b=this,c,g,k,u,d,v,w;return I["default"].wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!this.pdfLoadingTask){h.next=3;break}h.next=3;return this.close();case 3:c=y.AppOptions.getAll(y.OptionKind.WORKER);for(g in c)D.GlobalWorkerOptions[g]=c[g];k=Object.create(null);"string"===typeof a?(this.setTitleUsingUrl(a),k.url=a):a&&"byteLength"in a?k.data=a:a.url&&a.originalUrl&&(this.setTitleUsingUrl(a.originalUrl),k.url=a.url);u=y.AppOptions.getAll(y.OptionKind.API);for(d in u)k[d]=u[d];if(e)for(v in e)"length"===v&&this.pdfDocumentProperties.setFileSize(e[v]),k[v]=e[v];this.pdfLoadingTask=w=(0,D.getDocument)(k);w.onPassword=function(a,e){b.passwordPrompt.setUpdateCallback(a,e);b.passwordPrompt.open()};w.onProgress=function(a){b.progress(a.loaded/a.total)};w.onUnsupportedFeature=this.fallback.bind(this);return h.abrupt("return",w.promise.then(function(a){b.load(a)},function(a){if(w===b.pdfLoadingTask){var e=a&&a.message;return(a instanceof D.InvalidPDFException?b.l10n.get("invalid_file_error",null,"Invalid or corrupted PDF file."):a instanceof D.MissingPDFException?b.l10n.get("missing_file_error",null,"Missing PDF file."):a instanceof D.UnexpectedResponseException?b.l10n.get("unexpected_response_error",null,"Unexpected server response."):b.l10n.get("loading_error",null,"An error occurred while loading the PDF.")).then(function(a){b.error(a,{message:e});throw Error(a);})}}));case 16:case "end":return h.stop()}},J,this)}));return function(e,b){return a.apply(this,arguments)}}(),download:function(){function a(){g.downloadUrl(b,c)}var e=this,b=this.baseUrl,c=this.contentDispositionFilename||(0,A.getPDFFileNameFromURL)(this.url),g=this.downloadManager;g.onerror=function(a){e.error("PDF failed to download: ".concat(a))};if(this.pdfDocument&&this.downloadComplete)this.pdfDocument.getData().then(function(a){a=new Blob([a],{type:"application/pdf"});g.download(a,b,c)})["catch"](a);else a()},fallback:function(a){},error:function(a,e){var b=[this.l10n.get("error_version_info",{version:D.version||"?",build:D.build||"?"},"PDF.js v{{version}} (build: {{build}})")];e&&(b.push(this.l10n.get("error_message",{message:e.message},"Message: {{message}}")),e.stack?b.push(this.l10n.get("error_stack",{stack:e.stack},"Stack: {{stack}}")):(e.filename&&b.push(this.l10n.get("error_file",{file:e.filename},"File: {{file}}")),e.lineNumber&&b.push(this.l10n.get("error_line",{line:e.lineNumber},"Line: {{line}}"))));e=this.appConfig.errorWrapper;var c=e.container;c.removeAttribute("hidden");e.errorMessage.textContent=a;a=e.closeButton;a.onclick=function(){c.setAttribute("hidden","true")};var g=e.errorMoreInfo,k=e.moreInfoButton,u=e.lessInfoButton;k.onclick=function(){g.removeAttribute("hidden");k.setAttribute("hidden","true");u.removeAttribute("hidden");g.style.height=g.scrollHeight+"px"};u.onclick=function(){g.setAttribute("hidden","true");k.removeAttribute("hidden");u.setAttribute("hidden","true")};k.oncontextmenu=A.noContextMenuHandler;u.oncontextmenu=A.noContextMenuHandler;a.oncontextmenu=A.noContextMenuHandler;k.removeAttribute("hidden");u.setAttribute("hidden","true");Promise.all(b).then(function(a){g.value=a.join("\n")})},progress:function(a){var e=this;!this.downloadComplete&&(a=Math.round(100*a),a>this.loadingBar.percent||isNaN(a))&&(this.loadingBar.percent=a,(this.pdfDocument?this.pdfDocument.loadingParams.disableAutoFetch:y.AppOptions.get("disableAutoFetch"))&&a&&(this.disableAutoFetchLoadingBarTimeout&&(clearTimeout(this.disableAutoFetchLoadingBarTimeout),this.disableAutoFetchLoadingBarTimeout=null),this.loadingBar.show(),this.disableAutoFetchLoadingBarTimeout=setTimeout(function(){e.loadingBar.hide();e.disableAutoFetchLoadingBarTimeout=null},5E3)))},load:function(a){var e=this;this.pdfDocument=a;a.getDownloadInfo().then(function(){e.downloadComplete=!0;e.loadingBar.hide();d.then(function(){e.eventBus.dispatch("documentloaded",{source:e})})});var b=a.getPageLayout()["catch"](function(){}),c=a.getPageMode()["catch"](function(){}),g=a.getOpenActionDestination()["catch"](function(){});this.toolbar.setPagesCount(a.numPages,!1);this.secondaryToolbar.setPagesCount(a.numPages);var k=this.store=new Ja.ViewHistory(a.fingerprint);this.pdfLinkService.setDocument(a,null);this.pdfDocumentProperties.setDocument(a,this.url);var u=this.pdfViewer;u.setDocument(a);var d=u.firstPagePromise,v=u.pagesPromise,w=u.onePageRendered,h=this.pdfThumbnailViewer;h.setDocument(a);d.then(function(d){e.loadingBar.setWidth(e.appConfig.viewerContainer);d=k.getMultiple({page:null,zoom:A.DEFAULT_SCALE_VALUE,scrollLeft:"0",scrollTop:"0",rotation:null,sidebarView:L.SidebarView.UNKNOWN,scrollMode:A.ScrollMode.UNKNOWN,spreadMode:A.SpreadMode.UNKNOWN})["catch"](function(){});Promise.all([d,b,c,g]).then(function(){var b=p(I["default"].mark(function Ka(b){var c,g,k,d,w,h,z,G,C,x,B,l,f,F;return I["default"].wrap(function(E){for(;;)switch(E.prev=E.next){case 0:c=n(b,4);g=c[0];k=void 0===g?{}:g;d=c[1];w=c[2];h=c[3];z=y.AppOptions.get("viewOnLoad");e._initializePdfHistory({fingerprint:a.fingerprint,viewOnLoad:z,initialDest:h});G=e.initialBookmark;x=(C=y.AppOptions.get("defaultZoomValue"))?"zoom\x3d".concat(C):null;B=null;l=y.AppOptions.get("sidebarViewOnLoad");f=y.AppOptions.get("scrollModeOnLoad");F=y.AppOptions.get("spreadModeOnLoad");k.page&&1!==z&&(x="page\x3d".concat(k.page,"\x26zoom\x3d").concat(C||k.zoom,",")+"".concat(k.scrollLeft,",").concat(k.scrollTop),B=parseInt(k.rotation,10),l===L.SidebarView.UNKNOWN&&(l=k.sidebarView|0),f===A.ScrollMode.UNKNOWN&&(f=k.scrollMode|0),F===A.SpreadMode.UNKNOWN&&(F=k.spreadMode|0));w&&l===L.SidebarView.UNKNOWN&&(l=ta(w));if(d&&F===A.SpreadMode.UNKNOWN)a:{switch(d){case "TwoColumnLeft":case "TwoPageLeft":F=A.SpreadMode.ODD;break a;case "TwoColumnRight":case "TwoPageRight":F=A.SpreadMode.EVEN;break a}F=A.SpreadMode.NONE}e.setInitialView(x,{rotation:B,sidebarView:l,scrollMode:f,spreadMode:F});e.eventBus.dispatch("documentinit",{source:e});e.isViewerEmbedded||u.focus();E.next=18;return Promise.race([v,new Promise(function(a){setTimeout(a,1E4)})]);case 18:if(G||x){E.next=20;break}return E.abrupt("return");case 20:if(!u.hasEqualPageSizes){E.next=22;break}return E.abrupt("return");case 22:e.initialBookmark=G,u.currentScaleValue=u.currentScaleValue,e.setInitialView(x);case 25:case "end":return E.stop()}},Ka)}));return function(a){return b.apply(this,arguments)}}())["catch"](function(){e.setInitialView()}).then(function(){u.update()})});a.getPageLabels().then(function(b){if(b&&!y.AppOptions.get("disablePageLabels")){var c=0,g=b.length;if(g!==e.pagesCount)console.error("The number of Page Labels does not match the number of pages in the document.");else{for(;c<g&&b[c]===(c+1).toString();)c++;c!==g&&(u.setPageLabels(b),h.setPageLabels(b),e.toolbar.setPagesCount(a.numPages,!0),e.toolbar.setPageNumber(u.currentPageNumber,u.currentPageLabel))}}});v.then(function(){e.supportsPrinting&&a.getJavaScript().then(function(a){if(a){a.some(function(a){if(!a)return!1;console.warn("Warning: JavaScript is not supported");e.fallback(D.UNSUPPORTED_FEATURES.javaScript);return!0});for(var b=/\bprint\s*\(/,c=0,g=a.length;c<g;c++){var k=a[c];if(k&&b.test(k)){setTimeout(function(){window.print()});break}}}})});Promise.all([w,A.animationStarted]).then(function(){a.getOutline().then(function(a){e.pdfOutlineViewer.render({outline:a})});a.getAttachments().then(function(a){e.pdfAttachmentViewer.render({attachments:a})})});a.getMetadata().then(function(b){var c=b.info,g=b.metadata;b=b.contentDispositionFilename;e.documentInfo=c;e.metadata=g;e.contentDispositionFilename=b;console.log("PDF "+a.fingerprint+" ["+c.PDFFormatVersion+" "+(c.Producer||"-").trim()+" / "+(c.Creator||"-").trim()+"] (PDF.js: "+(D.version||"-")+(y.AppOptions.get("enableWebGL")?" [WebGL]":"")+")");var k;g&&g.has("dc:title")&&(g=g.get("dc:title"),"Untitled"!==g&&(k=g));!k&&c&&c.Title&&(k=c.Title);k?e.setTitle("".concat(k," - ").concat(b||document.title)):b&&e.setTitle(b);c.IsAcroFormPresent&&(console.warn("Warning: AcroForm/XFA is not supported"),e.fallback(D.UNSUPPORTED_FEATURES.forms))})},_initializePdfHistory:function(a){var e=a.fingerprint,b=a.viewOnLoad;a=a.initialDest;a=void 0===a?null:a;y.AppOptions.get("disableHistory")||this.isViewerEmbedded||(this.pdfHistory.initialize({fingerprint:e,resetHistory:1===b,updateUrl:y.AppOptions.get("historyUpdateUrl")}),this.pdfHistory.initialBookmark&&(this.initialBookmark=this.pdfHistory.initialBookmark,this.initialRotation=this.pdfHistory.initialRotation),a&&!this.initialBookmark&&-1===b&&(this.initialBookmark=JSON.stringify(a),this.pdfHistory.push({explicitDest:a,pageNumber:null})))},setInitialView:function(a){var e=this,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=b.rotation,g=b.sidebarView,k=b.scrollMode,b=b.spreadMode,u=function(a){(0,A.isValidRotation)(a)&&(e.pdfViewer.pagesRotation=a)};this.isInitialViewSet=!0;this.pdfSidebar.setInitialView(g);(function(a,b){(0,A.isValidScrollMode)(a)&&(e.pdfViewer.scrollMode=a);(0,A.isValidSpreadMode)(b)&&(e.pdfViewer.spreadMode=b)})(k,b);this.initialBookmark?(u(this.initialRotation),delete this.initialRotation,this.pdfLinkService.setHash(this.initialBookmark),this.initialBookmark=null):a&&(u(c),this.pdfLinkService.setHash(a));this.toolbar.setPageNumber(this.pdfViewer.currentPageNumber,this.pdfViewer.currentPageLabel);this.secondaryToolbar.setPageNumber(this.pdfViewer.currentPageNumber);this.pdfViewer.currentScaleValue||(this.pdfViewer.currentScaleValue=A.DEFAULT_SCALE_VALUE)},cleanup:function(){this.pdfDocument&&(this.pdfViewer.cleanup(),this.pdfThumbnailViewer.cleanup(),this.pdfViewer.renderer!==A.RendererType.SVG&&this.pdfDocument.cleanup())},forceRendering:function(){this.pdfRenderingQueue.printing=this.printing;this.pdfRenderingQueue.isThumbnailViewEnabled=this.pdfSidebar.isThumbnailViewVisible;this.pdfRenderingQueue.renderHighestPriority()},beforePrint:function(){var a=this;if(!this.printService)if(this.supportsPrinting)if(this.pdfViewer.pageViewsReady){var e=this.pdfViewer.getPagesOverview();this.printService=e=X.instance.createPrintService(this.pdfDocument,e,this.appConfig.printContainer,this.l10n);this.forceRendering();e.layout()}else this.l10n.get("printing_not_ready",null,"Warning: The PDF is not fully loaded for printing.").then(function(a){window.alert(a)});else this.l10n.get("printing_not_supported",null,"Warning: Printing is not fully supported by this browser.").then(function(e){a.error(e)})},afterPrint:function(){this.printService&&(this.printService.destroy(),this.printService=null);this.forceRendering()},rotatePages:function(a){this.pdfDocument&&(this.pdfViewer.pagesRotation=(this.pdfViewer.pagesRotation+360+a)%360)},requestPresentationMode:function(){this.pdfPresentationMode&&this.pdfPresentationMode.request()},bindEvents:function(){var d=this.eventBus,h=this._boundEvents;h.beforePrint=this.beforePrint.bind(this);h.afterPrint=this.afterPrint.bind(this);d.on("resize",v);d.on("hashchange",C);d.on("beforeprint",h.beforePrint);d.on("afterprint",h.afterPrint);d.on("pagerendered",c);d.on("textlayerrendered",b);d.on("updateviewarea",u);d.on("pagechanging",la);d.on("scalechanging",ja);d.on("rotationchanging",ka);d.on("sidebarviewchanged",e);d.on("pagemode",k);d.on("namedaction",g);d.on("presentationmodechanged",a);d.on("presentationmode",z);d.on("openfile",G);d.on("print",B);d.on("download",E);d.on("firstpage",O);d.on("lastpage",F);d.on("nextpage",ca);d.on("previouspage",P);d.on("zoomin",da);d.on("zoomout",U);d.on("zoomreset",Q);d.on("pagenumberchanged",K);d.on("scalechanged",M);d.on("rotatecw",N);d.on("rotateccw",ea);d.on("switchscrollmode",fa);d.on("scrollmodechanged",w);d.on("switchspreadmode",S);d.on("spreadmodechanged",x);d.on("documentproperties",R);d.on("find",H);d.on("findfromurlhash",ga);d.on("updatefindmatchescount",ha);d.on("updatefindcontrolstate",ia);d.on("fileinputchange",Y)},bindWindowEvents:function(){var a=this.eventBus,e=this._boundEvents;e.windowResize=function(){a.dispatch("resize",{source:window})};e.windowHashChange=function(){a.dispatch("hashchange",{source:window,hash:document.location.hash.substring(1)})};e.windowBeforePrint=function(){a.dispatch("beforeprint",{source:window})};e.windowAfterPrint=function(){a.dispatch("afterprint",{source:window})};window.addEventListener("visibilitychange",ma);window.addEventListener("wheel",oa,{passive:!1});window.addEventListener("click",pa);window.addEventListener("keydown",qa);window.addEventListener("resize",e.windowResize);window.addEventListener("hashchange",e.windowHashChange);window.addEventListener("beforeprint",e.windowBeforePrint);window.addEventListener("afterprint",e.windowAfterPrint)},unbindEvents:function(){var d=this.eventBus,h=this._boundEvents;d.off("resize",v);d.off("hashchange",C);d.off("beforeprint",h.beforePrint);d.off("afterprint",h.afterPrint);d.off("pagerendered",c);d.off("textlayerrendered",b);d.off("updateviewarea",u);d.off("pagechanging",la);d.off("scalechanging",ja);d.off("rotationchanging",ka);d.off("sidebarviewchanged",e);d.off("pagemode",k);d.off("namedaction",g);d.off("presentationmodechanged",a);d.off("presentationmode",z);d.off("openfile",G);d.off("print",B);d.off("download",E);d.off("firstpage",O);d.off("lastpage",F);d.off("nextpage",ca);d.off("previouspage",P);d.off("zoomin",da);d.off("zoomout",U);d.off("zoomreset",Q);d.off("pagenumberchanged",K);d.off("scalechanged",M);d.off("rotatecw",N);d.off("rotateccw",ea);d.off("switchscrollmode",fa);d.off("scrollmodechanged",w);d.off("switchspreadmode",S);d.off("spreadmodechanged",x);d.off("documentproperties",R);d.off("find",H);d.off("findfromurlhash",ga);d.off("updatefindmatchescount",ha);d.off("updatefindcontrolstate",ia);d.off("fileinputchange",Y);h.beforePrint=null;h.afterPrint=null},unbindWindowEvents:function(){var a=this._boundEvents;window.removeEventListener("visibilitychange",ma);window.removeEventListener("wheel",oa);window.removeEventListener("click",pa);window.removeEventListener("keydown",qa);window.removeEventListener("resize",a.windowResize);window.removeEventListener("hashchange",a.windowHashChange);window.removeEventListener("beforeprint",a.windowBeforePrint);window.removeEventListener("afterprint",a.windowAfterPrint);a.windowResize=null;a.windowHashChange=null;a.windowBeforePrint=null;a.windowAfterPrint=null}};f.PDFViewerApplication=t;var Z,La=["null","http://mozilla.github.io","https://mozilla.github.io"];Z=function(a){if(void 0!==a)try{var e=(new D.URL(window.location.href)).origin||"null";La.includes(e)||new D.URL(a,window.location.href)}catch(T){var b=T&&T.message;t.l10n.get("loading_error",null,"An error occurred while loading the PDF.").then(function(a){t.error(a,{message:b})});throw T;}};var aa;aa=function(a){if(a&&0===a.lastIndexOf("file:",0)){t.setTitleUsingUrl(a);var e=new XMLHttpRequest;e.onload=function(){t.open(new Uint8Array(e.response))};e.open("GET",a);e.responseType="arraybuffer";e.send()}else a&&t.open(a)};var Y;Y=function(a){if(!t.pdfViewer||!t.pdfViewer.isInPresentationMode){a=a.fileInput.files[0];if(D.URL.createObjectURL&&!y.AppOptions.get("disableCreateObjectURL")){var e=D.URL.createObjectURL(a);a.name&&(e={url:e,originalUrl:a.name});t.open(e)}else t.setTitleUsingUrl(a.name),e=new FileReader,e.onload=function(a){t.open(new Uint8Array(a.target.result))},e.readAsArrayBuffer(a);a=t.appConfig;a.toolbar.viewBookmark.setAttribute("hidden","true");a.secondaryToolbar.viewBookmarkButton.setAttribute("hidden","true");a.toolbar.download.setAttribute("hidden","true");a.secondaryToolbar.downloadButton.setAttribute("hidden","true")}};var V=null,X={instance:{supportsPrinting:!1,createPrintService:function(){throw Error("Not implemented: createPrintService");}}};f.PDFPrintServiceFactory=X},function(q,f,m){q.exports=m(3)},function(q,f,m){(function(f){function n(f){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(f){return typeof f}:function(f){return f&&"function"===typeof Symbol&&f.constructor===Symbol&&f!==Symbol.prototype?"symbol":typeof f};return n(f)}f=function(f){function l(e,b,c,g){b=Object.create((b&&b.prototype instanceof d?b:d).prototype);g=new x(g||[]);b._invoke=a(e,c,g);return b}function h(a,e,b){try{return{type:"normal",arg:a.call(e,b)}}catch(R){return{type:"throw",arg:R}}}function d(){}function c(){}function b(){}function k(a){["next","throw","return"].forEach(function(e){a[e]=function(a){return this._invoke(e,a)}})}function g(a){function e(b,c,d,g){b=h(a[b],a,c);if("throw"===b.type)g(b.arg);else{var k=b.arg;return(b=k.value)&&"object"===n(b)&&G.call(b,"__await")?Promise.resolve(b.__await).then(function(a){e("next",a,d,g)},function(a){e("throw",a,d,g)}):Promise.resolve(b).then(function(a){k.value=a;d(k)},function(a){return e("throw",a,d,g)})}}var b;this._invoke=function(a,c){function d(){return new Promise(function(b,d){e(a,c,b,d)})}return b=b?b.then(d,d):d()}}function a(a,b,c){var d=p;return function(g,k){if(d===U)throw Error("Generator is already running");if(d===Q){if("throw"===g)throw k;return C()}c.method=g;for(c.arg=k;;){if(g=c.delegate)if(g=e(g,c)){if(g===K)continue;return g}if("next"===c.method)c.sent=c._sent=c.arg;else if("throw"===c.method){if(d===p)throw d=Q,c.arg;c.dispatchException(c.arg)}else"return"===c.method&&c.abrupt("return",c.arg);d=U;g=h(a,b,c);if("normal"===g.type){d=c.done?Q:q;if(g.arg===K)continue;return{value:g.arg,done:c.done}}"throw"===g.type&&(d=Q,c.method="throw",c.arg=g.arg)}}}function e(a,b){var c=a.iterator[b.method];if(c===B){b.delegate=null;if("throw"===b.method){if(a.iterator["return"]&&(b.method="return",b.arg=B,e(a,b),"throw"===b.method))return K;b.method="throw";b.arg=new TypeError("The iterator does not provide a 'throw' method")}return K}c=h(c,a.iterator,b.arg);if("throw"===c.type)return b.method="throw",b.arg=c.arg,b.delegate=null,K;c=c.arg;if(!c)return b.method="throw",b.arg=new TypeError("iterator result is not an object"),b.delegate=null,K;if(c.done)b[a.resultName]=c.value,b.next=a.nextLoc,"return"!==b.method&&(b.method="next",b.arg=B);else return c;b.delegate=null;return K}function u(a){var e={tryLoc:a[0]};1 in a&&(e.catchLoc=a[1]);2 in a&&(e.finallyLoc=a[2],e.afterLoc=a[3]);this.tryEntries.push(e)}function w(a){var e=a.completion||{};e.type="normal";delete e.arg;a.completion=e}function x(a){this.tryEntries=[{tryLoc:"root"}];a.forEach(u,this);this.reset(!0)}function v(a){if(a){var e=a[r];if(e)return e.call(a);if("function"===typeof a.next)return a;if(!isNaN(a.length)){var b=-1,e=function H(){for(;++b<a.length;)if(G.call(a,b))return H.value=a[b],H.done=!1,H;H.value=B;H.done=!0;return H};return e.next=e}}return{next:C}}function C(){return{value:B,done:!0}}var z=Object.prototype,G=z.hasOwnProperty,B,E="function"===typeof Symbol?Symbol:{},r=E.iterator||"@@iterator",F=E.asyncIterator||"@@asyncIterator",m=E.toStringTag||"@@toStringTag";f.wrap=l;var p="suspendedStart",q="suspendedYield",U="executing",Q="completed",K={},E={};E[r]=function(){return this};var M=Object.getPrototypeOf;(M=M&&M(M(v([]))))&&M!==z&&G.call(M,r)&&(E=M);var N=b.prototype=d.prototype=Object.create(E);c.prototype=N.constructor=b;b.constructor=c;b[m]=c.displayName="GeneratorFunction";f.isGeneratorFunction=function(a){return(a="function"===typeof a&&a.constructor)?a===c||"GeneratorFunction"===(a.displayName||a.name):!1};f.mark=function(a){Object.setPrototypeOf?Object.setPrototypeOf(a,b):(a.__proto__=b,m in a||(a[m]="GeneratorFunction"));a.prototype=Object.create(N);return a};f.awrap=function(a){return{__await:a}};k(g.prototype);g.prototype[F]=function(){return this};f.AsyncIterator=g;f.async=function(a,e,b,c){var d=new g(l(a,e,b,c));return f.isGeneratorFunction(e)?d:d.next().then(function(a){return a.done?a.value:d.next()})};k(N);N[m]="Generator";N[r]=function(){return this};N.toString=function(){return"[object Generator]"};f.keys=function(a){var e=[],b;for(b in a)e.push(b);e.reverse();return function H(){for(;e.length;){var b=e.pop();if(b in a)return H.value=b,H.done=!1,H}H.done=!0;return H}};f.values=v;x.prototype={constructor:x,reset:function(a){this.next=this.prev=0;this.sent=this._sent=B;this.done=!1;this.delegate=null;this.method="next";this.arg=B;this.tryEntries.forEach(w);if(!a)for(var e in this)"t"===e.charAt(0)&&G.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=B)},stop:function(){this.done=!0;var a=this.tryEntries[0].completion;if("throw"===a.type)throw a.arg;return this.rval},dispatchException:function(a){function e(e,c){g.type="throw";g.arg=a;b.next=e;c&&(b.method="next",b.arg=B);return!!c}if(this.done)throw a;for(var b=this,c=this.tryEntries.length-1;0<=c;--c){var d=this.tryEntries[c],g=d.completion;if("root"===d.tryLoc)return e("end");if(d.tryLoc<=this.prev){var k=G.call(d,"catchLoc"),u=G.call(d,"finallyLoc");if(k&&u){if(this.prev<d.catchLoc)return e(d.catchLoc,!0);if(this.prev<d.finallyLoc)return e(d.finallyLoc)}else if(k){if(this.prev<d.catchLoc)return e(d.catchLoc,!0)}else if(u){if(this.prev<d.finallyLoc)return e(d.finallyLoc)}else throw Error("try statement without catch or finally");}}},abrupt:function(a,e){for(var b=this.tryEntries.length-1;0<=b;--b){var c=this.tryEntries[b];if(c.tryLoc<=this.prev&&G.call(c,"finallyLoc")&&this.prev<c.finallyLoc){var d=c;break}}d&&("break"===a||"continue"===a)&&d.tryLoc<=e&&e<=d.finallyLoc&&(d=null);b=d?d.completion:{};b.type=a;b.arg=e;return d?(this.method="next",this.next=d.finallyLoc,K):this.complete(b)},complete:function(a,e){if("throw"===a.type)throw a.arg;"break"===a.type||"continue"===a.type?this.next=a.arg:"return"===a.type?(this.rval=this.arg=a.arg,this.method="return",this.next="end"):"normal"===a.type&&e&&(this.next=e);return K},finish:function(a){for(var e=this.tryEntries.length-1;0<=e;--e){var b=this.tryEntries[e];if(b.finallyLoc===a)return this.complete(b.completion,b.afterLoc),w(b),K}},"catch":function(a){for(var e=this.tryEntries.length-1;0<=e;--e){var b=this.tryEntries[e];if(b.tryLoc===a){a=b.completion;if("throw"===a.type){var c=a.arg;w(b)}return c}}throw Error("illegal catch attempt");},delegateYield:function(a,e,b){this.delegate={iterator:v(a),resultName:e,nextLoc:b};"next"===this.method&&(this.arg=B);return K}};return f}("object"===n(f)?f.exports:{});try{regeneratorRuntime=f}catch(p){Function("r","regeneratorRuntime \x3d r")(f)}}).call(this,m(4)(q))},function(q,f,m){q.exports=function(f){f.webpackPolyfill||(f.deprecate=function(){},f.paths=[],f.children||(f.children=[]),Object.defineProperty(f,"loaded",{enumerable:!0,get:function(){return f.l}}),Object.defineProperty(f,"id",{enumerable:!0,get:function(){return f.i}}),f.webpackPolyfill=1);return f}},function(q,f,m){function n(a,e){if(!(a instanceof e))throw new TypeError("Cannot call a class as a function");}function r(a,e){for(var b=0;b<e.length;b++){var c=e[b];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}function p(a,e,b){e&&r(a.prototype,e);b&&r(a,b);return a}function l(a){l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return l(a)}function h(a,e,b,c,d,g,k){try{var u=a[g](k),v=u.value}catch(P){b(P);return}u.done?e(v):Promise.resolve(v).then(c,d)}function d(a){return function(){var e=this,b=arguments;return new Promise(function(c,d){function g(a){h(u,c,d,g,k,"next",a)}function k(a){h(u,c,d,g,k,"throw",a)}var u=a.apply(e,b);g(void 0)})}}function c(a,e){return e?a.replace(/\{\{\s*(\w+)\s*\}\}/g,function(a,b){return b in e?e[b]:"{{"+b+"}}"}):a}function b(a,e){var b=0,c=a.length-1;if(0===a.length||!e(a[c]))return a.length;if(e(a[b]))return b;for(;b<c;){var d=b+c>>1;e(a[d])?c=d:b=d+1}return b}function k(a,e,b){if(2>a)return a;var c=e[a].div,d=c.offsetTop+c.clientTop;d>=b&&(c=e[a-1].div,d=c.offsetTop+c.clientTop);for(b=a-2;0<=b;--b){c=e[b].div;if(c.offsetTop+c.clientTop+c.clientHeight<=d)break;a=b}return a}Object.defineProperty(f,"__esModule",{value:!0});f.isValidRotation=function(a){return Number.isInteger(a)&&0===a%90};f.isValidScrollMode=function(e){return Number.isInteger(e)&&Object.values(a).includes(e)&&e!==a.UNKNOWN};f.isValidSpreadMode=function(a){return Number.isInteger(a)&&Object.values(e).includes(a)&&a!==e.UNKNOWN};f.isPortraitOrientation=function(a){return a.width<=a.height};f.getGlobalEventBus=function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;x||(x=new w({dispatchToDOM:a}));return x};f.getPDFFileNameFromURL=function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof a)return e;for(var b=0,c=a.length;b<c&&""===a[b].trim();)b++;if("data:"===a.substring(b,b+5).toLowerCase())return console.warn('getPDFFileNameFromURL: ignoring "data:" URL for performance reasons.'),e;b=/[^\/?#=]+\.pdf\b(?!.*\.pdf\b)/i;c=/^(?:(?:[^:]+:)?\/\/[^\/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(a);if(c=b.exec(c[1])||b.exec(c[2])||b.exec(c[3]))if(c=c[0],c.includes("%"))try{c=b.exec(decodeURIComponent(c))[0]}catch(B){}return c||e};f.noContextMenuHandler=function(a){a.preventDefault()};f.parseQueryString=function(a){a=a.split("\x26");for(var e=Object.create(null),b=0,c=a.length;b<c;++b){var d=a[b].split("\x3d"),g=d[0].toLowerCase(),d=1<d.length?d[1]:null;e[decodeURIComponent(g)]=decodeURIComponent(d)}return e};f.backtrackBeforeAllVisibleElements=k;f.getVisibleElements=function(a,e){function c(a){a=a.div;return a.offsetTop+a.clientTop+a.clientHeight>v}function d(a){a=a.div;return a.offsetLeft+a.clientLeft+a.clientWidth>h}var g=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,u=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,v=a.scrollTop,w=v+a.clientHeight,h=a.scrollLeft,x=h+a.clientWidth,C=[],f=e.length,l=0===f?0:b(e,u?d:c);0<l&&l<f&&!u&&(l=k(l,e,v));for(var r=u?x:-1;l<f;l++){var n=e[l],m=n.div,p=m.offsetLeft+m.clientLeft,q=m.offsetTop+m.clientTop,S=m.clientWidth,m=m.clientHeight,R=p+S,H=q+m;if(-1===r)H>=w&&(r=H);else if((u?p:q)>r)break;H<=v||q>=w||R<=h||p>=x||C.push({id:n.id,x:p,y:q,view:n,percent:(m-(Math.max(0,v-q)+Math.max(0,H-w)))*(S-(Math.max(0,h-p)+Math.max(0,R-x)))*100/m/S|0})}u=C[0];w=C[C.length-1];g&&C.sort(function(a,e){var b=a.percent-e.percent;return.001<Math.abs(b)?-b:a.id-e.id});return{first:u,last:w,views:C}};f.roundToDivide=function(a,e){var b=a%e;return 0===b?a:Math.round(a-b+e)};f.getPageSizeInches=function(a){var e=a.userUnit,b=a.rotate;a=a.view;var c,d;d=Array.isArray(a)?a:void 0;if(!d){d=[];var g=!0,k=!1,u=void 0;try{c=a[Symbol.iterator]();for(var w;!(g=(w=c.next()).done)&&(d.push(w.value),4!==d.length);g=!0);}catch(P){k=!0,u=P}finally{try{if(!g&&null!=c["return"])c["return"]()}finally{if(k)throw u;}}}if(!(c=d))throw new TypeError("Invalid attempt to destructure non-iterable instance");b=0!==b%180;w=(c[2]-c[0])/72*e;e*=(c[3]-c[1])/72;return{width:b?e:w,height:b?w:e}};f.approximateFraction=function(a){if(Math.floor(a)===a)return[a,1];var e=1/a;if(8<e)return[1,8];if(Math.floor(e)===e)return[1,e];for(var e=1<a?e:a,b=0,c=1,d=1,g=1;;){var k=b+d,u=c+g;if(8<u)break;e<=k/u?(d=k,g=u):(b=k,c=u)}return e-b/c<d/g-e?e===a?[b,c]:[c,b]:e===a?[d,g]:[g,d]};f.getOutputScale=function(a){a=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1);return{sx:a,sy:a,scaled:1!==a}};f.scrollIntoView=function(a,e){var b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,c=a.offsetParent;if(c){for(var d=a.offsetTop+a.clientTop,g=a.offsetLeft+a.clientLeft;c.clientHeight===c.scrollHeight&&c.clientWidth===c.scrollWidth||b&&"hidden"===getComputedStyle(c).overflow;)if(c.dataset._scaleY&&(d/=c.dataset._scaleY,g/=c.dataset._scaleX),d+=c.offsetTop,g+=c.offsetLeft,c=c.offsetParent,!c)return;e&&(void 0!==e.top&&(d+=e.top),void 0!==e.left&&(g+=e.left,c.scrollLeft=g));c.scrollTop=d}else console.error("offsetParent is not set -- cannot scroll")};f.watchScroll=function(a,e){var b=function(b){d||(d=window.requestAnimationFrame(function(){d=null;var b=a.scrollLeft,g=c.lastX;b!==g&&(c.right=b>g);c.lastX=b;b=a.scrollTop;g=c.lastY;b!==g&&(c.down=b>g);c.lastY=b;e(c)}))},c={right:!0,down:!0,lastX:a.scrollLeft,lastY:a.scrollTop,_eventHandler:b},d=null;a.addEventListener("scroll",b,!0);return c};f.binarySearchFirstItem=b;f.normalizeWheelEventDelta=function(a){var e=Math.sqrt(a.deltaX*a.deltaX+a.deltaY*a.deltaY),b=Math.atan2(a.deltaY,a.deltaX);-.25*Math.PI<b&&b<.75*Math.PI&&(e=-e);0===a.deltaMode?e/=900:1===a.deltaMode&&(e/=30);return e};f.waitOnEventOrTimeout=function(a){var e=a.target,b=a.name;a=a.delay;var c=void 0===a?0:a;return new Promise(function(a,d){function g(c){e instanceof w?e.off(b,k):e.removeEventListener(b,k);v&&clearTimeout(v);a(c)}if(!("object"===l(e)&&b&&"string"===typeof b&&Number.isInteger(c)&&0<=c))throw Error("waitOnEventOrTimeout - invalid parameters.");var k=g.bind(null,u.EVENT);if(e instanceof w)e.on(b,k);else e.addEventListener(b,k);d=g.bind(null,u.TIMEOUT);var v=setTimeout(d,c)})};f.moveToEndOfArray=function(a,e){for(var b=[],c=a.length,d=0,g=0;g<c;++g)e(a[g])?b.push(a[g]):(a[d]=a[g],++d);for(e=0;d<c;++e,++d)a[d]=b[e]};f.WaitOnType=f.animationStarted=f.ProgressBar=f.EventBus=f.NullL10n=f.SpreadMode=f.ScrollMode=f.TextLayerMode=f.RendererType=f.PresentationModeState=f.VERTICAL_PADDING=f.SCROLLBAR_PADDING=f.MAX_AUTO_SCALE=f.UNKNOWN_SCALE=f.MAX_SCALE=f.MIN_SCALE=f.DEFAULT_SCALE=f.DEFAULT_SCALE_VALUE=f.CSS_UNITS=void 0;var g=function(a){return a&&a.__esModule?a:{"default":a}}(m(2));f.CSS_UNITS=96/72;f.DEFAULT_SCALE_VALUE="auto";f.DEFAULT_SCALE=1;f.MIN_SCALE=.1;f.MAX_SCALE=10;f.UNKNOWN_SCALE=0;f.MAX_AUTO_SCALE=1.25;f.SCROLLBAR_PADDING=40;f.VERTICAL_PADDING=5;f.PresentationModeState={UNKNOWN:0,NORMAL:1,CHANGING:2,FULLSCREEN:3};f.RendererType={CANVAS:"canvas",SVG:"svg"};f.TextLayerMode={DISABLE:0,ENABLE:1,ENABLE_ENHANCE:2};var a={UNKNOWN:-1,VERTICAL:0,HORIZONTAL:1,WRAPPED:2};f.ScrollMode=a;var e={UNKNOWN:-1,NONE:0,ODD:1,EVEN:2};f.SpreadMode=e;q={getLanguage:function(){var a=d(g["default"].mark(function z(){return g["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return","en-us");case 1:case "end":return a.stop()}},z)}));return function(){return a.apply(this,arguments)}}(),getDirection:function(){var a=d(g["default"].mark(function z(){return g["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return","ltr");case 1:case "end":return a.stop()}},z)}));return function(){return a.apply(this,arguments)}}(),get:function(){var a=d(g["default"].mark(function z(a,e,b){return g["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",c(b,e));case 1:case "end":return a.stop()}},z)}));return function(e,b,c){return a.apply(this,arguments)}}(),translate:function(){var a=d(g["default"].mark(function z(a){return g["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:case "end":return a.stop()}},z)}));return function(e){return a.apply(this,arguments)}}()};f.NullL10n=q;var u={EVENT:"event",TIMEOUT:"timeout"};f.WaitOnType=u;q=new Promise(function(a){window.requestAnimationFrame(a)});f.animationStarted=q;var w=function(){function a(){var e=(0<arguments.length&&void 0!==arguments[0]?arguments[0]:{}).dispatchToDOM,e=void 0===e?!1:e;n(this,a);this._listeners=Object.create(null);this._dispatchToDOM=!0===e}p(a,[{key:"on",value:function(a,e){var b=this._listeners[a];b||(b=[],this._listeners[a]=b);b.push(e)}},{key:"off",value:function(a,e){a=this._listeners[a];var b;!a||0>(b=a.indexOf(e))||a.splice(b,1)}},{key:"dispatch",value:function(a){var e=this._listeners[a];if(e&&0!==e.length){var b=Array.prototype.slice.call(arguments,1);e.slice(0).forEach(function(a){a.apply(null,b)});this._dispatchToDOM&&this._dispatchDOMEvent(a,b)}else this._dispatchToDOM&&(e=Array.prototype.slice.call(arguments,1),this._dispatchDOMEvent(a,e))}},{key:"_dispatchDOMEvent",value:function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,b=Object.create(null);if(e&&0<e.length){var e=e[0],c;for(c in e){var d=e[c];if("source"===c){if(d===window||d===document)return}else b[c]=d}}c=document.createEvent("CustomEvent");c.initCustomEvent(a,!0,!0,b);document.dispatchEvent(c)}}]);return a}();f.EventBus=w;var x=null;q=function(){function a(e){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},c=b.height,d=b.width,b=b.units;n(this,a);this.visible=!0;this.div=document.querySelector(e+" .progress");this.bar=this.div.parentNode;this.height=c||100;this.width=d||100;this.units=b||"%";this.div.style.height=this.height+this.units;this.percent=0}p(a,[{key:"_updateBar",value:function(){this._indeterminate?(this.div.classList.add("indeterminate"),this.div.style.width=this.width+this.units):(this.div.classList.remove("indeterminate"),this.div.style.width=this.width*this._percent/100+this.units)}},{key:"setWidth",value:function(a){a&&(a=a.parentNode.offsetWidth-a.offsetWidth,0<a&&this.bar.setAttribute("style","width: calc(100% - "+a+"px);"))}},{key:"hide",value:function(){this.visible&&(this.visible=!1,this.bar.classList.add("hidden"),document.body.classList.remove("loadingInProgress"))}},{key:"show",value:function(){this.visible||(this.visible=!0,document.body.classList.add("loadingInProgress"),this.bar.classList.remove("hidden"))}},{key:"percent",get:function(){return this._percent},set:function(a){this._indeterminate=isNaN(a);this._percent=Math.min(Math.max(a,0),100);this._updateBar()}}]);return a}();f.ProgressBar=q},function(q,f,m){function n(c){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return n(c)}function r(c,b){for(var d=0;d<b.length;d++){var g=b[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}function p(c,b,d){b&&r(c.prototype,b);d&&r(c,d);return c}Object.defineProperty(f,"__esModule",{value:!0});f.OptionKind=f.AppOptions=void 0;q=m(7);m=m(8);var l={VIEWER:2,API:4,WORKER:8,PREFERENCE:128};f.OptionKind=l;var h={cursorToolOnLoad:{value:0,kind:l.VIEWER+l.PREFERENCE},defaultUrl:{value:"compressed.tracemonkey-pldi-09.pdf",kind:l.VIEWER},defaultZoomValue:{value:"",kind:l.VIEWER+l.PREFERENCE},disableHistory:{value:!1,kind:l.VIEWER},disablePageLabels:{value:!1,kind:l.VIEWER+l.PREFERENCE},enablePrintAutoRotate:{value:!1,kind:l.VIEWER+l.PREFERENCE},enableWebGL:{value:!1,kind:l.VIEWER+l.PREFERENCE},eventBusDispatchToDOM:{value:!1,kind:l.VIEWER+l.PREFERENCE},externalLinkRel:{value:"noopener noreferrer nofollow",kind:l.VIEWER},externalLinkTarget:{value:0,kind:l.VIEWER+l.PREFERENCE},historyUpdateUrl:{value:!1,kind:l.VIEWER+l.PREFERENCE},imageResourcesPath:{value:"./images/",kind:l.VIEWER},maxCanvasPixels:{value:16777216,compatibility:m.viewerCompatibilityParams.maxCanvasPixels,kind:l.VIEWER},pdfBugEnabled:{value:!1,kind:l.VIEWER+l.PREFERENCE},renderer:{value:"canvas",kind:l.VIEWER+l.PREFERENCE},renderInteractiveForms:{value:!1,kind:l.VIEWER+l.PREFERENCE},sidebarViewOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},scrollModeOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},spreadModeOnLoad:{value:-1,kind:l.VIEWER+l.PREFERENCE},textLayerMode:{value:1,kind:l.VIEWER+l.PREFERENCE},useOnlyCssZoom:{value:!1,kind:l.VIEWER+l.PREFERENCE},viewOnLoad:{value:0,kind:l.VIEWER+l.PREFERENCE},cMapPacked:{value:!0,kind:l.API},cMapUrl:{value:"../web/cmaps/",kind:l.API},disableAutoFetch:{value:!1,kind:l.API+l.PREFERENCE},disableCreateObjectURL:{value:!1,compatibility:q.apiCompatibilityParams.disableCreateObjectURL,kind:l.API},disableFontFace:{value:!1,kind:l.API+l.PREFERENCE},disableRange:{value:!1,kind:l.API+l.PREFERENCE},disableStream:{value:!1,kind:l.API+l.PREFERENCE},isEvalSupported:{value:!0,kind:l.API},maxImageSize:{value:-1,kind:l.API},pdfBug:{value:!1,kind:l.API},postMessageTransfers:{value:!0,kind:l.API},verbosity:{value:1,kind:l.API},workerPort:{value:null,kind:l.WORKER},workerSrc:{value:"../build/pdf.worker.js",kind:l.WORKER}};h.disablePreferences={value:!1,kind:l.VIEWER};h.locale={value:"undefined"!==typeof navigator?navigator.language:"en-US",kind:l.VIEWER};h.printResolution={value:150,kind:l.VIEWER};var d=Object.create(null);m=function(){function c(){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");throw Error("Cannot initialize AppOptions.");}p(c,null,[{key:"get",value:function(b){var c=d[b];if(void 0!==c)return c;b=h[b];if(void 0!==b)return b.compatibility||b.value}},{key:"getAll",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,c=Object.create(null),g;for(g in h){var a=h[g];if(b){if(0===(b&a.kind))continue;if(b===l.PREFERENCE){var a=a.value,e=n(a);if("boolean"===e||"string"===e||"number"===e&&Number.isInteger(a)){c[g]=a;continue}throw Error("Invalid type for preference: ".concat(g));}}e=d[g];c[g]=void 0!==e?e:a.compatibility||a.value}return c}},{key:"set",value:function(b,c){d[b]=c}},{key:"remove",value:function(b){delete d[b]}}]);return c}();f.AppOptions=m},function(q,f,m){f="undefined"!==typeof window&&window["pdfjs-dist/build/pdf"]?window["pdfjs-dist/build/pdf"]:require("../build/pdf.js");q.exports=f},function(q,f,m){q=Object.create(null);m="undefined"!==typeof navigator&&navigator.userAgent||"";var n=/Android/.test(m);if(/\b(iPad|iPhone|iPod)(?=;)/.test(m)||n)q.maxCanvasPixels=5242880;f.viewerCompatibilityParams=Object.freeze(q)},function(q,f,m){function n(h,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(h,b.key,b)}}function r(h,d,c){d&&n(h.prototype,d);c&&n(h,c);return h}Object.defineProperty(f,"__esModule",{value:!0});f.PDFCursorTools=f.CursorTool=void 0;var p=m(10),l={SELECT:0,HAND:1,ZOOM:2};f.CursorTool=l;q=function(){function h(d){var c=this,b=d.container,k=d.eventBus;d=d.cursorToolOnLoad;var g=void 0===d?l.SELECT:d;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.container=b;this.eventBus=k;this.active=l.SELECT;this.activeBeforePresentationMode=null;this.handTool=new p.GrabToPan({element:this.container});this._addEventListeners();Promise.resolve().then(function(){c.switchTool(g)})}r(h,[{key:"switchTool",value:function(d){var c=this;if(null===this.activeBeforePresentationMode&&d!==this.active){var b=function(){switch(c.active){case l.HAND:c.handTool.deactivate()}};switch(d){case l.SELECT:b();break;case l.HAND:b();this.handTool.activate();break;default:console.error('switchTool: "'.concat(d,'" is an unsupported value.'));return}this.active=d;this._dispatchEvent()}}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("cursortoolchanged",{source:this,tool:this.active})}},{key:"_addEventListeners",value:function(){var d=this;this.eventBus.on("switchcursortool",function(c){d.switchTool(c.tool)});this.eventBus.on("presentationmodechanged",function(c){c.switchInProgress||(c.active?(c=d.active,d.switchTool(l.SELECT),d.activeBeforePresentationMode=c):(c=d.activeBeforePresentationMode,d.activeBeforePresentationMode=null,d.switchTool(c)))})}},{key:"activeTool",get:function(){return this.active}}]);return h}();f.PDFCursorTools=q},function(q,f,m){function n(d){this.element=d.element;this.document=d.element.ownerDocument;"function"===typeof d.ignoreTarget&&(this.ignoreTarget=d.ignoreTarget);this.onActiveChanged=d.onActiveChanged;this.activate=this.activate.bind(this);this.deactivate=this.deactivate.bind(this);this.toggle=this.toggle.bind(this);this._onmousedown=this._onmousedown.bind(this);this._onmousemove=this._onmousemove.bind(this);this._endPan=this._endPan.bind(this);(this.overlay=document.createElement("div")).className="grab-to-pan-grabbing"}Object.defineProperty(f,"__esModule",{value:!0});f.GrabToPan=n;n.prototype={CSS_CLASS_GRAB:"grab-to-pan-grab",activate:function(){if(!this.active&&(this.active=!0,this.element.addEventListener("mousedown",this._onmousedown,!0),this.element.classList.add(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!0)},deactivate:function(){if(this.active&&(this.active=!1,this.element.removeEventListener("mousedown",this._onmousedown,!0),this._endPan(),this.element.classList.remove(this.CSS_CLASS_GRAB),this.onActiveChanged))this.onActiveChanged(!1)},toggle:function(){this.active?this.deactivate():this.activate()},ignoreTarget:function(d){return d[r]("a[href], a[href] *, input, textarea, button, button *, select, option")},_onmousedown:function(d){if(0===d.button&&!this.ignoreTarget(d.target)){if(d.originalTarget)try{d.originalTarget.tagName}catch(b){return}this.scrollLeftStart=this.element.scrollLeft;this.scrollTopStart=this.element.scrollTop;this.clientXStart=d.clientX;this.clientYStart=d.clientY;this.document.addEventListener("mousemove",this._onmousemove,!0);this.document.addEventListener("mouseup",this._endPan,!0);this.element.addEventListener("scroll",this._endPan,!0);d.preventDefault();d.stopPropagation();var c=document.activeElement;c&&!c.contains(d.target)&&c.blur()}},_onmousemove:function(d){this.element.removeEventListener("scroll",this._endPan,!0);var c;c="buttons"in d&&p?!(d.buttons&1):l||h?0===d.which:!1;c?this._endPan():(c=this.scrollTopStart-(d.clientY-this.clientYStart),d=this.scrollLeftStart-(d.clientX-this.clientXStart),this.element.scrollTo?this.element.scrollTo({top:c,left:d,behavior:"instant"}):(this.element.scrollTop=c,this.element.scrollLeft=d),this.overlay.parentNode||document.body.appendChild(this.overlay))},_endPan:function(){this.element.removeEventListener("scroll",this._endPan,!0);this.document.removeEventListener("mousemove",this._onmousemove,!0);this.document.removeEventListener("mouseup",this._endPan,!0);this.overlay.remove()}};var r;["webkitM","mozM","msM","oM","m"].some(function(d){d+="atches";d in document.documentElement&&(r=d);d+="Selector";d in document.documentElement&&(r=d);return r});var p=!document.documentMode||9<document.documentMode,l=(q=window.chrome)&&(q.webstore||q.app),h=/Apple/.test(navigator.vendor)&&/Version\/([6-9]\d*|[1-5]\d+)/.test(navigator.userAgent)},function(q,f,m){function n(f,h){for(var d=0;d<h.length;d++){var c=h[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(f,c.key,c)}}function r(f,h,d){h&&n(f.prototype,h);d&&n(f,d);return f}Object.defineProperty(f,"__esModule",{value:!0});f.PDFRenderingQueue=f.RenderingStates=void 0;var p={INITIAL:0,RUNNING:1,PAUSED:2,FINISHED:3};f.RenderingStates=p;q=function(){function f(){if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.idleTimeout=this.highestPriorityPage=this.onIdle=this.pdfThumbnailViewer=this.pdfViewer=null;this.isThumbnailViewEnabled=this.printing=!1}r(f,[{key:"setViewer",value:function(h){this.pdfViewer=h}},{key:"setThumbnailViewer",value:function(h){this.pdfThumbnailViewer=h}},{key:"isHighestPriority",value:function(h){return this.highestPriorityPage===h.renderingId}},{key:"renderHighestPriority",value:function(h){this.idleTimeout&&(clearTimeout(this.idleTimeout),this.idleTimeout=null);this.pdfViewer.forceRendering(h)||this.pdfThumbnailViewer&&this.isThumbnailViewEnabled&&this.pdfThumbnailViewer.forceRendering()||this.printing||!this.onIdle||(this.idleTimeout=setTimeout(this.onIdle.bind(this),3E4))}},{key:"getHighestPriority",value:function(h,d,c){var b=h.views,k=b.length;if(0===k)return null;for(var g=0;g<k;++g){var a=b[g].view;if(!this.isViewFinished(a))return a}h=c?h.last.id:h.first.id-2;return d[h]&&!this.isViewFinished(d[h])?d[h]:null}},{key:"isViewFinished",value:function(h){return h.renderingState===p.FINISHED}},{key:"renderView",value:function(h){var d=this;switch(h.renderingState){case p.FINISHED:return!1;case p.PAUSED:this.highestPriorityPage=h.renderingId;h.resume();break;case p.RUNNING:this.highestPriorityPage=h.renderingId;break;case p.INITIAL:this.highestPriorityPage=h.renderingId,h.draw()["finally"](function(){d.renderHighestPriority()})}return!0}}]);return f}();f.PDFRenderingQueue=q},function(q,f,m){function n(d,c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(d,k.key,k)}}function r(d,c,b){c&&n(d.prototype,c);b&&n(d,b);return d}Object.defineProperty(f,"__esModule",{value:!0});f.PDFSidebar=f.SidebarView=void 0;var p=m(5),l=m(11),h={UNKNOWN:-1,NONE:0,THUMBS:1,OUTLINE:2,ATTACHMENTS:3,LAYERS:4};f.SidebarView=h;q=function(){function d(c){var b=c.elements,k=c.pdfViewer,g=c.pdfThumbnailViewer,a=c.eventBus,e=c.l10n,e=void 0===e?p.NullL10n:e;c=c.disableNotification;c=void 0===c?!1:c;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.isOpen=!1;this.active=h.THUMBS;this.isInitialViewSet=!1;this.onToggled=null;this.pdfViewer=k;this.pdfThumbnailViewer=g;this.outerContainer=b.outerContainer;this.viewerContainer=b.viewerContainer;this.toggleButton=b.toggleButton;this.thumbnailButton=b.thumbnailButton;this.outlineButton=b.outlineButton;this.attachmentsButton=b.attachmentsButton;this.thumbnailView=b.thumbnailView;this.outlineView=b.outlineView;this.attachmentsView=b.attachmentsView;this.eventBus=a;this.l10n=e;this._disableNotification=c;this._addEventListeners()}r(d,[{key:"reset",value:function(){this.isInitialViewSet=!1;this._hideUINotification(null);this.switchView(h.THUMBS);this.outlineButton.disabled=!1;this.attachmentsButton.disabled=!1}},{key:"setInitialView",value:function(){var c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:h.NONE;this.isInitialViewSet||(this.isInitialViewSet=!0,c===h.NONE||c===h.UNKNOWN?this._dispatchEvent():this._switchView(c,!0)||this._dispatchEvent())}},{key:"switchView",value:function(c){this._switchView(c,1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)}},{key:"_switchView",value:function(c){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,d=c!==this.active,g=!1;switch(c){case h.NONE:return this.isOpen?(this.close(),!0):!1;case h.THUMBS:this.isOpen&&d&&(g=!0);break;case h.OUTLINE:if(this.outlineButton.disabled)return!1;break;case h.ATTACHMENTS:if(this.attachmentsButton.disabled)return!1;break;default:return console.error('PDFSidebar._switchView: "'.concat(c,'" is not a valid view.')),!1}this.active=c;this.thumbnailButton.classList.toggle("toggled",c===h.THUMBS);this.outlineButton.classList.toggle("toggled",c===h.OUTLINE);this.attachmentsButton.classList.toggle("toggled",c===h.ATTACHMENTS);this.thumbnailView.classList.toggle("hidden",c!==h.THUMBS);this.outlineView.classList.toggle("hidden",c!==h.OUTLINE);this.attachmentsView.classList.toggle("hidden",c!==h.ATTACHMENTS);if(b&&!this.isOpen)return this.open(),!0;g&&(this._updateThumbnailViewer(),this._forceRendering());d&&this._dispatchEvent();this._hideUINotification(this.active);return d}},{key:"open",value:function(){this.isOpen||(this.isOpen=!0,this.toggleButton.classList.add("toggled"),this.outerContainer.classList.add("sidebarMoving","sidebarOpen"),this.active===h.THUMBS&&this._updateThumbnailViewer(),this._forceRendering(),this._dispatchEvent(),this._hideUINotification(this.active))}},{key:"close",value:function(){this.isOpen&&(this.isOpen=!1,this.toggleButton.classList.remove("toggled"),this.outerContainer.classList.add("sidebarMoving"),this.outerContainer.classList.remove("sidebarOpen"),this._forceRendering(),this._dispatchEvent())}},{key:"toggle",value:function(){this.isOpen?this.close():this.open()}},{key:"_dispatchEvent",value:function(){this.eventBus.dispatch("sidebarviewchanged",{source:this,view:this.visibleView})}},{key:"_forceRendering",value:function(){if(this.onToggled)this.onToggled();else this.pdfViewer.forceRendering(),this.pdfThumbnailViewer.forceRendering()}},{key:"_updateThumbnailViewer",value:function(){for(var c=this.pdfViewer,b=this.pdfThumbnailViewer,d=c.pagesCount,g=0;g<d;g++){var a=c.getPageView(g);a&&a.renderingState===l.RenderingStates.FINISHED&&b.getThumbnail(g).setImage(a)}b.scrollThumbnailIntoView(c.currentPageNumber)}},{key:"_showUINotification",value:function(c){var b=this;if(!this._disableNotification){this.l10n.get("toggle_sidebar_notification.title",null,"Toggle Sidebar (document contains outline/attachments)").then(function(c){b.toggleButton.title=c});if(!this.isOpen)this.toggleButton.classList.add("pdfSidebarNotification");else if(c===this.active)return;switch(c){case h.OUTLINE:this.outlineButton.classList.add("pdfSidebarNotification");break;case h.ATTACHMENTS:this.attachmentsButton.classList.add("pdfSidebarNotification")}}}},{key:"_hideUINotification",value:function(c){var b=this;if(!this._disableNotification){var d=function(c){switch(c){case h.OUTLINE:b.outlineButton.classList.remove("pdfSidebarNotification");break;case h.ATTACHMENTS:b.attachmentsButton.classList.remove("pdfSidebarNotification")}};if(this.isOpen||null===c)if(this.toggleButton.classList.remove("pdfSidebarNotification"),null!==c)d(c);else{for(c in h)d(h[c]);this.l10n.get("toggle_sidebar.title",null,"Toggle Sidebar").then(function(c){b.toggleButton.title=c})}}}},{key:"_addEventListeners",value:function(){var c=this;this.viewerContainer.addEventListener("transitionend",function(b){b.target===c.viewerContainer&&c.outerContainer.classList.remove("sidebarMoving")});this.thumbnailButton.addEventListener("click",function(){c.switchView(h.THUMBS)});this.outlineButton.addEventListener("click",function(){c.switchView(h.OUTLINE)});this.outlineButton.addEventListener("dblclick",function(){c.eventBus.dispatch("toggleoutlinetree",{source:c})});this.attachmentsButton.addEventListener("click",function(){c.switchView(h.ATTACHMENTS)});this.eventBus.on("outlineloaded",function(b){b=b.outlineCount;c.outlineButton.disabled=!b;b?c._showUINotification(h.OUTLINE):c.active===h.OUTLINE&&c.switchView(h.THUMBS)});this.eventBus.on("attachmentsloaded",function(b){b.attachmentsCount?(c.attachmentsButton.disabled=!1,c._showUINotification(h.ATTACHMENTS)):Promise.resolve().then(function(){c.attachmentsView.hasChildNodes()||(c.attachmentsButton.disabled=!0,c.active===h.ATTACHMENTS&&c.switchView(h.THUMBS))})});this.eventBus.on("presentationmodechanged",function(b){b.active||b.switchInProgress||!c.isThumbnailViewVisible||c._updateThumbnailViewer()})}},{key:"visibleView",get:function(){return this.isOpen?this.active:h.NONE}},{key:"isThumbnailViewVisible",get:function(){return this.isOpen&&this.active===h.THUMBS}},{key:"isOutlineViewVisible",get:function(){return this.isOpen&&this.active===h.OUTLINE}},{key:"isAttachmentsViewVisible",get:function(){return this.isOpen&&this.active===h.ATTACHMENTS}}]);return d}();f.PDFSidebar=q},function(q,f,m){function n(d,c,b,k,g,a,e){try{var u=d[a](e),w=u.value}catch(x){b(x);return}u.done?c(w):Promise.resolve(w).then(k,g)}function r(d){return function(){var c=this,b=arguments;return new Promise(function(k,g){function a(b){n(u,k,g,a,e,"next",b)}function e(b){n(u,k,g,a,e,"throw",b)}var u=d.apply(c,b);a(void 0)})}}function p(d,c){for(var b=0;b<c.length;b++){var k=c[b];k.enumerable=k.enumerable||!1;k.configurable=!0;"value"in k&&(k.writable=!0);Object.defineProperty(d,k.key,k)}}function l(d,c,b){c&&p(d.prototype,c);b&&p(d,b);return d}Object.defineProperty(f,"__esModule",{value:!0});f.OverlayManager=void 0;var h=function(d){return d&&d.__esModule?d:{"default":d}}(m(2));q=function(){function d(){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this._overlays={};this._active=null;this._keyDownBound=this._keyDown.bind(this)}l(d,[{key:"register",value:function(){var c=r(h["default"].mark(function k(c,a){var e,d,g,x=arguments;return h["default"].wrap(function(k){for(;;)switch(k.prev=k.next){case 0:e=2<x.length&&void 0!==x[2]?x[2]:null;d=3<x.length&&void 0!==x[3]?x[3]:!1;if(c&&a&&(g=a.parentNode)){k.next=6;break}throw Error("Not enough parameters.");case 6:if(!this._overlays[c]){k.next=8;break}throw Error("The overlay is already registered.");case 8:this._overlays[c]={element:a,container:g,callerCloseMethod:e,canForceClose:d};case 9:case "end":return k.stop()}},k,this)}));return function(d,g){return c.apply(this,arguments)}}()},{key:"unregister",value:function(){var c=r(h["default"].mark(function k(c){return h["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._overlays[c]){a.next=4;break}throw Error("The overlay does not exist.");case 4:if(this._active!==c){a.next=6;break}throw Error("The overlay cannot be removed while it is active.");case 6:delete this._overlays[c];case 7:case "end":return a.stop()}},k,this)}));return function(d){return c.apply(this,arguments)}}()},{key:"open",value:function(){var c=r(h["default"].mark(function k(c){return h["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._overlays[c]){a.next=4;break}throw Error("The overlay does not exist.");case 4:if(!this._active){a.next=14;break}if(!this._overlays[c].canForceClose){a.next=9;break}this._closeThroughCaller();a.next=14;break;case 9:if(this._active!==c){a.next=13;break}throw Error("The overlay is already active.");case 13:throw Error("Another overlay is currently active.");case 14:this._active=c,this._overlays[this._active].element.classList.remove("hidden"),this._overlays[this._active].container.classList.remove("hidden"),window.addEventListener("keydown",this._keyDownBound);case 18:case "end":return a.stop()}},k,this)}));return function(d){return c.apply(this,arguments)}}()},{key:"close",value:function(){var c=r(h["default"].mark(function k(c){return h["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:if(this._overlays[c]){a.next=4;break}throw Error("The overlay does not exist.");case 4:if(this._active){a.next=8;break}throw Error("The overlay is currently not active.");case 8:if(this._active===c){a.next=10;break}throw Error("Another overlay is currently active.");case 10:this._overlays[this._active].container.classList.add("hidden"),this._overlays[this._active].element.classList.add("hidden"),this._active=null,window.removeEventListener("keydown",this._keyDownBound);case 14:case "end":return a.stop()}},k,this)}));return function(d){return c.apply(this,arguments)}}()},{key:"_keyDown",value:function(c){this._active&&27===c.keyCode&&(this._closeThroughCaller(),c.preventDefault())}},{key:"_closeThroughCaller",value:function(){this._overlays[this._active].callerCloseMethod&&this._overlays[this._active].callerCloseMethod();this._active&&this.close(this._active)}},{key:"active",get:function(){return this._active}}]);return d}();f.OverlayManager=q},function(q,f,m){function n(h,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(h,b.key,b)}}function r(h,d,c){d&&n(h.prototype,d);c&&n(h,c);return h}Object.defineProperty(f,"__esModule",{value:!0});f.PasswordPrompt=void 0;var p=m(5),l=m(7);q=function(){function h(d,c){var b=this,k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p.NullL10n;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.overlayName=d.overlayName;this.container=d.container;this.label=d.label;this.input=d.input;this.submitButton=d.submitButton;this.cancelButton=d.cancelButton;this.overlayManager=c;this.l10n=k;this.reason=this.updateCallback=null;this.submitButton.addEventListener("click",this.verify.bind(this));this.cancelButton.addEventListener("click",this.close.bind(this));this.input.addEventListener("keydown",function(c){13===c.keyCode&&b.verify()});this.overlayManager.register(this.overlayName,this.container,this.close.bind(this),!0)}r(h,[{key:"open",value:function(){var d=this;this.overlayManager.open(this.overlayName).then(function(){d.input.focus();(d.reason===l.PasswordResponses.INCORRECT_PASSWORD?d.l10n.get("password_invalid",null,"Invalid password. Please try again."):d.l10n.get("password_label",null,"Enter the password to open this PDF file.")).then(function(c){d.label.textContent=c})})}},{key:"close",value:function(){var d=this;this.overlayManager.close(this.overlayName).then(function(){d.input.value=""})}},{key:"verify",value:function(){var d=this.input.value;d&&0<d.length&&(this.close(),this.updateCallback(d))}},{key:"setUpdateCallback",value:function(d,c){this.updateCallback=d;this.reason=c}}]);return h}();f.PasswordPrompt=q},function(q,f,m){function n(f,h){for(var d=0;d<h.length;d++){var c=h[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(f,c.key,c)}}function r(f,h,d){h&&n(f.prototype,h);d&&n(f,d);return f}Object.defineProperty(f,"__esModule",{value:!0});f.PDFAttachmentViewer=void 0;var p=m(7);q=function(){function f(h){var d=h.container,c=h.eventBus;h=h.downloadManager;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.container=d;this.eventBus=c;this.downloadManager=h;this.reset();this.eventBus.on("fileattachmentannotation",this._appendAttachment.bind(this))}r(f,[{key:"reset",value:function(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.attachments=null;this.container.textContent="";h||(this._renderedCapability=(0,p.createPromiseCapability)())}},{key:"_dispatchEvent",value:function(h){this._renderedCapability.resolve();this.eventBus.dispatch("attachmentsloaded",{source:this,attachmentsCount:h})}},{key:"_bindPdfLink",value:function(h,d,c){if(this.downloadManager.disableCreateObjectURL)throw Error('bindPdfLink: Unsupported "disableCreateObjectURL" value.');var b;h.onclick=function(){b||(b=(0,p.createObjectURL)(d,"application/pdf"));var k;k="?file\x3d"+encodeURIComponent(b+"#"+c);window.open(k);return!1}}},{key:"_bindLink",value:function(h,d,c){var b=this;h.onclick=function(){b.downloadManager.downloadData(d,c,"");return!1}}},{key:"render",value:function(h){var d=h.attachments,c=h.keepRenderedCapability;h=0;this.attachments&&this.reset(!0===(void 0===c?!1:c));this.attachments=d||null;if(d){c=Object.keys(d).sort(function(a,e){return a.toLowerCase().localeCompare(e.toLowerCase())});h=c.length;for(var b=0;b<h;b++){var k=d[c[b]],g=(0,p.removeNullCharacters)((0,p.getFilenameFromUrl)(k.filename)),a=document.createElement("div");a.className="attachmentsItem";var e=document.createElement("button");e.textContent=g;/\.pdf$/i.test(g)&&!this.downloadManager.disableCreateObjectURL?this._bindPdfLink(e,k.content,g):this._bindLink(e,k.content,g);a.appendChild(e);this.container.appendChild(a)}}this._dispatchEvent(h)}},{key:"_appendAttachment",value:function(h){var d=this,c=h.id,b=h.filename,k=h.content;this._renderedCapability.promise.then(function(){var g=d.attachments;if(g)for(var a in g){if(c===a)return}else g=Object.create(null);g[c]={filename:b,content:k};d.render({attachments:g,keepRenderedCapability:!0})})}}]);return f}();f.PDFAttachmentViewer=q},function(q,f,m){function n(a,e,b,c,d,g,k){try{var u=a[g](k),w=u.value}catch(O){b(O);return}u.done?e(w):Promise.resolve(w).then(c,d)}function r(a){return function(){var e=this,b=arguments;return new Promise(function(c,d){function g(a){n(u,c,d,g,k,"next",a)}function k(a){n(u,c,d,g,k,"throw",a)}var u=a.apply(e,b);g(void 0)})}}function p(a,e){var b;b=Array.isArray(a)?a:void 0;if(!b){b=[];var c=!0,d=!1,g=void 0;try{for(var k=a[Symbol.iterator](),u;!(c=(u=k.next()).done)&&(b.push(u.value),!e||b.length!==e);c=!0);}catch(E){d=!0,g=E}finally{try{if(!c&&null!=k["return"])k["return"]()}finally{if(d)throw g;}}}if(!(a=b))throw new TypeError("Invalid attempt to destructure non-iterable instance");return a}function l(a,e){for(var b=0;b<e.length;b++){var c=e[b];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}function h(a,e,b){e&&l(a.prototype,e);b&&l(a,b);return a}function d(a,e,b){var c=e?a.height:a.width;return b["".concat(e?a.width:a.height,"x").concat(c)]}Object.defineProperty(f,"__esModule",{value:!0});f.PDFDocumentProperties=void 0;var c=function(a){return a&&a.__esModule?a:{"default":a}}(m(2)),b=m(7),k=m(5),g=["en-us","en-lr","my"],a={"8.5x11":"Letter","8.5x14":"Legal"},e={"297x420":"A3","210x297":"A4"};q=function(){function u(a,e,b){var c=this,d=a.overlayName,w=a.fields,h=a.container,v=a.closeButton,f=3<arguments.length&&void 0!==arguments[3]?arguments[3]:k.NullL10n;if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.overlayName=d;this.fields=w;this.container=h;this.overlayManager=e;this.l10n=f;this._reset();v&&v.addEventListener("click",this.close.bind(this));this.overlayManager.register(this.overlayName,this.container,this.close.bind(this));b&&(b.on("pagechanging",function(a){c._currentPageNumber=a.pageNumber}),b.on("rotationchanging",function(a){c._pagesRotation=a.pagesRotation}));this._isNonMetricLocale=!0;f.getLanguage().then(function(a){c._isNonMetricLocale=g.includes(a)})}h(u,[{key:"open",value:function(){var a=this,e=function(e){Object.defineProperty(a,"fieldData",{value:Object.freeze(e),writable:!1,enumerable:!0,configurable:!0})};Promise.all([this.overlayManager.open(this.overlayName),this._dataAvailableCapability.promise]).then(function(){var b=a._currentPageNumber,c=a._pagesRotation;a.fieldData&&b===a.fieldData._currentPageNumber&&c===a.fieldData._pagesRotation?a._updateUI():a.pdfDocument.getMetadata().then(function(e){var d=e.info;return Promise.all([d,e.metadata,e.contentDispositionFilename||(0,k.getPDFFileNameFromURL)(a.url||""),a._parseFileSize(a.maybeFileSize),a._parseDate(d.CreationDate),a._parseDate(d.ModDate),a.pdfDocument.getPage(b).then(function(e){return a._parsePageSize((0,k.getPageSizeInches)(e),c)}),a._parseLinearization(d.IsLinearized)])}).then(function(d){d=p(d,8);var g=d[0];e({fileName:d[2],fileSize:d[3],title:g.Title,author:g.Author,subject:g.Subject,keywords:g.Keywords,creationDate:d[4],modificationDate:d[5],creator:g.Creator,producer:g.Producer,version:g.PDFFormatVersion,pageCount:a.pdfDocument.numPages,pageSize:d[6],linearized:d[7],_currentPageNumber:b,_pagesRotation:c});a._updateUI();return a.pdfDocument.getDownloadInfo()}).then(function(e){e=e.length;a.maybeFileSize=e;return a._parseFileSize(e)}).then(function(b){if(b!==a.fieldData.fileSize){var c=Object.assign(Object.create(null),a.fieldData);c.fileSize=b;e(c);a._updateUI()}})})}},{key:"close",value:function(){this.overlayManager.close(this.overlayName)}},{key:"setDocument",value:function(a){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.pdfDocument&&(this._reset(),this._updateUI(!0));a&&(this.pdfDocument=a,this.url=e,this._dataAvailableCapability.resolve())}},{key:"setFileSize",value:function(a){Number.isInteger(a)&&0<a&&(this.maybeFileSize=a)}},{key:"_reset",value:function(){this.url=this.pdfDocument=null;this.maybeFileSize=0;delete this.fieldData;this._dataAvailableCapability=(0,b.createPromiseCapability)();this._currentPageNumber=1;this._pagesRotation=0}},{key:"_updateUI",value:function(){if(0<arguments.length&&void 0!==arguments[0]&&arguments[0]||!this.fieldData)for(var a in this.fields)this.fields[a].textContent="-";else if(this.overlayManager.active===this.overlayName)for(var e in this.fields)a=this.fieldData[e],this.fields[e].textContent=a||0===a?a:"-"}},{key:"_parseFileSize",value:function(){var a=r(c["default"].mark(function v(){var a,e,b=arguments;return c["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=0<b.length&&void 0!==b[0]?b[0]:0;if(e=a/1024){c.next=6;break}return c.abrupt("return",void 0);case 6:if(!(1024>e)){c.next=8;break}return c.abrupt("return",this.l10n.get("document_properties_kb",{size_kb:(+e.toPrecision(3)).toLocaleString(),size_b:a.toLocaleString()},"{{size_kb}} KB ({{size_b}} bytes)"));case 8:return c.abrupt("return",this.l10n.get("document_properties_mb",{size_mb:(+(e/1024).toPrecision(3)).toLocaleString(),size_b:a.toLocaleString()},"{{size_mb}} MB ({{size_b}} bytes)"));case 9:case "end":return c.stop()}},v,this)}));return function(){return a.apply(this,arguments)}}()},{key:"_parsePageSize",value:function(){var b=r(c["default"].mark(function v(b,g){var u,w,h=this,f,l,z,C,m,r;return c["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(b){c.next=2;break}return c.abrupt("return",void 0);case 2:return 0!==g%180&&(b={width:b.height,height:b.width}),f=(0,k.isPortraitOrientation)(b),l={width:Math.round(100*b.width)/100,height:Math.round(100*b.height)/100},z={width:Math.round(254*b.width)/10,height:Math.round(254*b.height)/10},C=null,m=d(l,f,a)||d(z,f,e),!(m||Number.isInteger(z.width)&&Number.isInteger(z.height))&&(u=25.4*b.width,w=25.4*b.height,r={width:Math.round(z.width),height:Math.round(z.height)},.1>Math.abs(u-r.width)&&.1>Math.abs(w-r.height)&&(m=d(r,f,e)))&&(l={width:Math.round(r.width/25.4*100)/100,height:Math.round(r.height/25.4*100)/100},z=r),m&&(C=this.l10n.get("document_properties_page_size_name_"+m.toLowerCase(),null,m)),c.abrupt("return",Promise.all([this._isNonMetricLocale?l:z,this.l10n.get("document_properties_page_size_unit_"+(this._isNonMetricLocale?"inches":"millimeters"),null,this._isNonMetricLocale?"in":"mm"),C,this.l10n.get("document_properties_page_size_orientation_"+(f?"portrait":"landscape"),null,f?"portrait":"landscape")]).then(function(a){var e=p(a,4);a=e[0];var b=a.height,c=e[1],d=e[2],e=e[3];return h.l10n.get("document_properties_page_size_dimension_"+(d?"name_":"")+"string",{width:a.width.toLocaleString(),height:b.toLocaleString(),unit:c,name:d,orientation:e},"{{width}} \u00d7 {{height}} {{unit}} ("+(d?"{{name}}, ":"")+"{{orientation}})")}));case 11:case "end":return c.stop()}},v,this)}));return function(a,e){return b.apply(this,arguments)}}()},{key:"_parseDate",value:function(){var a=r(c["default"].mark(function v(a){var e;return c["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:if(e=b.PDFDateString.toDateObject(a)){c.next=3;break}return c.abrupt("return",void 0);case 3:return c.abrupt("return",this.l10n.get("document_properties_date_string",{date:e.toLocaleDateString(),time:e.toLocaleTimeString()},"{{date}}, {{time}}"));case 4:case "end":return c.stop()}},v,this)}));return function(e){return a.apply(this,arguments)}}()},{key:"_parseLinearization",value:function(a){return this.l10n.get("document_properties_linearized_"+(a?"yes":"no"),null,a?"Yes":"No")}}]);return u}();f.PDFDocumentProperties=q},function(q,f,m){function n(h,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(h,b.key,b)}}function r(h,d,c){d&&n(h.prototype,d);c&&n(h,c);return h}Object.defineProperty(f,"__esModule",{value:!0});f.PDFFindBar=void 0;var p=m(5),l=m(18);q=function(){function h(d){var c=this,b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:(0,p.getGlobalEventBus)(),k=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p.NullL10n;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.opened=!1;this.bar=d.bar||null;this.toggleButton=d.toggleButton||null;this.findField=d.findField||null;this.highlightAll=d.highlightAllCheckbox||null;this.caseSensitive=d.caseSensitiveCheckbox||null;this.entireWord=d.entireWordCheckbox||null;this.findMsg=d.findMsg||null;this.findResultsCount=d.findResultsCount||null;this.findPreviousButton=d.findPreviousButton||null;this.findNextButton=d.findNextButton||null;this.eventBus=b;this.l10n=k;this.toggleButton.addEventListener("click",function(){c.toggle()});this.findField.addEventListener("input",function(){c.dispatchEvent("")});this.bar.addEventListener("keydown",function(b){switch(b.keyCode){case 13:b.target===c.findField&&c.dispatchEvent("again",b.shiftKey);break;case 27:c.close()}});this.findPreviousButton.addEventListener("click",function(){c.dispatchEvent("again",!0)});this.findNextButton.addEventListener("click",function(){c.dispatchEvent("again",!1)});this.highlightAll.addEventListener("click",function(){c.dispatchEvent("highlightallchange")});this.caseSensitive.addEventListener("click",function(){c.dispatchEvent("casesensitivitychange")});this.entireWord.addEventListener("click",function(){c.dispatchEvent("entirewordchange")});this.eventBus.on("resize",this._adjustWidth.bind(this))}r(h,[{key:"reset",value:function(){this.updateUIState()}},{key:"dispatchEvent",value:function(d,c){this.eventBus.dispatch("find",{source:this,type:d,query:this.findField.value,phraseSearch:!0,caseSensitive:this.caseSensitive.checked,entireWord:this.entireWord.checked,highlightAll:this.highlightAll.checked,findPrevious:c})}},{key:"updateUIState",value:function(d,c,b){var k=this,g=!1,a="",e="";switch(d){case l.FindState.PENDING:e="pending";break;case l.FindState.NOT_FOUND:a=this.l10n.get("find_not_found",null,"Phrase not found");g=!0;break;case l.FindState.WRAPPED:a=c?this.l10n.get("find_reached_top",null,"Reached top of document, continued from bottom"):this.l10n.get("find_reached_bottom",null,"Reached end of document, continued from top")}this.findField.classList.toggle("notFound",g);this.findField.setAttribute("data-status",e);Promise.resolve(a).then(function(a){k.findMsg.textContent=a;k._adjustWidth()});this.updateResultsCount(b)}},{key:"updateResultsCount",value:function(){var d=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},b=c.current,b=void 0===b?0:b,c=c.total,k=void 0===c?0:c;this.findResultsCount&&(c="",0<k&&(c=1E3<k?this.l10n.get("find_match_count_limit",{limit:1E3},"More than {{limit}} matches"):this.l10n.get("find_match_count",{current:b,total:k},"{{current}} of {{total}} match"+(1!==k?"es":""))),Promise.resolve(c).then(function(b){d.findResultsCount.textContent=b;d.findResultsCount.classList.toggle("hidden",!k);d._adjustWidth()}))}},{key:"open",value:function(){this.opened||(this.opened=!0,this.toggleButton.classList.add("toggled"),this.bar.classList.remove("hidden"));this.findField.select();this.findField.focus();this._adjustWidth()}},{key:"close",value:function(){this.opened&&(this.opened=!1,this.toggleButton.classList.remove("toggled"),this.bar.classList.add("hidden"),this.eventBus.dispatch("findbarclose",{source:this}))}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"_adjustWidth",value:function(){this.opened&&(this.bar.classList.remove("wrapContainers"),this.bar.clientHeight>this.bar.firstElementChild.clientHeight&&this.bar.classList.add("wrapContainers"))}}]);return h}();f.PDFFindBar=q},function(q,f,m){function n(b,a){for(var e=0;e<a.length;e++){var c=a[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(b,c.key,c)}}function r(b,a,e){a&&n(b.prototype,a);e&&n(b,e);return b}function p(c){if(!k){var a=Object.keys(b).join("");k=new RegExp("[".concat(a,"]"),"g")}return c.replace(k,function(a){return b[a]})}Object.defineProperty(f,"__esModule",{value:!0});f.PDFFindController=f.FindState=void 0;var l=m(5),h=m(7),d=m(19),c={FOUND:0,NOT_FOUND:1,WRAPPED:2,PENDING:3};f.FindState=c;var b={"\u2018":"'","\u2019":"'","\u201a":"'","\u201b":"'","\u201c":'"',"\u201d":'"',"\u201e":'"',"\u201f":'"',"\u00bc":"1/4","\u00bd":"1/2","\u00be":"3/4"},k=null;q=function(){function b(a){var e=a.linkService;a=a.eventBus;a=void 0===a?(0,l.getGlobalEventBus)():a;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this._linkService=e;this._eventBus=a;this._reset();a.on("findbarclose",this._onFindBarClose.bind(this))}r(b,[{key:"setDocument",value:function(a){this._pdfDocument&&this._reset();a&&(this._pdfDocument=a,this._firstPageCapability.resolve())}},{key:"executeCommand",value:function(a,e){var b=this;if(e){var d=this._pdfDocument;if(null===this._state||this._shouldDirtyMatch(a,e))this._dirtyMatch=!0;this._state=e;"findhighlightallchange"!==a&&this._updateUIState(c.PENDING);this._firstPageCapability.promise.then(function(){if(b._pdfDocument&&(!d||b._pdfDocument===d)){b._extractText();var e=!b._highlightMatches,c=!!b._findTimeout;b._findTimeout&&(clearTimeout(b._findTimeout),b._findTimeout=null);"find"===a?b._findTimeout=setTimeout(function(){b._nextMatch();b._findTimeout=null},250):b._dirtyMatch?b._nextMatch():"findagain"===a?(b._nextMatch(),e&&b._state.highlightAll&&b._updateAllPages()):"findhighlightallchange"===a?(c?b._nextMatch():b._highlightMatches=!0,b._updateAllPages()):b._nextMatch()}})}}},{key:"scrollMatchIntoView",value:function(a){var e=a.element,e=void 0===e?null:e,b=a.pageIndex,b=void 0===b?-1:b;a=a.matchIndex;a=void 0===a?-1:a;this._scrollMatches&&e&&-1!==a&&a===this._selected.matchIdx&&-1!==b&&b===this._selected.pageIdx&&(this._scrollMatches=!1,(0,l.scrollIntoView)(e,{top:-50,left:-400},!0))}},{key:"_reset",value:function(){this._scrollMatches=this._highlightMatches=!1;this._pdfDocument=null;this._pageMatches=[];this._pageMatchesLength=[];this._state=null;this._selected={pageIdx:-1,matchIdx:-1};this._offset={pageIdx:null,matchIdx:null,wrapped:!1};this._extractTextPromises=[];this._pageContents=[];this._matchesCountTotal=0;this._pagesToSearch=null;this._pendingFindMatches=Object.create(null);this._resumePageIdx=null;this._dirtyMatch=!1;clearTimeout(this._findTimeout);this._findTimeout=null;this._firstPageCapability=(0,h.createPromiseCapability)()}},{key:"_shouldDirtyMatch",value:function(a,e){if(e.query!==this._state.query)return!0;switch(a){case "findagain":a=this._selected.pageIdx+1;e=this._linkService;if(1<=a&&a<=e.pagesCount&&a!==e.page&&!e.isPageVisible(a))break;return!1;case "findhighlightallchange":return!1}return!0}},{key:"_prepareMatches",value:function(a,e,b){function c(a,e){var b=a[e],c=a[e+1];if(e<a.length-1&&b.match===c.match)return b.skipped=!0;for(--e;0<=e;e--)if(c=a[e],!c.skipped){if(c.match+c.matchLength<b.match)break;if(c.match+c.matchLength>=b.match+b.matchLength)return b.skipped=!0}return!1}a.sort(function(a,e){return a.match===e.match?a.matchLength-e.matchLength:a.match-e.match});for(var d=0,g=a.length;d<g;d++)c(a,d)||(e.push(a[d].match),b.push(a[d].matchLength))}},{key:"_isEntireWord",value:function(a,e,b){if(0<e){var c=a.charCodeAt(e),g=a.charCodeAt(e-1);if((0,d.getCharacterType)(c)===(0,d.getCharacterType)(g))return!1}b=e+b-1;return b<a.length-1&&(e=a.charCodeAt(b),a=a.charCodeAt(b+1),(0,d.getCharacterType)(e)===(0,d.getCharacterType)(a))?!1:!0}},{key:"_calculatePhraseMatch",value:function(a,e,b,c){for(var d=[],g=a.length,k=-g;;){k=b.indexOf(a,k+g);if(-1===k)break;c&&!this._isEntireWord(b,k,g)||d.push(k)}this._pageMatches[e]=d}},{key:"_calculateWordMatch",value:function(a,e,b,c){var d=[];a=a.match(/\S+/g);for(var g=0,k=a.length;g<k;g++)for(var u=a[g],h=u.length,w=-h;;){w=b.indexOf(u,w+h);if(-1===w)break;c&&!this._isEntireWord(b,w,h)||d.push({match:w,matchLength:h,skipped:!1})}this._pageMatchesLength[e]=[];this._pageMatches[e]=[];this._prepareMatches(d,this._pageMatches[e],this._pageMatchesLength[e])}},{key:"_calculateMatch",value:function(a){var e=this._pageContents[a],b=this._query,c=this._state,d=c.entireWord,g=c.phraseSearch;0!==b.length&&(c.caseSensitive||(e=e.toLowerCase(),b=b.toLowerCase()),g?this._calculatePhraseMatch(b,a,e,d):this._calculateWordMatch(b,a,e,d),this._state.highlightAll&&this._updatePage(a),this._resumePageIdx===a&&(this._resumePageIdx=null,this._nextPageMatch()),a=this._pageMatches[a].length,0<a&&(this._matchesCountTotal+=a,this._updateUIResultsCount()))}},{key:"_extractText",value:function(){var a=this;if(!(0<this._extractTextPromises.length))for(var e=Promise.resolve(),b=function(b,c){var d=(0,h.createPromiseCapability)();a._extractTextPromises[b]=d.promise;e=e.then(function(){return a._pdfDocument.getPage(b+1).then(function(a){return a.getTextContent({normalizeWhitespace:!0})}).then(function(e){e=e.items;for(var c=[],g=0,k=e.length;g<k;g++)c.push(e[g].str);a._pageContents[b]=p(c.join(""));d.resolve(b)},function(e){console.error("Unable to get text content for page ".concat(b+1),e);a._pageContents[b]="";d.resolve(b)})})},c=0,d=this._linkService.pagesCount;c<d;c++)b(c,d)}},{key:"_updatePage",value:function(a){this._scrollMatches&&this._selected.pageIdx===a&&(this._linkService.page=a+1);this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:a})}},{key:"_updateAllPages",value:function(){this._eventBus.dispatch("updatetextlayermatches",{source:this,pageIndex:-1})}},{key:"_nextMatch",value:function(){var a=this,e=this._state.findPrevious,b=this._linkService.page-1,d=this._linkService.pagesCount;this._highlightMatches=!0;if(this._dirtyMatch)for(this._dirtyMatch=!1,this._selected.pageIdx=this._selected.matchIdx=-1,this._offset.pageIdx=b,this._offset.matchIdx=null,this._offset.wrapped=!1,this._resumePageIdx=null,this._pageMatches.length=0,this._matchesCountTotal=this._pageMatchesLength.length=0,this._updateAllPages(),b=0;b<d;b++)!0!==this._pendingFindMatches[b]&&(this._pendingFindMatches[b]=!0,this._extractTextPromises[b].then(function(e){delete a._pendingFindMatches[e];a._calculateMatch(e)}));if(""===this._query)this._updateUIState(c.FOUND);else if(!this._resumePageIdx){b=this._offset;this._pagesToSearch=d;if(null!==b.matchIdx){d=this._pageMatches[b.pageIdx].length;if(!e&&b.matchIdx+1<d||e&&0<b.matchIdx){b.matchIdx=e?b.matchIdx-1:b.matchIdx+1;this._updateMatch(!0);return}this._advanceOffsetPage(e)}this._nextPageMatch()}}},{key:"_matchesReady",value:function(a){var e=this._offset;a=a.length;var b=this._state.findPrevious;if(a)return e.matchIdx=b?a-1:0,this._updateMatch(!0),!0;this._advanceOffsetPage(b);return e.wrapped&&(e.matchIdx=null,0>this._pagesToSearch)?(this._updateMatch(!1),!0):!1}},{key:"_nextPageMatch",value:function(){null!==this._resumePageIdx&&console.error("There can only be one pending page.");var a;do{var e=this._offset.pageIdx;a=this._pageMatches[e];if(!a){this._resumePageIdx=e;break}}while(!this._matchesReady(a))}},{key:"_advanceOffsetPage",value:function(a){var e=this._offset,b=this._linkService.pagesCount;e.pageIdx=a?e.pageIdx-1:e.pageIdx+1;e.matchIdx=null;this._pagesToSearch--;if(e.pageIdx>=b||0>e.pageIdx)e.pageIdx=a?b-1:0,e.wrapped=!0}},{key:"_updateMatch",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,e=c.NOT_FOUND,b=this._offset.wrapped;this._offset.wrapped=!1;a&&(a=this._selected.pageIdx,this._selected.pageIdx=this._offset.pageIdx,this._selected.matchIdx=this._offset.matchIdx,e=b?c.WRAPPED:c.FOUND,-1!==a&&a!==this._selected.pageIdx&&this._updatePage(a));this._updateUIState(e,this._state.findPrevious);-1!==this._selected.pageIdx&&(this._scrollMatches=!0,this._updatePage(this._selected.pageIdx))}},{key:"_onFindBarClose",value:function(a){var e=this,b=this._pdfDocument;this._firstPageCapability.promise.then(function(){!e._pdfDocument||b&&e._pdfDocument!==b||(e._findTimeout&&(clearTimeout(e._findTimeout),e._findTimeout=null),e._resumePageIdx&&(e._resumePageIdx=null,e._dirtyMatch=!0),e._updateUIState(c.FOUND),e._highlightMatches=!1,e._updateAllPages())})}},{key:"_requestMatchesCount",value:function(){var a=this._selected,e=a.pageIdx,a=a.matchIdx,b=0,c=this._matchesCountTotal;if(-1!==a){for(var d=0;d<e;d++)b+=this._pageMatches[d]&&this._pageMatches[d].length||0;b+=a+1}if(1>b||b>c)b=c=0;return{current:b,total:c}}},{key:"_updateUIResultsCount",value:function(){this._eventBus.dispatch("updatefindmatchescount",{source:this,matchesCount:this._requestMatchesCount()})}},{key:"_updateUIState",value:function(a,b){this._eventBus.dispatch("updatefindcontrolstate",{source:this,state:a,previous:b,matchesCount:this._requestMatchesCount()})}},{key:"highlightMatches",get:function(){return this._highlightMatches}},{key:"pageMatches",get:function(){return this._pageMatches}},{key:"pageMatchesLength",get:function(){return this._pageMatchesLength}},{key:"selected",get:function(){return this._selected}},{key:"state",get:function(){return this._state}},{key:"_query",get:function(){this._state.query!==this._rawQuery&&(this._rawQuery=this._state.query,this._normalizedQuery=p(this._state.query));return this._normalizedQuery}}]);return b}();f.PDFFindController=q},function(q,f,m){Object.defineProperty(f,"__esModule",{value:!0});f.getCharacterType=function(f){return 11904>f?0===(f&65408)?32===f||9===f||13===f||10===f?n.SPACE:97<=f&&122>=f||65<=f&&90>=f||48<=f&&57>=f||95===f?n.ALPHA_LETTER:n.PUNCT:3584===(f&65408)?n.THAI_LETTER:160===f?n.SPACE:n.ALPHA_LETTER:13312<=f&&40959>=f||63744<=f&&64255>=f?n.HAN_LETTER:12448<=f&&12543>=f?n.KATAKANA_LETTER:12352<=f&&12447>=f?n.HIRAGANA_LETTER:65376<=f&&65439>=f?n.HALFWIDTH_KATAKANA_LETTER:n.ALPHA_LETTER};f.CharacterType=void 0;var n={SPACE:0,ALPHA_LETTER:1,PUNCT:2,HAN_LETTER:3,KATAKANA_LETTER:4,HIRAGANA_LETTER:5,HALFWIDTH_KATAKANA_LETTER:6,THAI_LETTER:7};f.CharacterType=n},function(q,f,m){function n(b){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return n(b)}function r(b,c){for(var d=0;d<c.length;d++){var a=c[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}function p(b,c,d){c&&r(b.prototype,c);d&&r(b,d);return b}function l(b){var d=unescape(document.location.hash).substring(1),g=(0,c.parseQueryString)(d).page|0;Number.isInteger(g)&&0<g&&g<=b.pagesCount||(g=null);return{hash:d,page:g,rotation:b.rotation}}function h(b,d){return"string"!==typeof b||"string"!==typeof d?!1:b===d||(0,c.parseQueryString)(b).nameddest===d?!0:!1}function d(b,c){function d(a,b){if(n(a)!==n(b)||Array.isArray(a)||Array.isArray(b))return!1;if(null!==a&&"object"===n(a)&&null!==b){if(Object.keys(a).length!==Object.keys(b).length)return!1;for(var e in a)if(!d(a[e],b[e]))return!1;return!0}return a===b||Number.isNaN(a)&&Number.isNaN(b)}if(!Array.isArray(b)||!Array.isArray(c)||b.length!==c.length)return!1;for(var a=0,e=b.length;a<e;a++)if(!d(b[a],c[a]))return!1;return!0}Object.defineProperty(f,"__esModule",{value:!0});f.isDestHashesEqual=h;f.isDestArraysEqual=d;f.PDFHistory=void 0;var c=m(5);q=function(){function b(d){var g=this,a=d.linkService;d=d.eventBus;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");this.linkService=a;this.eventBus=d||(0,c.getGlobalEventBus)();this.initialized=!1;this.initialRotation=this.initialBookmark=null;this._boundEvents=Object.create(null);this._isPagesLoaded=this._isViewerInPresentationMode=!1;this.eventBus.on("presentationmodechanged",function(a){g._isViewerInPresentationMode=a.active||a.switchInProgress});this.eventBus.on("pagesloaded",function(a){g._isPagesLoaded=!!a.pagesCount})}p(b,[{key:"initialize",value:function(b){var c=b.fingerprint,a=b.resetHistory,a=void 0===a?!1:a;b=b.updateUrl;var e=void 0===b?!1:b;if(c&&"string"===typeof c)if(b=this.initialized&&this.fingerprint!==c,this.fingerprint=c,this._updateUrl=!0===e,this.initialized||this._bindEvents(),c=window.history.state,this.initialized=!0,this.initialRotation=this.initialBookmark=null,this._popStateInProgress=!1,this._blockHashChange=0,this._currentHash=document.location.hash,this._uid=this._maxUid=this._numPositionUpdates=0,this._position=this._destination=null,!this._isValidState(c,!0)||a){var d=l(this.linkService),c=d.hash,e=d.page,d=d.rotation;!c||b||a?this._pushOrReplaceState(null,!0):this._pushOrReplaceState({hash:c,page:e,rotation:d},!0)}else a=c.destination,this._updateInternalState(a,c.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),void 0!==a.rotation&&(this.initialRotation=a.rotation),a.dest?(this.initialBookmark=JSON.stringify(a.dest),this._destination.page=null):a.hash?this.initialBookmark=a.hash:a.page&&(this.initialBookmark="page\x3d".concat(a.page));else console.error('PDFHistory.initialize: The "fingerprint" must be a non-empty string.')}},{key:"push",value:function(b){var c=this,a=b.namedDest,e=void 0===a?null:a,a=b.explicitDest;b=b.pageNumber;if(this.initialized)if(e&&"string"!==typeof e)console.error("PDFHistory.push: "+'"'.concat(e,'" is not a valid namedDest parameter.'));else if(Array.isArray(a))if(Number.isInteger(b)&&0<b&&b<=this.linkService.pagesCount||null===b&&!this._destination){if(e=e||JSON.stringify(a)){var k=!1;if(this._destination&&(h(this._destination.hash,e)||d(this._destination.dest,a))){if(this._destination.page)return;k=!0}if(!this._popStateInProgress||k)this._pushOrReplaceState({dest:a,hash:e,page:b,rotation:this.linkService.rotation},k),this._popStateInProgress||(this._popStateInProgress=!0,Promise.resolve().then(function(){c._popStateInProgress=!1}))}}else console.error("PDFHistory.push: "+'"'.concat(b,'" is not a valid pageNumber parameter.'));else console.error("PDFHistory.push: "+'"'.concat(a,'" is not a valid explicitDest parameter.'))}},{key:"pushCurrentPosition",value:function(){this.initialized&&!this._popStateInProgress&&this._tryPushCurrentPosition()}},{key:"back",value:function(){if(this.initialized&&!this._popStateInProgress){var b=window.history.state;this._isValidState(b)&&0<b.uid&&window.history.back()}}},{key:"forward",value:function(){if(this.initialized&&!this._popStateInProgress){var b=window.history.state;this._isValidState(b)&&b.uid<this._maxUid&&window.history.forward()}}},{key:"_pushOrReplaceState",value:function(b){var c=(1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1)||!this._destination,a={fingerprint:this.fingerprint,uid:c?this._uid:this._uid+1,destination:b};this._updateInternalState(b,a.uid);var e;if(this._updateUrl&&b&&b.hash){var d=document.location.href.split("#")[0];d.startsWith("file://")||(e="".concat(d,"#").concat(b.hash))}c?e?window.history.replaceState(a,"",e):window.history.replaceState(a,""):(this._maxUid=this._uid,e?window.history.pushState(a,"",e):window.history.pushState(a,""))}},{key:"_tryPushCurrentPosition",value:function(){if(this._position){var b=this._position;0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(b=Object.assign(Object.create(null),this._position),b.temporary=!0);if(!this._destination)this._pushOrReplaceState(b);else if(this._destination.temporary)this._pushOrReplaceState(b,!0);else if(!(this._destination.hash===b.hash||!this._destination.page&&50>=this._numPositionUpdates)){var c=!1;if(this._destination.page>=b.first&&this._destination.page<=b.page){if(this._destination.dest||!this._destination.first)return;c=!0}this._pushOrReplaceState(b,c)}}}},{key:"_isValidState",value:function(b){var c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(!b)return!1;if(b.fingerprint!==this.fingerprint)if(c){if("string"!==typeof b.fingerprint||b.fingerprint.length!==this.fingerprint.length)return!1;var c=performance.getEntriesByType("navigation"),a,e;e=Array.isArray(c)?c:void 0;if(!e){e=[];var d=!0,k=!1,h=void 0;try{a=c[Symbol.iterator]();for(var f;!(d=(f=a.next()).done)&&(e.push(f.value),1!==e.length);d=!0);}catch(C){k=!0,h=C}finally{try{if(!d&&null!=a["return"])a["return"]()}finally{if(k)throw h;}}}if(!(a=e))throw new TypeError("Invalid attempt to destructure non-iterable instance");a=a[0];if(!a||"reload"!==a.type)return!1}else return!1;return!Number.isInteger(b.uid)||0>b.uid||null===b.destination||"object"!==n(b.destination)?!1:!0}},{key:"_updateInternalState",value:function(b,c){var a=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);a&&b&&b.temporary&&delete b.temporary;this._destination=b;this._uid=c;this._numPositionUpdates=0}},{key:"_updateViewarea",value:function(b){var c=this;b=b.location;this._updateViewareaTimeout&&(clearTimeout(this._updateViewareaTimeout),this._updateViewareaTimeout=null);this._position={hash:this._isViewerInPresentationMode?"page\x3d".concat(b.pageNumber):b.pdfOpenParams.substring(1),page:this.linkService.page,first:b.pageNumber,rotation:b.rotation};this._popStateInProgress||(this._isPagesLoaded&&this._destination&&!this._destination.page&&this._numPositionUpdates++,this._updateViewareaTimeout=setTimeout(function(){c._popStateInProgress||c._tryPushCurrentPosition(!0);c._updateViewareaTimeout=null},1E3))}},{key:"_popState",value:function(b){var d=this;b=b.state;var a=document.location.hash,e=this._currentHash!==a;this._currentHash=a;b?this._isValidState(b)&&(this._popStateInProgress=!0,e&&(this._blockHashChange++,(0,c.waitOnEventOrTimeout)({target:window,name:"hashchange",delay:1E3}).then(function(){d._blockHashChange--})),a=b.destination,this._updateInternalState(a,b.uid,!0),this._uid>this._maxUid&&(this._maxUid=this._uid),(0,c.isValidRotation)(a.rotation)&&(this.linkService.rotation=a.rotation),a.dest?this.linkService.navigateTo(a.dest):a.hash?this.linkService.setHash(a.hash):a.page&&(this.linkService.page=a.page),Promise.resolve().then(function(){d._popStateInProgress=!1})):(this._uid++,b=l(this.linkService),this._pushOrReplaceState({hash:b.hash,page:b.page,rotation:b.rotation},!0))}},{key:"_bindEvents",value:function(){var b=this,c=this._boundEvents,a=this.eventBus;c.updateViewarea=this._updateViewarea.bind(this);c.popState=this._popState.bind(this);c.pageHide=function(a){b._destination&&!b._destination.temporary||b._tryPushCurrentPosition()};a.on("updateviewarea",c.updateViewarea);window.addEventListener("popstate",c.popState);window.addEventListener("pagehide",c.pageHide)}},{key:"popStateInProgress",get:function(){return this.initialized&&(this._popStateInProgress||0<this._blockHashChange)}}]);return b}();f.PDFHistory=q},function(q,f,m){function n(c){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return n(c)}function r(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function");}function p(c,b){for(var d=0;d<b.length;d++){var g=b[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}function l(c,b,d){b&&p(c.prototype,b);d&&p(c,d);return c}function h(c){if(!Array.isArray(c))return!1;var b=c.length,d=!0;if(2>b)return!1;var g=c[0];if(!("object"===n(g)&&Number.isInteger(g.num)&&Number.isInteger(g.gen)||Number.isInteger(g)&&0<=g))return!1;g=c[1];if("object"!==n(g)||"string"!==typeof g.name)return!1;switch(g.name){case "XYZ":if(5!==b)return!1;break;case "Fit":case "FitB":return 2===b;case "FitH":case "FitBH":case "FitV":case "FitBV":if(3!==b)return!1;break;case "FitR":if(6!==b)return!1;d=!1;break;default:return!1}for(g=2;g<b;g++){var a=c[g];if(!("number"===typeof a||d&&null===a))return!1}return!0}Object.defineProperty(f,"__esModule",{value:!0});f.SimpleLinkService=f.PDFLinkService=void 0;var d=m(5);q=function(){function c(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},k=b.eventBus,g=b.externalLinkTarget,g=void 0===g?null:g,b=b.externalLinkRel,b=void 0===b?null:b;r(this,c);this.eventBus=k||(0,d.getGlobalEventBus)();this.externalLinkTarget=g;this.externalLinkRel=b;this._pagesRefCache=this.pdfHistory=this.pdfViewer=this.pdfDocument=this.baseUrl=null}l(c,[{key:"setDocument",value:function(b){this.baseUrl=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null;this.pdfDocument=b;this._pagesRefCache=Object.create(null)}},{key:"setViewer",value:function(b){this.pdfViewer=b}},{key:"setHistory",value:function(b){this.pdfHistory=b}},{key:"navigateTo",value:function(b){var c=this,d=function e(d){var g=d.namedDest,k=d.explicitDest,u=k[0];if(u instanceof Object){if(d=c._cachedPageNumber(u),null===d){c.pdfDocument.getPageIndex(u).then(function(b){c.cachePageRef(b+1,u);e({namedDest:g,explicitDest:k})})["catch"](function(){console.error('PDFLinkService.navigateTo: "'.concat(u,'" is not ')+'a valid page reference, for dest\x3d"'.concat(b,'".'))});return}}else if(Number.isInteger(u))d=u+1;else{console.error('PDFLinkService.navigateTo: "'.concat(u,'" is not ')+'a valid destination reference, for dest\x3d"'.concat(b,'".'));return}!d||1>d||d>c.pagesCount?console.error('PDFLinkService.navigateTo: "'.concat(d,'" is not ')+'a valid page number, for dest\x3d"'.concat(b,'".')):(c.pdfHistory&&(c.pdfHistory.pushCurrentPosition(),c.pdfHistory.push({namedDest:g,explicitDest:k,pageNumber:d})),c.pdfViewer.scrollPageIntoView({pageNumber:d,destArray:k}))};(new Promise(function(e,d){"string"===typeof b?c.pdfDocument.getDestination(b).then(function(c){e({namedDest:b,explicitDest:c})}):e({namedDest:"",explicitDest:b})})).then(function(e){Array.isArray(e.explicitDest)?d(e):console.error('PDFLinkService.navigateTo: "'.concat(e.explicitDest,'" is')+' not a valid destination array, for dest\x3d"'.concat(b,'".'))})}},{key:"getDestinationHash",value:function(b){return"string"===typeof b?this.getAnchorUrl("#"+escape(b)):Array.isArray(b)?(b=JSON.stringify(b),this.getAnchorUrl("#"+escape(b))):this.getAnchorUrl("")}},{key:"getAnchorUrl",value:function(b){return(this.baseUrl||"")+b}},{key:"setHash",value:function(b){var c,g;if(b.includes("\x3d"))if(b=(0,d.parseQueryString)(b),"search"in b&&this.eventBus.dispatch("findfromurlhash",{source:this,query:b.search.replace(/"/g,""),phraseSearch:"true"===b.phrase}),"nameddest"in b)this.navigateTo(b.nameddest);else{"page"in b&&(c=b.page|0||1);if("zoom"in b){var a=b.zoom.split(","),e=a[0],u=parseFloat(e);e.includes("Fit")?"Fit"===e||"FitB"===e?g=[null,{name:e}]:"FitH"===e||"FitBH"===e||"FitV"===e||"FitBV"===e?g=[null,{name:e},1<a.length?a[1]|0:null]:"FitR"===e?5!==a.length?console.error('PDFLinkService.setHash: Not enough parameters for "FitR".'):g=[null,{name:e},a[1]|0,a[2]|0,a[3]|0,a[4]|0]:console.error('PDFLinkService.setHash: "'.concat(e,'" is not ')+"a valid zoom value."):g=[null,{name:"XYZ"},1<a.length?a[1]|0:null,2<a.length?a[2]|0:null,u?u/100:e]}g?this.pdfViewer.scrollPageIntoView({pageNumber:c||this.page,destArray:g,allowNegativeOffset:!0}):c&&(this.page=c);"pagemode"in b&&this.eventBus.dispatch("pagemode",{source:this,mode:b.pagemode})}else{g=unescape(b);try{g=JSON.parse(g),Array.isArray(g)||(g=g.toString())}catch(w){}"string"===typeof g||h(g)?this.navigateTo(g):console.error('PDFLinkService.setHash: "'.concat(unescape(b),'" is not ')+"a valid destination.")}}},{key:"executeNamedAction",value:function(b){switch(b){case "GoBack":this.pdfHistory&&this.pdfHistory.back();break;case "GoForward":this.pdfHistory&&this.pdfHistory.forward();break;case "NextPage":this.page<this.pagesCount&&this.page++;break;case "PrevPage":1<this.page&&this.page--;break;case "LastPage":this.page=this.pagesCount;break;case "FirstPage":this.page=1}this.eventBus.dispatch("namedaction",{source:this,action:b})}},{key:"cachePageRef",value:function(b,c){c&&(this._pagesRefCache[c.num+" "+c.gen+" R"]=b)}},{key:"_cachedPageNumber",value:function(b){b=b.num+" "+b.gen+" R";return this._pagesRefCache&&this._pagesRefCache[b]||null}},{key:"isPageVisible",value:function(b){return this.pdfViewer.isPageVisible(b)}},{key:"pagesCount",get:function(){return this.pdfDocument?this.pdfDocument.numPages:0}},{key:"page",get:function(){return this.pdfViewer.currentPageNumber},set:function(b){this.pdfViewer.currentPageNumber=b}},{key:"rotation",get:function(){return this.pdfViewer.pagesRotation},set:function(b){this.pdfViewer.pagesRotation=b}}]);return c}();f.PDFLinkService=q;q=function(){function c(){r(this,c);this.externalLinkRel=this.externalLinkTarget=null}l(c,[{key:"navigateTo",value:function(b){}},{key:"getDestinationHash",value:function(b){return"#"}},{key:"getAnchorUrl",value:function(b){return"#"}},{key:"setHash",value:function(b){}},{key:"executeNamedAction",value:function(b){}},{key:"cachePageRef",value:function(b,c){}},{key:"isPageVisible",value:function(b){return!0}},{key:"pagesCount",get:function(){return 0}},{key:"page",get:function(){return 0},set:function(b){}},{key:"rotation",get:function(){return 0},set:function(b){}}]);return c}();f.SimpleLinkService=q},function(q,f,m){function n(f,h){for(var d=0;d<h.length;d++){var c=h[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(f,c.key,c)}}function r(f,h,d){h&&n(f.prototype,h);d&&n(f,d);return f}Object.defineProperty(f,"__esModule",{value:!0});f.PDFOutlineViewer=void 0;var p=m(7);q=function(){function f(h){var d=h.container,c=h.linkService;h=h.eventBus;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.container=d;this.linkService=c;this.eventBus=h;this.reset();h.on("toggleoutlinetree",this.toggleOutlineTree.bind(this))}r(f,[{key:"reset",value:function(){this.outline=null;this.lastToggleIsShow=!0;this.container.textContent="";this.container.classList.remove("outlineWithDeepNesting")}},{key:"_dispatchEvent",value:function(h){this.eventBus.dispatch("outlineloaded",{source:this,outlineCount:h})}},{key:"_bindLink",value:function(h,d){var c=d.url,b=d.newWindow,k=d.dest,g=this.linkService;c?(0,p.addLinkAttributes)(h,{url:c,target:b?p.LinkTarget.BLANK:g.externalLinkTarget,rel:g.externalLinkRel}):(h.href=g.getDestinationHash(k),h.onclick=function(){k&&g.navigateTo(k);return!1})}},{key:"_setStyles",value:function(h,d){var c=d.italic,b="";d.bold&&(b+="font-weight: bold;");c&&(b+="font-style: italic;");b&&h.setAttribute("style",b)}},{key:"_addToggleButton",value:function(h,d){var c=this,b=d.count;d=d.items;var k=document.createElement("div");k.className="outlineItemToggler";0>b&&Math.abs(b)===d.length&&k.classList.add("outlineItemsHidden");k.onclick=function(b){b.stopPropagation();k.classList.toggle("outlineItemsHidden");b.shiftKey&&(b=!k.classList.contains("outlineItemsHidden"),c._toggleOutlineItem(h,b))};h.insertBefore(k,h.firstChild)}},{key:"_toggleOutlineItem",value:function(h){var d=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.lastToggleIsShow=d;var c=!0,b=!1,k=void 0;try{for(var g=h.querySelectorAll(".outlineItemToggler")[Symbol.iterator](),a;!(c=(a=g.next()).done);c=!0)a.value.classList.toggle("outlineItemsHidden",!d)}catch(e){b=!0,k=e}finally{try{if(!c&&null!=g["return"])g["return"]()}finally{if(b)throw k;}}}},{key:"toggleOutlineTree",value:function(){this.outline&&this._toggleOutlineItem(this.container,!this.lastToggleIsShow)}},{key:"render",value:function(h){var d=h.outline;h=0;this.outline&&this.reset();this.outline=d||null;if(d){for(var d=document.createDocumentFragment(),c=[{parent:d,items:this.outline}],b=!1;0<c.length;){var k=c.shift(),g=!0,a=!1,e=void 0;try{for(var u=k.items[Symbol.iterator](),f;!(g=(f=u.next()).done);g=!0){var x=f.value,v=document.createElement("div");v.className="outlineItem";var l=document.createElement("a");this._bindLink(l,x);this._setStyles(l,x);l.textContent=(0,p.removeNullCharacters)(x.title)||"\u2013";v.appendChild(l);if(0<x.items.length){b=!0;this._addToggleButton(v,x);var z=document.createElement("div");z.className="outlineItems";v.appendChild(z);c.push({parent:z,items:x.items})}k.parent.appendChild(v);h++}}catch(G){a=!0,e=G}finally{try{if(!g&&null!=u["return"])u["return"]()}finally{if(a)throw e;}}}b&&(this.container.classList.add("outlineWithDeepNesting"),this.lastToggleIsShow=0===d.querySelectorAll(".outlineItemsHidden").length);this.container.appendChild(d)}this._dispatchEvent(h)}}]);return f}();f.PDFOutlineViewer=q},function(q,f,m){function n(h,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(h,b.key,b)}}function r(h,d,c){d&&n(h.prototype,d);c&&n(h,c);return h}Object.defineProperty(f,"__esModule",{value:!0});f.PDFPresentationMode=void 0;var p=m(5),l=Math.PI/6;q=function(){function h(d){var c=this,b=d.container,k=d.viewer,k=void 0===k?null:k,g=d.pdfViewer,a=d.eventBus;d=d.contextMenuItems;d=void 0===d?null:d;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.container=b;this.viewer=k||b.firstElementChild;this.pdfViewer=g;this.eventBus=a;this.active=!1;this.args=null;this.contextMenuOpen=!1;this.mouseScrollDelta=this.mouseScrollTimeStamp=0;this.touchSwipeState=null;d&&(d.contextFirstPage.addEventListener("click",function(){c.contextMenuOpen=!1;c.eventBus.dispatch("firstpage",{source:c})}),d.contextLastPage.addEventListener("click",function(){c.contextMenuOpen=!1;c.eventBus.dispatch("lastpage",{source:c})}),d.contextPageRotateCw.addEventListener("click",function(){c.contextMenuOpen=!1;c.eventBus.dispatch("rotatecw",{source:c})}),d.contextPageRotateCcw.addEventListener("click",function(){c.contextMenuOpen=!1;c.eventBus.dispatch("rotateccw",{source:c})}))}r(h,[{key:"request",value:function(){if(this.switchInProgress||this.active||!this.viewer.hasChildNodes())return!1;this._addFullscreenChangeListeners();this._setSwitchInProgress();this._notifyStateChange();if(this.container.requestFullscreen)this.container.requestFullscreen();else if(this.container.mozRequestFullScreen)this.container.mozRequestFullScreen();else if(this.container.webkitRequestFullscreen)this.container.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT);else if(this.container.msRequestFullscreen)this.container.msRequestFullscreen();else return!1;this.args={page:this.pdfViewer.currentPageNumber,previousScale:this.pdfViewer.currentScaleValue};return!0}},{key:"_mouseWheel",value:function(d){if(this.active){d.preventDefault();var c=(0,p.normalizeWheelEventDelta)(d);d=(new Date).getTime();var b=this.mouseScrollTimeStamp;!(d>b&&50>d-b)&&((0<this.mouseScrollDelta&&0>c||0>this.mouseScrollDelta&&0<c)&&this._resetMouseScrollState(),this.mouseScrollDelta+=c,.1<=Math.abs(this.mouseScrollDelta)&&(c=this.mouseScrollDelta,this._resetMouseScrollState(),0<c?this._goToPreviousPage():this._goToNextPage()))&&(this.mouseScrollTimeStamp=d)}}},{key:"_goToPreviousPage",value:function(){var d=this.pdfViewer.currentPageNumber;if(1>=d)return!1;this.pdfViewer.currentPageNumber=d-1;return!0}},{key:"_goToNextPage",value:function(){var d=this.pdfViewer.currentPageNumber;if(d>=this.pdfViewer.pagesCount)return!1;this.pdfViewer.currentPageNumber=d+1;return!0}},{key:"_notifyStateChange",value:function(){this.eventBus.dispatch("presentationmodechanged",{source:this,active:this.active,switchInProgress:!!this.switchInProgress})}},{key:"_setSwitchInProgress",value:function(){var d=this;this.switchInProgress&&clearTimeout(this.switchInProgress);this.switchInProgress=setTimeout(function(){d._removeFullscreenChangeListeners();delete d.switchInProgress;d._notifyStateChange()},1500)}},{key:"_resetSwitchInProgress",value:function(){this.switchInProgress&&(clearTimeout(this.switchInProgress),delete this.switchInProgress)}},{key:"_enter",value:function(){var d=this;this.active=!0;this._resetSwitchInProgress();this._notifyStateChange();this.container.classList.add("pdfPresentationMode");setTimeout(function(){d.pdfViewer.currentPageNumber=d.args.page;d.pdfViewer.currentScaleValue="page-fit"},0);this._addWindowListeners();this._showControls();this.contextMenuOpen=!1;this.container.setAttribute("contextmenu","viewerContextMenu");window.getSelection().removeAllRanges()}},{key:"_exit",value:function(){var d=this,c=this.pdfViewer.currentPageNumber;this.container.classList.remove("pdfPresentationMode");setTimeout(function(){d.active=!1;d._removeFullscreenChangeListeners();d._notifyStateChange();d.pdfViewer.currentScaleValue=d.args.previousScale;d.pdfViewer.currentPageNumber=c;d.args=null},0);this._removeWindowListeners();this._hideControls();this._resetMouseScrollState();this.container.removeAttribute("contextmenu");this.contextMenuOpen=!1}},{key:"_mouseDown",value:function(d){this.contextMenuOpen?(this.contextMenuOpen=!1,d.preventDefault()):0!==d.button||d.target.href&&d.target.classList.contains("internalLink")||(d.preventDefault(),d.shiftKey?this._goToPreviousPage():this._goToNextPage())}},{key:"_contextMenu",value:function(){this.contextMenuOpen=!0}},{key:"_showControls",value:function(){var d=this;this.controlsTimeout?clearTimeout(this.controlsTimeout):this.container.classList.add("pdfPresentationModeControls");this.controlsTimeout=setTimeout(function(){d.container.classList.remove("pdfPresentationModeControls");delete d.controlsTimeout},3E3)}},{key:"_hideControls",value:function(){this.controlsTimeout&&(clearTimeout(this.controlsTimeout),this.container.classList.remove("pdfPresentationModeControls"),delete this.controlsTimeout)}},{key:"_resetMouseScrollState",value:function(){this.mouseScrollDelta=this.mouseScrollTimeStamp=0}},{key:"_touchSwipe",value:function(d){if(this.active)if(1<d.touches.length)this.touchSwipeState=null;else switch(d.type){case "touchstart":this.touchSwipeState={startX:d.touches[0].pageX,startY:d.touches[0].pageY,endX:d.touches[0].pageX,endY:d.touches[0].pageY};break;case "touchmove":if(null===this.touchSwipeState)break;this.touchSwipeState.endX=d.touches[0].pageX;this.touchSwipeState.endY=d.touches[0].pageY;d.preventDefault();break;case "touchend":if(null!==this.touchSwipeState){d=0;var c=this.touchSwipeState.endX-this.touchSwipeState.startX,b=this.touchSwipeState.endY-this.touchSwipeState.startY,k=Math.abs(Math.atan2(b,c));50<Math.abs(c)&&(k<=l||k>=Math.PI-l)?d=c:50<Math.abs(b)&&Math.abs(k-Math.PI/2)<=l&&(d=b);0<d?this._goToPreviousPage():0>d&&this._goToNextPage()}}}},{key:"_addWindowListeners",value:function(){this.showControlsBind=this._showControls.bind(this);this.mouseDownBind=this._mouseDown.bind(this);this.mouseWheelBind=this._mouseWheel.bind(this);this.resetMouseScrollStateBind=this._resetMouseScrollState.bind(this);this.contextMenuBind=this._contextMenu.bind(this);this.touchSwipeBind=this._touchSwipe.bind(this);window.addEventListener("mousemove",this.showControlsBind);window.addEventListener("mousedown",this.mouseDownBind);window.addEventListener("wheel",this.mouseWheelBind);window.addEventListener("keydown",this.resetMouseScrollStateBind);window.addEventListener("contextmenu",this.contextMenuBind);window.addEventListener("touchstart",this.touchSwipeBind);window.addEventListener("touchmove",this.touchSwipeBind);window.addEventListener("touchend",this.touchSwipeBind)}},{key:"_removeWindowListeners",value:function(){window.removeEventListener("mousemove",this.showControlsBind);window.removeEventListener("mousedown",this.mouseDownBind);window.removeEventListener("wheel",this.mouseWheelBind);window.removeEventListener("keydown",this.resetMouseScrollStateBind);window.removeEventListener("contextmenu",this.contextMenuBind);window.removeEventListener("touchstart",this.touchSwipeBind);window.removeEventListener("touchmove",this.touchSwipeBind);window.removeEventListener("touchend",this.touchSwipeBind);delete this.showControlsBind;delete this.mouseDownBind;delete this.mouseWheelBind;delete this.resetMouseScrollStateBind;delete this.contextMenuBind;delete this.touchSwipeBind}},{key:"_fullscreenChange",value:function(){this.isFullscreen?this._enter():this._exit()}},{key:"_addFullscreenChangeListeners",value:function(){this.fullscreenChangeBind=this._fullscreenChange.bind(this);window.addEventListener("fullscreenchange",this.fullscreenChangeBind);window.addEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.addEventListener("webkitfullscreenchange",this.fullscreenChangeBind);window.addEventListener("MSFullscreenChange",this.fullscreenChangeBind)}},{key:"_removeFullscreenChangeListeners",value:function(){window.removeEventListener("fullscreenchange",this.fullscreenChangeBind);window.removeEventListener("mozfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("webkitfullscreenchange",this.fullscreenChangeBind);window.removeEventListener("MSFullscreenChange",this.fullscreenChangeBind);delete this.fullscreenChangeBind}},{key:"isFullscreen",get:function(){return!!(document.fullscreenElement||document.mozFullScreen||document.webkitIsFullScreen||document.msFullscreenElement)}}]);return h}();f.PDFPresentationMode=q},function(q,f,m){function n(f,h){for(var d=0;d<h.length;d++){var c=h[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(f,c.key,c)}}function r(f,h,d){h&&n(f.prototype,h);d&&n(f,d);return f}Object.defineProperty(f,"__esModule",{value:!0});f.PDFSidebarResizer=void 0;var p=m(5);q=function(){function f(h,d){var c=this,b=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p.NullL10n;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.sidebarOpen=this.isRTL=this.enabled=!1;this.doc=document.documentElement;this._outerContainerWidth=this._width=null;this._boundEvents=Object.create(null);this.outerContainer=h.outerContainer;this.resizer=h.resizer;this.eventBus=d;this.l10n=b;"undefined"!==typeof CSS&&"function"===typeof CSS.supports&&CSS.supports("--sidebar-width","calc(-1 * ".concat(200,"px)"))?(this.enabled=!0,this.resizer.classList.remove("hidden"),this.l10n.getDirection().then(function(b){c.isRTL="rtl"===b}),this._addEventListeners()):console.warn("PDFSidebarResizer: The browser does not support resizing of the sidebar.")}r(f,[{key:"_updateWidth",value:function(){var h=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if(!this.enabled)return!1;var d=Math.floor(this.outerContainerWidth/2);h>d&&(h=d);200>h&&(h=200);if(h===this._width)return!1;this._width=h;this.doc.style.setProperty("--sidebar-width","".concat(h,"px"));return!0}},{key:"_mouseMove",value:function(h){h=h.clientX;this.isRTL&&(h=this.outerContainerWidth-h);this._updateWidth(h)}},{key:"_mouseUp",value:function(h){this.outerContainer.classList.remove("sidebarResizing");this.eventBus.dispatch("resize",{source:this});h=this._boundEvents;window.removeEventListener("mousemove",h.mouseMove);window.removeEventListener("mouseup",h.mouseUp)}},{key:"_addEventListeners",value:function(){var h=this;if(this.enabled){var d=this._boundEvents;d.mouseMove=this._mouseMove.bind(this);d.mouseUp=this._mouseUp.bind(this);this.resizer.addEventListener("mousedown",function(c){0===c.button&&(h.outerContainer.classList.add("sidebarResizing"),window.addEventListener("mousemove",d.mouseMove),window.addEventListener("mouseup",d.mouseUp))});this.eventBus.on("sidebarviewchanged",function(c){h.sidebarOpen=!(!c||!c.view)});this.eventBus.on("resize",function(c){if(c&&c.source===window&&(h._outerContainerWidth=null,h._width))if(h.sidebarOpen){h.outerContainer.classList.add("sidebarResizing");var b=h._updateWidth(h._width);Promise.resolve().then(function(){h.outerContainer.classList.remove("sidebarResizing");b&&h.eventBus.dispatch("resize",{source:h})})}else h._updateWidth(h._width)})}}},{key:"outerContainerWidth",get:function(){this._outerContainerWidth||(this._outerContainerWidth=this.outerContainer.clientWidth);return this._outerContainerWidth}}]);return f}();f.PDFSidebarResizer=q},function(q,f,m){function n(h,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1;b.configurable=!0;"value"in b&&(b.writable=!0);Object.defineProperty(h,b.key,b)}}function r(h,d,c){d&&n(h.prototype,d);c&&n(h,c);return h}Object.defineProperty(f,"__esModule",{value:!0});f.PDFThumbnailViewer=void 0;var p=m(5),l=m(26);q=function(){function h(d){var c=d.container,b=d.linkService,k=d.renderingQueue;d=d.l10n;d=void 0===d?p.NullL10n:d;if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");this.container=c;this.linkService=b;this.renderingQueue=k;this.l10n=d;this.scroll=(0,p.watchScroll)(this.container,this._scrollUpdated.bind(this));this._resetView()}r(h,[{key:"_scrollUpdated",value:function(){this.renderingQueue.renderHighestPriority()}},{key:"getThumbnail",value:function(d){return this._thumbnails[d]}},{key:"_getVisibleThumbs",value:function(){return(0,p.getVisibleElements)(this.container,this._thumbnails)}},{key:"scrollThumbnailIntoView",value:function(d){if(this.pdfDocument){var c=this._thumbnails[d-1];if(c){d!==this._currentPageNumber&&(this._thumbnails[this._currentPageNumber-1].div.classList.remove("selected"),c.div.classList.add("selected"));var b=this._getVisibleThumbs(),k=b.views.length;if(0<k){var g=b.first.id,k=1<k?b.last.id:g,a=!1;d<=g||d>=k?a=!0:b.views.some(function(b){if(b.id!==d)return!1;a=100>b.percent;return!0});a&&(0,p.scrollIntoView)(c.div,{top:-19})}this._currentPageNumber=d}else console.error('scrollThumbnailIntoView: Invalid "pageNumber" parameter.')}}},{key:"cleanup",value:function(){l.PDFThumbnailView.cleanup()}},{key:"_resetView",value:function(){this._thumbnails=[];this._currentPageNumber=1;this._pageLabels=null;this._pagesRotation=0;this._pagesRequests=[];this.container.textContent=""}},{key:"setDocument",value:function(d){var c=this;this.pdfDocument&&(this._cancelRendering(),this._resetView());if(this.pdfDocument=d)d.getPage(1).then(function(b){var k=d.numPages;b=b.getViewport({scale:1});for(var g=1;g<=k;++g){var a=new l.PDFThumbnailView({container:c.container,id:g,defaultViewport:b.clone(),linkService:c.linkService,renderingQueue:c.renderingQueue,disableCanvasToImageConversion:!1,l10n:c.l10n});c._thumbnails.push(a)}c._thumbnails[c._currentPageNumber-1].div.classList.add("selected")})["catch"](function(b){console.error("Unable to initialize thumbnail viewer",b)})}},{key:"_cancelRendering",value:function(){for(var d=0,c=this._thumbnails.length;d<c;d++)this._thumbnails[d]&&this._thumbnails[d].cancelRendering()}},{key:"setPageLabels",value:function(d){if(this.pdfDocument){d?Array.isArray(d)&&this.pdfDocument.numPages===d.length?this._pageLabels=d:(this._pageLabels=null,console.error("PDFThumbnailViewer_setPageLabels: Invalid page labels.")):this._pageLabels=null;d=0;for(var c=this._thumbnails.length;d<c;d++)this._thumbnails[d].setPageLabel(this._pageLabels&&this._pageLabels[d])}}},{key:"_ensurePdfPageLoaded",value:function(d){var c=this;if(d.pdfPage)return Promise.resolve(d.pdfPage);var b=d.id;if(this._pagesRequests[b])return this._pagesRequests[b];var k=this.pdfDocument.getPage(b).then(function(g){d.setPdfPage(g);c._pagesRequests[b]=null;return g})["catch"](function(d){console.error("Unable to get page for thumb view",d);c._pagesRequests[b]=null});return this._pagesRequests[b]=k}},{key:"forceRendering",value:function(){var d=this,c=this._getVisibleThumbs(),b=this.renderingQueue.getHighestPriority(c,this._thumbnails,this.scroll.down);return b?(this._ensurePdfPageLoaded(b).then(function(){d.renderingQueue.renderView(b)}),!0):!1}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(d){if(!(0,p.isValidRotation)(d))throw Error("Invalid thumbnails rotation angle.");if(this.pdfDocument&&this._pagesRotation!==d){this._pagesRotation=d;for(var c=0,b=this._thumbnails.length;c<b;c++)this._thumbnails[c].update(d)}}}]);return h}();f.PDFThumbnailViewer=q},function(q,f,m){function n(c,b){for(var d=0;d<b.length;d++){var g=b[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}function r(c,b,d){b&&n(c.prototype,b);d&&n(c,d);return c}Object.defineProperty(f,"__esModule",{value:!0});f.PDFThumbnailView=void 0;var p=m(7),l=m(5),h=m(11),d=function(){var c=null;return{getCanvas:function(b,d){var g=c;g||(c=g=document.createElement("canvas"));g.width=b;g.height=d;g.mozOpaque=!0;var a=g.getContext("2d",{alpha:!1});a.save();a.fillStyle="rgb(255, 255, 255)";a.fillRect(0,0,b,d);a.restore();return g},destroyCanvas:function(){var b=c;b&&(b.width=0,b.height=0);c=null}}}();q=function(){function c(b){var d=b.container,g=b.id,a=b.defaultViewport,e=b.linkService,u=b.renderingQueue,f=b.disableCanvasToImageConversion,f=void 0===f?!1:f;b=b.l10n;b=void 0===b?l.NullL10n:b;if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.id=g;this.renderingId="thumbnail"+g;this.pdfPage=this.pageLabel=null;this.rotation=0;this.viewport=a;this.pdfPageRotate=a.rotation;this.linkService=e;this.renderingQueue=u;this.renderTask=null;this.renderingState=h.RenderingStates.INITIAL;this.resume=null;this.disableCanvasToImageConversion=f;this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasWidth=98;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.l10n=b;var x=document.createElement("a");x.href=e.getAnchorUrl("#page\x3d"+g);this.l10n.get("thumb_page_title",{page:g},"Page {{page}}").then(function(a){x.title=a});x.onclick=function(){e.page=g;return!1};this.anchor=x;a=document.createElement("div");a.className="thumbnail";a.setAttribute("data-page-number",this.id);this.div=a;u=document.createElement("div");u.className="thumbnailSelectionRing";u.style.width=this.canvasWidth+2+"px";u.style.height=this.canvasHeight+2+"px";this.ring=u;a.appendChild(u);x.appendChild(a);d.appendChild(x)}r(c,[{key:"setPdfPage",value:function(b){this.pdfPage=b;this.pdfPageRotate=b.rotate;this.viewport=b.getViewport({scale:1,rotation:(this.rotation+this.pdfPageRotate)%360});this.reset()}},{key:"reset",value:function(){this.cancelRendering();this.renderingState=h.RenderingStates.INITIAL;this.pageWidth=this.viewport.width;this.pageHeight=this.viewport.height;this.pageRatio=this.pageWidth/this.pageHeight;this.canvasHeight=this.canvasWidth/this.pageRatio|0;this.scale=this.canvasWidth/this.pageWidth;this.div.removeAttribute("data-loaded");for(var b=this.ring,c=b.childNodes,d=c.length-1;0<=d;d--)b.removeChild(c[d]);b.style.width=this.canvasWidth+2+"px";b.style.height=this.canvasHeight+2+"px";this.canvas&&(this.canvas.width=0,this.canvas.height=0,delete this.canvas);this.image&&(this.image.removeAttribute("src"),delete this.image)}},{key:"update",value:function(b){"undefined"!==typeof b&&(this.rotation=b);this.viewport=this.viewport.clone({scale:1,rotation:(this.rotation+this.pdfPageRotate)%360});this.reset()}},{key:"cancelRendering",value:function(){this.renderTask&&(this.renderTask.cancel(),this.renderTask=null);this.resume=null}},{key:"_getPageDrawContext",value:function(){var b=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,c=document.createElement("canvas");this.canvas=c;c.mozOpaque=!0;var d=c.getContext("2d",{alpha:!1}),a=(0,l.getOutputScale)(d);c.width=this.canvasWidth*a.sx|0;c.height=this.canvasHeight*a.sy|0;c.style.width=this.canvasWidth+"px";c.style.height=this.canvasHeight+"px";!b&&a.scaled&&d.scale(a.sx,a.sy);return d}},{key:"_convertCanvasToImage",value:function(){var b=this;if(this.canvas&&this.renderingState===h.RenderingStates.FINISHED){var c=this.renderingId;if(this.disableCanvasToImageConversion)this.canvas.id=c,this.canvas.className="thumbnailImage",this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(a){b.canvas.setAttribute("aria-label",a)}),this.div.setAttribute("data-loaded",!0),this.ring.appendChild(this.canvas);else{var d=document.createElement("img");d.id=c;d.className="thumbnailImage";this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(a){d.setAttribute("aria-label",a)});d.style.width=this.canvasWidth+"px";d.style.height=this.canvasHeight+"px";d.src=this.canvas.toDataURL();this.image=d;this.div.setAttribute("data-loaded",!0);this.ring.appendChild(d);this.canvas.width=0;this.canvas.height=0;delete this.canvas}}}},{key:"draw",value:function(){var b=this;if(this.renderingState!==h.RenderingStates.INITIAL)return console.error("Must be in new state before drawing"),Promise.resolve(void 0);this.renderingState=h.RenderingStates.RUNNING;var c=(0,p.createPromiseCapability)(),d=function(a){u===b.renderTask&&(b.renderTask=null);a instanceof p.RenderingCancelledException?c.resolve(void 0):(b.renderingState=h.RenderingStates.FINISHED,b._convertCanvasToImage(),a?c.reject(a):c.resolve(void 0))},a=this._getPageDrawContext(),e=this.viewport.clone({scale:this.scale}),u=this.renderTask=this.pdfPage.render({canvasContext:a,viewport:e});u.onContinue=function(a){b.renderingQueue.isHighestPriority(b)?a():(b.renderingState=h.RenderingStates.PAUSED,b.resume=function(){b.renderingState=h.RenderingStates.RUNNING;a()})};u.promise.then(function(){d(null)},function(a){d(a)});return c.promise}},{key:"setImage",value:function(b){if(this.renderingState===h.RenderingStates.INITIAL){var c=b.canvas;if(c){this.pdfPage||this.setPdfPage(b.pdfPage);this.renderingState=h.RenderingStates.FINISHED;b=this._getPageDrawContext(!0);var g=b.canvas;if(c.width<=2*g.width)b.drawImage(c,0,0,c.width,c.height,0,0,g.width,g.height);else{for(var a=g.width<<3,e=g.height<<3,u=d.getCanvas(a,e),f=u.getContext("2d");a>c.width||e>c.height;)a>>=1,e>>=1;for(f.drawImage(c,0,0,c.width,c.height,0,0,a,e);a>2*g.width;)f.drawImage(u,0,0,a,e,0,0,a>>1,e>>1),a>>=1,e>>=1;b.drawImage(u,0,0,a,e,0,0,g.width,g.height)}this._convertCanvasToImage()}}}},{key:"setPageLabel",value:function(b){var c=this;this.pageLabel="string"===typeof b?b:null;this.l10n.get("thumb_page_title",{page:this.pageId},"Page {{page}}").then(function(b){c.anchor.title=b});this.renderingState===h.RenderingStates.FINISHED&&this.l10n.get("thumb_page_canvas",{page:this.pageId},"Thumbnail of Page {{page}}").then(function(b){c.image?c.image.setAttribute("aria-label",b):c.disableCanvasToImageConversion&&c.canvas&&c.canvas.setAttribute("aria-label",b)})}},{key:"pageId",get:function(){return null!==this.pageLabel?this.pageLabel:this.id}}],[{key:"cleanup",value:function(){d.destroyCanvas()}}]);return c}();f.PDFThumbnailView=q},function(q,f,m){function n(b){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return n(b)}function r(b,c){for(var a=0;a<c.length;a++){var e=c[a];e.enumerable=e.enumerable||!1;e.configurable=!0;"value"in e&&(e.writable=!0);Object.defineProperty(b,e.key,e)}}function p(b,c,a){c&&r(b.prototype,c);a&&r(b,a);return b}function l(b,c,a){l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=h(a),null!==a););if(a)return b=Object.getOwnPropertyDescriptor(a,b),b.get?b.get.call(c):b.value};return l(b,c,a||b)}function h(b){h=Object.setPrototypeOf?Object.getPrototypeOf:function(b){return b.__proto__||Object.getPrototypeOf(b)};return h(b)}function d(b,d){if("function"!==typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(d&&d.prototype,{constructor:{value:b,writable:!0,configurable:!0}});d&&c(b,d)}function c(b,d){c=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return c(b,d)}Object.defineProperty(f,"__esModule",{value:!0});f.PDFViewer=void 0;q=m(28);var b=m(7);m=function(c){function g(){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var a=h(g).apply(this,arguments);if(!a||"object"!==n(a)&&"function"!==typeof a){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=this}return a}d(g,c);p(g,[{key:"_scrollIntoView",value:function(a){var b=a.pageDiv,c=a.pageSpot,c=void 0===c?null:c;a=a.pageNumber;a=void 0===a?null:a;if(!c&&!this.isInPresentationMode){var d=b.offsetLeft+b.clientLeft,k=d+b.clientWidth,f=this.container,m=f.scrollLeft,f=f.clientWidth;if(this._isScrollModeHorizontal||d<m||k>m+f)c={left:0,top:0}}l(h(g.prototype),"_scrollIntoView",this).call(this,{pageDiv:b,pageSpot:c,pageNumber:a})}},{key:"_getVisiblePages",value:function(){return this.isInPresentationMode?this._getCurrentVisiblePage():l(h(g.prototype),"_getVisiblePages",this).call(this)}},{key:"_updateHelper",value:function(a){if(!this.isInPresentationMode){var b=this._currentPageNumber,c=!1,d=!0,g=!1,k=void 0;try{for(var h=a[Symbol.iterator](),f;!(d=(f=h.next()).done);d=!0){var l=f.value;if(100>l.percent)break;if(l.id===b){c=!0;break}}}catch(B){g=!0,k=B}finally{try{if(!d&&null!=h["return"])h["return"]()}finally{if(g)throw k;}}c||(b=a[0].id);this._setCurrentPageNumber(b)}}},{key:"_setDocumentViewerElement",get:function(){return(0,b.shadow)(this,"_setDocumentViewerElement",this.viewer)}}]);return g}(q.BaseViewer);f.PDFViewer=m},function(q,f,m){function n(a,b){for(var e=0;e<b.length;e++){var c=b[e];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(a,c.key,c)}}function r(a,b,c){b&&n(a.prototype,b);c&&n(a,c);return a}function p(a){var b=[];this.push=function(e){var c=b.indexOf(e);0<=c&&b.splice(c,1);b.push(e);b.length>a&&b.shift().destroy()};this.resize=function(e,c){a=e;if(c){var d=new Set;e=0;for(var g=c.length;e<g;++e)d.add(c[e].id);(0,l.moveToEndOfArray)(b,function(a){return d.has(a.id)})}for(;b.length>a;)b.shift().destroy()}}Object.defineProperty(f,"__esModule",{value:!0});f.BaseViewer=void 0;var l=m(5),h=m(11),d=m(29),c=m(7),b=m(30),k=m(21),g=m(31);q=function(){function a(b){var c=this;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");if(this.constructor===a)throw Error("Cannot initialize BaseViewer.");this._name=this.constructor.name;this.container=b.container;this.viewer=b.viewer||b.container.firstElementChild;this.eventBus=b.eventBus||(0,l.getGlobalEventBus)();this.linkService=b.linkService||new k.SimpleLinkService;this.downloadManager=b.downloadManager||null;this.findController=b.findController||null;this.removePageBorders=b.removePageBorders||!1;this.textLayerMode=Number.isInteger(b.textLayerMode)?b.textLayerMode:l.TextLayerMode.ENABLE;this.imageResourcesPath=b.imageResourcesPath||"";this.renderInteractiveForms=b.renderInteractiveForms||!1;this.enablePrintAutoRotate=b.enablePrintAutoRotate||!1;this.renderer=b.renderer||l.RendererType.CANVAS;this.enableWebGL=b.enableWebGL||!1;this.useOnlyCssZoom=b.useOnlyCssZoom||!1;this.maxCanvasPixels=b.maxCanvasPixels;this.l10n=b.l10n||l.NullL10n;(this.defaultRenderingQueue=!b.renderingQueue)?(this.renderingQueue=new h.PDFRenderingQueue,this.renderingQueue.setViewer(this)):this.renderingQueue=b.renderingQueue;this.scroll=(0,l.watchScroll)(this.container,this._scrollUpdate.bind(this));this.presentationModeState=l.PresentationModeState.UNKNOWN;this._resetView();this.removePageBorders&&this.viewer.classList.add("removePageBorders");Promise.resolve().then(function(){c.eventBus.dispatch("baseviewerinit",{source:c})})}r(a,[{key:"getPageView",value:function(a){return this._pages[a]}},{key:"_setCurrentPageNumber",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;if(this._currentPageNumber===a)return b&&this._resetCurrentPageView(),!0;if(!(0<a&&a<=this.pagesCount))return!1;this._currentPageNumber=a;this.eventBus.dispatch("pagechanging",{source:this,pageNumber:a,pageLabel:this._pageLabels&&this._pageLabels[a-1]});b&&this._resetCurrentPageView();return!0}},{key:"setDocument",value:function(a){var e=this;this.pdfDocument&&(this._cancelRendering(),this._resetView(),this.findController&&this.findController.setDocument(null));if(this.pdfDocument=a){var d=a.numPages,g=(0,c.createPromiseCapability)();this.pagesPromise=g.promise;g.promise.then(function(){e._pageViewsReady=!0;e.eventBus.dispatch("pagesloaded",{source:e,pagesCount:d})});var k=(0,c.createPromiseCapability)();this.onePageRendered=k.promise;var h=function(a){a.onBeforeDraw=function(){e._buffer.push(a)};a.onAfterDraw=function(){k.settled||k.resolve()}},f=a.getPage(1);this.firstPagePromise=f;f.then(function(c){var u=e.currentScale;c=c.getViewport({scale:u*l.CSS_UNITS});for(var f=1;f<=d;++f){var w=null;e.textLayerMode!==l.TextLayerMode.DISABLE&&(w=e);w=new b.PDFPageView({container:e._setDocumentViewerElement,eventBus:e.eventBus,id:f,scale:u,defaultViewport:c.clone(),renderingQueue:e.renderingQueue,textLayerFactory:w,textLayerMode:e.textLayerMode,annotationLayerFactory:e,imageResourcesPath:e.imageResourcesPath,renderInteractiveForms:e.renderInteractiveForms,renderer:e.renderer,enableWebGL:e.enableWebGL,useOnlyCssZoom:e.useOnlyCssZoom,maxCanvasPixels:e.maxCanvasPixels,l10n:e.l10n});h(w);e._pages.push(w)}e._spreadMode!==l.SpreadMode.NONE&&e._updateSpreadMode();k.promise.then(function(){e.findController&&e.findController.setDocument(a);if(a.loadingParams.disableAutoFetch)g.resolve();else for(var b=d,c=function(c){a.getPage(c).then(function(a){var d=e._pages[c-1];d.pdfPage||d.setPdfPage(a);e.linkService.cachePageRef(c,a.ref);0===--b&&g.resolve()},function(a){console.error("Unable to get page ".concat(c," to initialize viewer"),a);0===--b&&g.resolve()})},k=1;k<=d;++k)c(k)});e.eventBus.dispatch("pagesinit",{source:e});e.defaultRenderingQueue&&e.update()})["catch"](function(a){console.error("Unable to initialize viewer",a)})}}},{key:"setPageLabels",value:function(a){if(this.pdfDocument){a?Array.isArray(a)&&this.pdfDocument.numPages===a.length?this._pageLabels=a:(this._pageLabels=null,console.error("".concat(this._name,".setPageLabels: Invalid page labels."))):this._pageLabels=null;a=0;for(var b=this._pages.length;a<b;a++)this._pages[a].setPageLabel(this._pageLabels&&this._pageLabels[a])}}},{key:"_resetView",value:function(){this._pages=[];this._currentPageNumber=1;this._currentScale=l.UNKNOWN_SCALE;this._pageLabels=this._currentScaleValue=null;this._buffer=new p(10);this._location=null;this._pagesRotation=0;this._pagesRequests=[];this._pageViewsReady=!1;this._scrollMode=l.ScrollMode.VERTICAL;this._spreadMode=l.SpreadMode.NONE;this.viewer.textContent="";this._updateScrollMode()}},{key:"_scrollUpdate",value:function(){0!==this.pagesCount&&this.update()}},{key:"_scrollIntoView",value:function(a){var b=a.pageDiv;a=a.pageSpot;a=void 0===a?null:a;(0,l.scrollIntoView)(b,a)}},{key:"_setScaleUpdatePages",value:function(a,b){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:!1,e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;this._currentScaleValue=b.toString();var d;d=this._currentScale;d=a===d?!0:1E-15>Math.abs(a-d)?!0:!1;if(d)e&&this.eventBus.dispatch("scalechanging",{source:this,scale:a,presetValue:b});else{d=0;for(var g=this._pages.length;d<g;d++)this._pages[d].update(a);this._currentScale=a;if(!c){var c=this._currentPageNumber,k;!this._location||this.isInPresentationMode||this.isChangingPresentationMode||(c=this._location.pageNumber,k=[null,{name:"XYZ"},this._location.left,this._location.top,null]);this.scrollPageIntoView({pageNumber:c,destArray:k,allowNegativeOffset:!0})}this.eventBus.dispatch("scalechanging",{source:this,scale:a,presetValue:e?b:void 0});this.defaultRenderingQueue&&this.update()}}},{key:"_setScale",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=parseFloat(a);if(0<c)this._setScaleUpdatePages(c,a,b,!1);else if(c=this._pages[this._currentPageNumber-1]){var e=this.isInPresentationMode||this.removePageBorders,d=e?0:l.SCROLLBAR_PADDING,g=e?0:l.VERTICAL_PADDING;!e&&this._isScrollModeHorizontal&&(g=[g,d],d=g[0],g=g[1]);d=(this.container.clientWidth-d)/c.width*c.scale;g=(this.container.clientHeight-g)/c.height*c.scale;switch(a){case "page-actual":c=1;break;case "page-width":c=d;break;case "page-height":c=g;break;case "page-fit":c=Math.min(d,g);break;case "auto":c=(0,l.isPortraitOrientation)(c)?d:Math.min(g,d);c=Math.min(l.MAX_AUTO_SCALE,c);break;default:console.error("".concat(this._name,'._setScale: "').concat(a,'" is an unknown zoom value.'));return}this._setScaleUpdatePages(c,a,b,!0)}}},{key:"_resetCurrentPageView",value:function(){this.isInPresentationMode&&this._setScale(this._currentScaleValue,!0);this._scrollIntoView({pageDiv:this._pages[this._currentPageNumber-1].div})}},{key:"scrollPageIntoView",value:function(a){var b=a.pageNumber,c=a.destArray,e=void 0===c?null:c;a=a.allowNegativeOffset;a=void 0===a?!1:a;if(this.pdfDocument)if(c=Number.isInteger(b)&&this._pages[b-1])if(this.isInPresentationMode||!e)this._setCurrentPageNumber(b,!0);else{var d=0,g=0,k=0,h=0,f,m;m=0===c.rotation%180?!1:!0;f=(m?c.height:c.width)/c.scale/l.CSS_UNITS;m=(m?c.width:c.height)/c.scale/l.CSS_UNITS;switch(e[1].name){case "XYZ":d=e[2];g=e[3];f=e[4];d=null!==d?d:0;g=null!==g?g:m;break;case "Fit":case "FitB":f="page-fit";break;case "FitH":case "FitBH":g=e[2];f="page-width";null===g&&this._location&&(d=this._location.left,g=this._location.top);break;case "FitV":case "FitBV":d=e[2];k=f;h=m;f="page-height";break;case "FitR":d=e[2];g=e[3];k=e[4]-d;h=e[5]-g;m=this.removePageBorders?0:l.VERTICAL_PADDING;f=(this.container.clientWidth-(this.removePageBorders?0:l.SCROLLBAR_PADDING))/k/l.CSS_UNITS;m=(this.container.clientHeight-m)/h/l.CSS_UNITS;f=Math.min(Math.abs(f),Math.abs(m));break;default:console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(e[1].name,'" is not a valid destination type.'));return}f&&f!==this._currentScale?this.currentScaleValue=f:this._currentScale===l.UNKNOWN_SCALE&&(this.currentScaleValue=l.DEFAULT_SCALE_VALUE);"page-fit"!==f||e[4]?(d=[c.viewport.convertToViewportPoint(d,g),c.viewport.convertToViewportPoint(d+k,g+h)],e=Math.min(d[0][0],d[1][0]),d=Math.min(d[0][1],d[1][1]),a||(e=Math.max(e,0),d=Math.max(d,0)),this._scrollIntoView({pageDiv:c.div,pageSpot:{left:e,top:d},pageNumber:b})):this._scrollIntoView({pageDiv:c.div,pageNumber:b})}else console.error("".concat(this._name,".scrollPageIntoView: ")+'"'.concat(b,'" is not a valid pageNumber parameter.'))}},{key:"_updateLocation",value:function(a){var b=this._currentScale,c=this._currentScaleValue,b=parseFloat(c)===b?Math.round(1E4*b)/100:c,c=a.id,e;e="#page\x3d"+c+("\x26zoom\x3d"+b);var d=this.container,d=this._pages[c-1].getPagePoint(d.scrollLeft-a.x,d.scrollTop-a.y);a=Math.round(d[0]);d=Math.round(d[1]);this._location={pageNumber:c,scale:b,top:d,left:a,rotation:this._pagesRotation,pdfOpenParams:e+(","+a+","+d)}}},{key:"_updateHelper",value:function(a){throw Error("Not implemented: _updateHelper");}},{key:"update",value:function(){var a=this._getVisiblePages(),b=a.views,c=b.length;0!==c&&(this._buffer.resize(Math.max(10,2*c+1),b),this.renderingQueue.renderHighestPriority(a),this._updateHelper(b),this._updateLocation(a.first),this.eventBus.dispatch("updateviewarea",{source:this,location:this._location}))}},{key:"containsElement",value:function(a){return this.container.contains(a)}},{key:"focus",value:function(){this.container.focus()}},{key:"_getCurrentVisiblePage",value:function(){if(!this.pagesCount)return{views:[]};var a=this._pages[this._currentPageNumber-1],b=a.div,a={id:a.id,x:b.offsetLeft+b.clientLeft,y:b.offsetTop+b.clientTop,view:a};return{first:a,last:a,views:[a]}}},{key:"_getVisiblePages",value:function(){return(0,l.getVisibleElements)(this.container,this._pages,!0,this._isScrollModeHorizontal)}},{key:"isPageVisible",value:function(a){return this.pdfDocument?1>this.pageNumber||a>this.pagesCount?(console.error("".concat(this._name,'.isPageVisible: "').concat(a,'" is out of bounds.')),!1):this._getVisiblePages().views.some(function(b){return b.id===a}):!1}},{key:"cleanup",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].renderingState!==h.RenderingStates.FINISHED&&this._pages[a].reset()}},{key:"_cancelRendering",value:function(){for(var a=0,b=this._pages.length;a<b;a++)this._pages[a]&&this._pages[a].cancelRendering()}},{key:"_ensurePdfPageLoaded",value:function(a){var b=this;if(a.pdfPage)return Promise.resolve(a.pdfPage);var c=a.id;if(this._pagesRequests[c])return this._pagesRequests[c];var e=this.pdfDocument.getPage(c).then(function(e){a.pdfPage||a.setPdfPage(e);b._pagesRequests[c]=null;return e})["catch"](function(a){console.error("Unable to get page for page view",a);b._pagesRequests[c]=null});return this._pagesRequests[c]=e}},{key:"forceRendering",value:function(a){var b=this;a=a||this._getVisiblePages();var c=this.renderingQueue.getHighestPriority(a,this._pages,this._isScrollModeHorizontal?this.scroll.right:this.scroll.down);return c?(this._ensurePdfPageLoaded(c).then(function(){b.renderingQueue.renderView(c)}),!0):!1}},{key:"createTextLayerBuilder",value:function(a,b,c){var e=3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1;return new g.TextLayerBuilder({textLayerDiv:a,eventBus:this.eventBus,pageIndex:b,viewport:c,findController:this.isInPresentationMode?null:this.findController,enhanceTextSelection:this.isInPresentationMode?!1:e})}},{key:"createAnnotationLayerBuilder",value:function(a,b){return new d.AnnotationLayerBuilder({pageDiv:a,pdfPage:b,imageResourcesPath:2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,linkService:this.linkService,downloadManager:this.downloadManager,l10n:4<arguments.length&&void 0!==arguments[4]?arguments[4]:l.NullL10n})}},{key:"getPagesOverview",value:function(){var a=this._pages.map(function(a){a=a.pdfPage.getViewport({scale:1});return{width:a.width,height:a.height,rotation:a.rotation}});if(!this.enablePrintAutoRotate)return a;var b=(0,l.isPortraitOrientation)(a[0]);return a.map(function(a){return b===(0,l.isPortraitOrientation)(a)?a:{width:a.height,height:a.width,rotation:(a.rotation+90)%360}})}},{key:"_updateScrollMode",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,b=this._scrollMode,c=this.viewer;c.classList.toggle("scrollHorizontal",b===l.ScrollMode.HORIZONTAL);c.classList.toggle("scrollWrapped",b===l.ScrollMode.WRAPPED);this.pdfDocument&&a&&(this._currentScaleValue&&isNaN(this._currentScaleValue)&&this._setScale(this._currentScaleValue,!0),this._setCurrentPageNumber(a,!0),this.update())}},{key:"_updateSpreadMode",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null;if(this.pdfDocument){var b=this.viewer,c=this._pages;b.textContent="";if(this._spreadMode===l.SpreadMode.NONE)for(var d=0,g=c.length;d<g;++d)b.appendChild(c[d].div);else for(var d=this._spreadMode-1,g=null,k=0,f=c.length;k<f;++k)null===g?(g=document.createElement("div"),g.className="spread",b.appendChild(g)):k%2===d&&(g=g.cloneNode(!1),b.appendChild(g)),g.appendChild(c[k].div);a&&(this._setCurrentPageNumber(a,!0),this.update())}}},{key:"pagesCount",get:function(){return this._pages.length}},{key:"pageViewsReady",get:function(){return this._pageViewsReady}},{key:"currentPageNumber",get:function(){return this._currentPageNumber},set:function(a){if(!Number.isInteger(a))throw Error("Invalid page number.");this.pdfDocument&&(this._setCurrentPageNumber(a,!0)||console.error("".concat(this._name,'.currentPageNumber: "').concat(a,'" is not a valid page.')))}},{key:"currentPageLabel",get:function(){return this._pageLabels&&this._pageLabels[this._currentPageNumber-1]},set:function(a){if(this.pdfDocument){var b=a|0;if(this._pageLabels){var c=this._pageLabels.indexOf(a);0<=c&&(b=c+1)}this._setCurrentPageNumber(b,!0)||console.error("".concat(this._name,'.currentPageLabel: "').concat(a,'" is not a valid page.'))}}},{key:"currentScale",get:function(){return this._currentScale!==l.UNKNOWN_SCALE?this._currentScale:l.DEFAULT_SCALE},set:function(a){if(isNaN(a))throw Error("Invalid numeric scale.");this.pdfDocument&&this._setScale(a,!1)}},{key:"currentScaleValue",get:function(){return this._currentScaleValue},set:function(a){this.pdfDocument&&this._setScale(a,!1)}},{key:"pagesRotation",get:function(){return this._pagesRotation},set:function(a){if(!(0,l.isValidRotation)(a))throw Error("Invalid pages rotation angle.");if(this.pdfDocument&&this._pagesRotation!==a){this._pagesRotation=a;for(var b=this._currentPageNumber,c=0,e=this._pages.length;c<e;c++){var d=this._pages[c];d.update(d.scale,a)}this._currentScaleValue&&this._setScale(this._currentScaleValue,!0);this.eventBus.dispatch("rotationchanging",{source:this,pagesRotation:a,pageNumber:b});this.defaultRenderingQueue&&this.update()}}},{key:"_setDocumentViewerElement",get:function(){throw Error("Not implemented: _setDocumentViewerElement");}},{key:"_isScrollModeHorizontal",get:function(){return this.isInPresentationMode?!1:this._scrollMode===l.ScrollMode.HORIZONTAL}},{key:"isInPresentationMode",get:function(){return this.presentationModeState===l.PresentationModeState.FULLSCREEN}},{key:"isChangingPresentationMode",get:function(){return this.presentationModeState===l.PresentationModeState.CHANGING}},{key:"isHorizontalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollWidth>this.container.clientWidth}},{key:"isVerticalScrollbarEnabled",get:function(){return this.isInPresentationMode?!1:this.container.scrollHeight>this.container.clientHeight}},{key:"hasEqualPageSizes",get:function(){for(var a=this._pages[0],b=1,c=this._pages.length;b<c;++b){var d=this._pages[b];if(d.width!==a.width||d.height!==a.height)return!1}return!0}},{key:"scrollMode",get:function(){return this._scrollMode},set:function(a){if(this._scrollMode!==a){if(!(0,l.isValidScrollMode)(a))throw Error("Invalid scroll mode: ".concat(a));this._scrollMode=a;this.eventBus.dispatch("scrollmodechanged",{source:this,mode:a});this._updateScrollMode(this._currentPageNumber)}}},{key:"spreadMode",get:function(){return this._spreadMode},set:function(a){if(this._spreadMode!==a){if(!(0,l.isValidSpreadMode)(a))throw Error("Invalid spread mode: ".concat(a));this._spreadMode=a;this.eventBus.dispatch("spreadmodechanged",{source:this,mode:a});this._updateSpreadMode(this._currentPageNumber)}}}]);return a}();f.BaseViewer=q},function(q,f,m){function n(b,c){if(!(b instanceof c))throw new TypeError("Cannot call a class as a function");}function r(b,c){for(var d=0;d<c.length;d++){var a=c[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}function p(b,c,d){c&&r(b.prototype,c);d&&r(b,d);return b}Object.defineProperty(f,"__esModule",{value:!0});f.DefaultAnnotationLayerFactory=f.AnnotationLayerBuilder=void 0;var l=m(7),h=m(5),d=m(21),c=function(){function b(c){var d=c.pageDiv,a=c.pdfPage,e=c.linkService,k=c.downloadManager,f=c.imageResourcesPath,f=void 0===f?"":f,l=c.renderInteractiveForms,l=void 0===l?!1:l;c=c.l10n;c=void 0===c?h.NullL10n:c;n(this,b);this.pageDiv=d;this.pdfPage=a;this.linkService=e;this.downloadManager=k;this.imageResourcesPath=f;this.renderInteractiveForms=l;this.l10n=c;this.div=null;this._cancelled=!1}p(b,[{key:"render",value:function(b){var c=this;this.pdfPage.getAnnotations({intent:1<arguments.length&&void 0!==arguments[1]?arguments[1]:"display"}).then(function(a){if(!c._cancelled){var d={viewport:b.clone({dontFlip:!0}),div:c.div,annotations:a,page:c.pdfPage,imageResourcesPath:c.imageResourcesPath,renderInteractiveForms:c.renderInteractiveForms,linkService:c.linkService,downloadManager:c.downloadManager};c.div?l.AnnotationLayer.update(d):0!==a.length&&(c.div=document.createElement("div"),c.div.className="annotationLayer",c.pageDiv.appendChild(c.div),d.div=c.div,l.AnnotationLayer.render(d),c.l10n.translate(c.div))}})}},{key:"cancel",value:function(){this._cancelled=!0}},{key:"hide",value:function(){this.div&&this.div.setAttribute("hidden","true")}}]);return b}();f.AnnotationLayerBuilder=c;q=function(){function b(){n(this,b)}p(b,[{key:"createAnnotationLayerBuilder",value:function(b,g){var a=4<arguments.length&&void 0!==arguments[4]?arguments[4]:h.NullL10n;return new c({pageDiv:b,pdfPage:g,imageResourcesPath:2<arguments.length&&void 0!==arguments[2]?arguments[2]:"",renderInteractiveForms:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1,linkService:new d.SimpleLinkService,l10n:a})}}]);return b}();f.DefaultAnnotationLayerFactory=q},function(q,f,m){function n(b,a,c,d,k,f,h){try{var e=b[f](h),g=e.value}catch(G){c(G);return}e.done?a(g):Promise.resolve(g).then(d,k)}function r(b){return function(){var a=this,c=arguments;return new Promise(function(d,e){function g(a){n(f,d,e,g,k,"next",a)}function k(a){n(f,d,e,g,k,"throw",a)}var f=b.apply(a,c);g(void 0)})}}function p(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}function l(b,a,c){a&&p(b.prototype,a);c&&p(b,c);return b}Object.defineProperty(f,"__esModule",{value:!0});f.PDFPageView=void 0;var h=function(b){return b&&b.__esModule?b:{"default":b}}(m(2)),d=m(5),c=m(7),b=m(11),k=m(8).viewerCompatibilityParams.maxCanvasPixels||16777216;q=function(){function g(a){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");var c=a.container,f=a.defaultViewport;this.id=a.id;this.renderingId="page"+this.id;this.pageLabel=this.pdfPage=null;this.rotation=0;this.scale=a.scale||d.DEFAULT_SCALE;this.viewport=f;this.pdfPageRotate=f.rotation;this.hasRestrictedScaling=!1;this.textLayerMode=Number.isInteger(a.textLayerMode)?a.textLayerMode:d.TextLayerMode.ENABLE;this.imageResourcesPath=a.imageResourcesPath||"";this.renderInteractiveForms=a.renderInteractiveForms||!1;this.useOnlyCssZoom=a.useOnlyCssZoom||!1;this.maxCanvasPixels=a.maxCanvasPixels||k;this.eventBus=a.eventBus||(0,d.getGlobalEventBus)();this.renderingQueue=a.renderingQueue;this.textLayerFactory=a.textLayerFactory;this.annotationLayerFactory=a.annotationLayerFactory;this.renderer=a.renderer||d.RendererType.CANVAS;this.enableWebGL=a.enableWebGL||!1;this.l10n=a.l10n||d.NullL10n;this.paintTask=null;this.paintedViewportMap=new WeakMap;this.renderingState=b.RenderingStates.INITIAL;this.zoomLayer=this.textLayer=this.annotationLayer=this.onAfterDraw=this.onBeforeDraw=this.error=this.resume=null;a=document.createElement("div");a.className="page";a.style.width=Math.floor(this.viewport.width)+"px";a.style.height=Math.floor(this.viewport.height)+"px";a.setAttribute("data-page-number",this.id);this.div=a;c.appendChild(a)}l(g,[{key:"setPdfPage",value:function(a){this.pdfPage=a;this.pdfPageRotate=a.rotate;this.viewport=a.getViewport({scale:this.scale*d.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});this.stats=a.stats;this.reset()}},{key:"destroy",value:function(){this.reset();this.pdfPage&&this.pdfPage.cleanup()}},{key:"_resetZoomLayer",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;if(this.zoomLayer){var b=this.zoomLayer.firstChild;this.paintedViewportMap["delete"](b);b.width=0;b.height=0;a&&this.zoomLayer.remove();this.zoomLayer=null}}},{key:"reset",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1,c=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1;this.cancelRendering(c);this.renderingState=b.RenderingStates.INITIAL;var d=this.div;d.style.width=Math.floor(this.viewport.width)+"px";d.style.height=Math.floor(this.viewport.height)+"px";for(var g=d.childNodes,a=a&&this.zoomLayer||null,c=c&&this.annotationLayer&&this.annotationLayer.div||null,k=g.length-1;0<=k;k--){var f=g[k];a!==f&&c!==f&&d.removeChild(f)}d.removeAttribute("data-loaded");c?this.annotationLayer.hide():this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null);a||(this.canvas&&(this.paintedViewportMap["delete"](this.canvas),this.canvas.width=0,this.canvas.height=0,delete this.canvas),this._resetZoomLayer());this.svg&&(this.paintedViewportMap["delete"](this.svg),delete this.svg);this.loadingIconDiv=document.createElement("div");this.loadingIconDiv.className="loadingIcon";d.appendChild(this.loadingIconDiv)}},{key:"update",value:function(a,b){this.scale=a||this.scale;"undefined"!==typeof b&&(this.rotation=b);this.viewport=this.viewport.clone({scale:this.scale*d.CSS_UNITS,rotation:(this.rotation+this.pdfPageRotate)%360});if(this.svg)this.cssTransform(this.svg,!0),this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});else{a=!1;this.canvas&&0<this.maxCanvasPixels&&(b=this.outputScale,(Math.floor(this.viewport.width)*b.sx|0)*(Math.floor(this.viewport.height)*b.sy|0)>this.maxCanvasPixels&&(a=!0));if(this.canvas){if(this.useOnlyCssZoom||this.hasRestrictedScaling&&a){this.cssTransform(this.canvas,!0);this.eventBus.dispatch("pagerendered",{source:this,pageNumber:this.id,cssTransform:!0});return}this.zoomLayer||this.canvas.hasAttribute("hidden")||(this.zoomLayer=this.canvas.parentNode,this.zoomLayer.style.position="absolute")}this.zoomLayer&&this.cssTransform(this.zoomLayer.firstChild);this.reset(!0,!0)}}},{key:"cancelRendering",value:function(){var a=0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1;this.paintTask&&(this.paintTask.cancel(),this.paintTask=null);this.resume=null;this.textLayer&&(this.textLayer.cancel(),this.textLayer=null);!a&&this.annotationLayer&&(this.annotationLayer.cancel(),this.annotationLayer=null)}},{key:"cssTransform",value:function(a){var b=1<arguments.length&&void 0!==arguments[1]?arguments[1]:!1,c=this.viewport.width,d=this.viewport.height,g=this.div;a.style.width=a.parentNode.style.width=g.style.width=Math.floor(c)+"px";a.style.height=a.parentNode.style.height=g.style.height=Math.floor(d)+"px";var g=this.viewport.rotation-this.paintedViewportMap.get(a).rotation,k=Math.abs(g),f=1,h=1;if(90===k||270===k)f=d/c,h=c/d;a.style.transform="rotate("+g+"deg) scale("+f+","+h+")";if(this.textLayer){k=this.textLayer.viewport;d=Math.abs(this.viewport.rotation-k.rotation);g=c/k.width;if(90===d||270===d)g=c/k.height;var c=this.textLayer.textLayerDiv,l,m;switch(d){case 0:l=m=0;break;case 90:l=0;m="-"+c.style.height;break;case 180:l="-"+c.style.width;m="-"+c.style.height;break;case 270:l="-"+c.style.width;m=0;break;default:console.error("Bad rotation value.")}c.style.transform="rotate("+d+"deg) scale("+g+", "+g+") translate("+l+", "+m+")";c.style.transformOrigin="0% 0%"}b&&this.annotationLayer&&this.annotationLayer.render(this.viewport,"display")}},{key:"getPagePoint",value:function(a,b){return this.viewport.convertToPdfPoint(a,b)}},{key:"draw",value:function(){var a=this;this.renderingState!==b.RenderingStates.INITIAL&&(console.error("Must be in new state before drawing"),this.reset());if(!this.pdfPage)return this.renderingState=b.RenderingStates.FINISHED,Promise.reject(Error("Page is not loaded"));this.renderingState=b.RenderingStates.RUNNING;var e=this.pdfPage,g=this.div,k=document.createElement("div");k.style.width=g.style.width;k.style.height=g.style.height;k.classList.add("canvasWrapper");this.annotationLayer&&this.annotationLayer.div?g.insertBefore(k,this.annotationLayer.div):g.appendChild(k);var f=null;if(this.textLayerMode!==d.TextLayerMode.DISABLE&&this.textLayerFactory){var l=document.createElement("div");l.className="textLayer";l.style.width=k.style.width;l.style.height=k.style.height;this.annotationLayer&&this.annotationLayer.div?g.insertBefore(l,this.annotationLayer.div):g.appendChild(l);f=this.textLayerFactory.createTextLayerBuilder(l,this.id-1,this.viewport,this.textLayerMode===d.TextLayerMode.ENABLE_ENHANCE)}this.textLayer=f;l=null;this.renderingQueue&&(l=function(c){a.renderingQueue.isHighestPriority(a)?c():(a.renderingState=b.RenderingStates.PAUSED,a.resume=function(){a.renderingState=b.RenderingStates.RUNNING;c()})});var m=function(){var d=r(h["default"].mark(function E(d){return h["default"].wrap(function(k){for(;;)switch(k.prev=k.next){case 0:z===a.paintTask&&(a.paintTask=null);if(!(d instanceof c.RenderingCancelledException)){k.next=4;break}a.error=null;return k.abrupt("return");case 4:a.renderingState=b.RenderingStates.FINISHED;a.loadingIconDiv&&(g.removeChild(a.loadingIconDiv),delete a.loadingIconDiv);a._resetZoomLayer(!0);a.error=d;a.stats=e.stats;if(a.onAfterDraw)a.onAfterDraw();a.eventBus.dispatch("pagerendered",{source:a,pageNumber:a.id,cssTransform:!1});if(!d){k.next=13;break}throw d;case 13:case "end":return k.stop()}},E)}));return function(a){return d.apply(this,arguments)}}(),z=this.renderer===d.RendererType.SVG?this.paintOnSvg(k):this.paintOnCanvas(k);z.onRenderContinue=l;this.paintTask=z;k=z.promise.then(function(){return m(null).then(function(){if(f){var a=e.streamTextContent({normalizeWhitespace:!0});f.setTextContentStream(a);f.render()}})},function(a){return m(a)});this.annotationLayerFactory&&(this.annotationLayer||(this.annotationLayer=this.annotationLayerFactory.createAnnotationLayerBuilder(g,e,this.imageResourcesPath,this.renderInteractiveForms,this.l10n)),this.annotationLayer.render(this.viewport,"display"));g.setAttribute("data-loaded",!0);if(this.onBeforeDraw)this.onBeforeDraw();return k}},{key:"paintOnCanvas",value:function(a){var b=(0,c.createPromiseCapability)(),g={promise:b.promise,onRenderContinue:function(a){a()},cancel:function(){p.cancel()}},k=this.viewport,f=document.createElement("canvas");f.id=this.renderingId;f.setAttribute("hidden","hidden");var h=!0,l=function(){h&&(f.removeAttribute("hidden"),h=!1)};a.appendChild(f);this.canvas=f;f.mozOpaque=!0;a=f.getContext("2d",{alpha:!1});var m=(0,d.getOutputScale)(a);this.outputScale=m;if(this.useOnlyCssZoom){var n=k.clone({scale:d.CSS_UNITS});m.sx*=n.width/k.width;m.sy*=n.height/k.height;m.scaled=!0}0<this.maxCanvasPixels&&(n=Math.sqrt(this.maxCanvasPixels/(k.width*k.height)),m.sx>n||m.sy>n?(m.sx=n,m.sy=n,this.hasRestrictedScaling=m.scaled=!0):this.hasRestrictedScaling=!1);var n=(0,d.approximateFraction)(m.sx),r=(0,d.approximateFraction)(m.sy);f.width=(0,d.roundToDivide)(k.width*m.sx,n[0]);f.height=(0,d.roundToDivide)(k.height*m.sy,r[0]);f.style.width=(0,d.roundToDivide)(k.width,n[1])+"px";f.style.height=(0,d.roundToDivide)(k.height,r[1])+"px";this.paintedViewportMap.set(f,k);var p=this.pdfPage.render({canvasContext:a,transform:m.scaled?[m.sx,0,0,m.sy,0,0]:null,viewport:this.viewport,enableWebGL:this.enableWebGL,renderInteractiveForms:this.renderInteractiveForms});p.onContinue=function(a){l();if(g.onRenderContinue)g.onRenderContinue(a);else a()};p.promise.then(function(){l();b.resolve(void 0)},function(a){l();b.reject(a)});return g}},{key:"paintOnSvg",value:function(a){var e=this,g=!1,k=function(){if(g)throw new c.RenderingCancelledException("Rendering cancelled, page "+e.id,"svg");},f=this.pdfPage,h=this.viewport.clone({scale:d.CSS_UNITS});return{promise:f.getOperatorList().then(function(d){k();return(new c.SVGGraphics(f.commonObjs,f.objs)).getSVG(d,h).then(function(c){k();e.svg=c;e.paintedViewportMap.set(c,h);c.style.width=a.style.width;c.style.height=a.style.height;e.renderingState=b.RenderingStates.FINISHED;a.appendChild(c)})}),onRenderContinue:function(a){a()},cancel:function(){g=!0}}}},{key:"setPageLabel",value:function(a){this.pageLabel="string"===typeof a?a:null;null!==this.pageLabel?this.div.setAttribute("data-page-label",this.pageLabel):this.div.removeAttribute("data-page-label")}},{key:"width",get:function(){return this.viewport.width}},{key:"height",get:function(){return this.viewport.height}}]);return g}();f.PDFPageView=q},function(q,f,m){function n(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function");}function r(c,b){for(var d=0;d<b.length;d++){var g=b[d];g.enumerable=g.enumerable||!1;g.configurable=!0;"value"in g&&(g.writable=!0);Object.defineProperty(c,g.key,g)}}function p(c,b,d){b&&r(c.prototype,b);d&&r(c,d);return c}Object.defineProperty(f,"__esModule",{value:!0});f.DefaultTextLayerFactory=f.TextLayerBuilder=void 0;var l=m(5),h=m(7),d=function(){function c(b){var d=b.textLayerDiv,g=b.eventBus,a=b.pageIndex,e=b.viewport,f=b.findController,f=void 0===f?null:f;b=b.enhanceTextSelection;b=void 0===b?!1:b;n(this,c);this.textLayerDiv=d;this.eventBus=g||(0,l.getGlobalEventBus)();this.textContent=null;this.textContentItemsStr=[];this.textContentStream=null;this.renderingDone=!1;this.pageIdx=a;this.pageNumber=this.pageIdx+1;this.matches=[];this.viewport=e;this.textDivs=[];this.findController=f;this.textLayerRenderTask=null;this.enhanceTextSelection=b;this._onUpdateTextLayerMatches=null;this._bindMouse()}p(c,[{key:"_finishRendering",value:function(){this.renderingDone=!0;if(!this.enhanceTextSelection){var b=document.createElement("div");b.className="endOfContent";this.textLayerDiv.appendChild(b)}this.eventBus.dispatch("textlayerrendered",{source:this,pageNumber:this.pageNumber,numTextDivs:this.textDivs.length})}},{key:"render",value:function(){var b=this,c=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0;if((this.textContent||this.textContentStream)&&!this.renderingDone){this.cancel();this.textDivs=[];var d=document.createDocumentFragment();this.textLayerRenderTask=(0,h.renderTextLayer)({textContent:this.textContent,textContentStream:this.textContentStream,container:d,viewport:this.viewport,textDivs:this.textDivs,textContentItemsStr:this.textContentItemsStr,timeout:c,enhanceTextSelection:this.enhanceTextSelection});this.textLayerRenderTask.promise.then(function(){b.textLayerDiv.appendChild(d);b._finishRendering();b._updateMatches()},function(a){});this._onUpdateTextLayerMatches||(this._onUpdateTextLayerMatches=function(a){a.pageIndex!==b.pageIdx&&-1!==a.pageIndex||b._updateMatches()},this.eventBus.on("updatetextlayermatches",this._onUpdateTextLayerMatches))}}},{key:"cancel",value:function(){this.textLayerRenderTask&&(this.textLayerRenderTask.cancel(),this.textLayerRenderTask=null);this._onUpdateTextLayerMatches&&(this.eventBus.off("updatetextlayermatches",this._onUpdateTextLayerMatches),this._onUpdateTextLayerMatches=null)}},{key:"setTextContentStream",value:function(b){this.cancel();this.textContentStream=b}},{key:"setTextContent",value:function(b){this.cancel();this.textContent=b}},{key:"_convertMatches",value:function(b,c){if(!b)return[];for(var d=this.textContentItemsStr,a=0,e=0,k=d.length-1,f=this.findController.state.query.length,h=[],l=0,m=b.length;l<m;l++){for(var n=b[l];a!==k&&n>=e+d[a].length;)e+=d[a].length,a++;a===d.length&&console.error("Could not find a matching mapping");for(var p={begin:{divIdx:a,offset:n-e}},n=c?n+c[l]:n+f;a!==k&&n>e+d[a].length;)e+=d[a].length,a++;p.end={divIdx:a,offset:n-e};h.push(p)}return h}},{key:"_renderMatches",value:function(b){function c(a,b){var c=a.divIdx;h[c].textContent="";d(c,0,a.offset,b)}function d(a,b,c,d){var e=h[a];a=f[a].substring(b,c);a=document.createTextNode(a);d?(b=document.createElement("span"),b.className=d,b.appendChild(a),e.appendChild(b)):e.appendChild(a)}if(0!==b.length){var a=this.findController,e=this.pageIdx,f=this.textContentItemsStr,h=this.textDivs,l=e===a.selected.pageIdx,m=a.selected.matchIdx,n=null,p=m,r=p+1;if(a.state.highlightAll)p=0,r=b.length;else if(!l)return;for(;p<r;p++){var B=b[p],q=B.begin,B=B.end,O=l&&p===m,F=O?" selected":"";O&&a.scrollMatchIntoView({element:h[q.divIdx],pageIndex:e,matchIndex:m});n&&q.divIdx===n.divIdx?d(n.divIdx,n.offset,q.offset):(null!==n&&d(n.divIdx,n.offset,void 0),c(q));if(q.divIdx===B.divIdx)d(q.divIdx,q.offset,B.offset,"highlight"+F);else{d(q.divIdx,q.offset,void 0,"highlight begin"+F);n=q.divIdx+1;for(q=B.divIdx;n<q;n++)h[n].className="highlight middle"+F;c(B,"highlight end"+F)}n=B}n&&d(n.divIdx,n.offset,void 0)}}},{key:"_updateMatches",value:function(){if(this.renderingDone){for(var b=this.findController,c=this.matches,d=this.pageIdx,a=this.textContentItemsStr,e=this.textDivs,f=-1,h=0,l=c.length;h<l;h++){for(var m=c[h],f=Math.max(f,m.begin.divIdx),n=m.end.divIdx;f<=n;f++){var p=e[f];p.textContent=a[f];p.className=""}f=m.end.divIdx+1}b&&b.highlightMatches&&(this.matches=this._convertMatches(b.pageMatches[d]||null,b.pageMatchesLength[d]||null),this._renderMatches(this.matches))}}},{key:"_bindMouse",value:function(){var b=this,c=this.textLayerDiv,d=null;c.addEventListener("mousedown",function(a){if(b.enhanceTextSelection&&b.textLayerRenderTask)b.textLayerRenderTask.expandTextDivs(!0),d&&(clearTimeout(d),d=null);else{var e=c.querySelector(".endOfContent");if(e){var g=a.target!==c;if(g=g&&"none"!==window.getComputedStyle(e).getPropertyValue("-moz-user-select"))g=c.getBoundingClientRect(),e.style.top=(100*Math.max(0,(a.pageY-g.top)/g.height)).toFixed(2)+"%";e.classList.add("active")}}});c.addEventListener("mouseup",function(){if(b.enhanceTextSelection&&b.textLayerRenderTask)d=setTimeout(function(){b.textLayerRenderTask&&b.textLayerRenderTask.expandTextDivs(!1);d=null},300);else{var a=c.querySelector(".endOfContent");a&&(a.style.top="",a.classList.remove("active"))}})}}]);return c}();f.TextLayerBuilder=d;q=function(){function c(){n(this,c)}p(c,[{key:"createTextLayerBuilder",value:function(b,c,g){return new d({textLayerDiv:b,pageIndex:c,viewport:g,enhanceTextSelection:3<arguments.length&&void 0!==arguments[3]?arguments[3]:!1})}}]);return c}();f.DefaultTextLayerFactory=q},function(q,f,m){function n(d,c){for(var b=0;b<c.length;b++){var f=c[b];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(d,f.key,f)}}function r(d,c,b){c&&n(d.prototype,c);b&&n(d,b);return d}Object.defineProperty(f,"__esModule",{value:!0});f.SecondaryToolbar=void 0;var p=m(5),l=m(9),h=m(33);q=function(){function d(c,b,f){var g=this;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.toolbar=c.toolbar;this.toggleButton=c.toggleButton;this.toolbarButtonContainer=c.toolbarButtonContainer;this.buttons=[{element:c.presentationModeButton,eventName:"presentationmode",close:!0},{element:c.openFileButton,eventName:"openfile",close:!0},{element:c.printButton,eventName:"print",close:!0},{element:c.downloadButton,eventName:"download",close:!0},{element:c.viewBookmarkButton,eventName:null,close:!0},{element:c.firstPageButton,eventName:"firstpage",close:!0},{element:c.lastPageButton,eventName:"lastpage",close:!0},{element:c.pageRotateCwButton,eventName:"rotatecw",close:!1},{element:c.pageRotateCcwButton,eventName:"rotateccw",close:!1},{element:c.cursorSelectToolButton,eventName:"switchcursortool",eventDetails:{tool:l.CursorTool.SELECT},close:!0},{element:c.cursorHandToolButton,eventName:"switchcursortool",eventDetails:{tool:l.CursorTool.HAND},close:!0},{element:c.scrollVerticalButton,eventName:"switchscrollmode",eventDetails:{mode:p.ScrollMode.VERTICAL},close:!0},{element:c.scrollHorizontalButton,eventName:"switchscrollmode",eventDetails:{mode:p.ScrollMode.HORIZONTAL},close:!0},{element:c.scrollWrappedButton,eventName:"switchscrollmode",eventDetails:{mode:p.ScrollMode.WRAPPED},close:!0},{element:c.spreadNoneButton,eventName:"switchspreadmode",eventDetails:{mode:p.SpreadMode.NONE},close:!0},{element:c.spreadOddButton,eventName:"switchspreadmode",eventDetails:{mode:p.SpreadMode.ODD},close:!0},{element:c.spreadEvenButton,eventName:"switchspreadmode",eventDetails:{mode:p.SpreadMode.EVEN},close:!0},{element:c.documentPropertiesButton,eventName:"documentproperties",close:!0}];this.items={firstPage:c.firstPageButton,lastPage:c.lastPageButton,pageRotateCw:c.pageRotateCwButton,pageRotateCcw:c.pageRotateCcwButton};this.mainContainer=b;this.eventBus=f;this.opened=!1;this.previousContainerHeight=this.containerHeight=null;this.reset();this._bindClickListeners();this._bindCursorToolsListener(c);this._bindScrollModeListener(c);this._bindSpreadModeListener(c);this.eventBus.on("resize",this._setMaxHeight.bind(this));this.eventBus.on("baseviewerinit",function(a){a.source instanceof h.PDFSinglePageViewer?g.toolbarButtonContainer.classList.add("hiddenScrollModeButtons","hiddenSpreadModeButtons"):g.toolbarButtonContainer.classList.remove("hiddenScrollModeButtons","hiddenSpreadModeButtons")})}r(d,[{key:"setPageNumber",value:function(c){this.pageNumber=c;this._updateUIState()}},{key:"setPagesCount",value:function(c){this.pagesCount=c;this._updateUIState()}},{key:"reset",value:function(){this.pagesCount=this.pageNumber=0;this._updateUIState();this.eventBus.dispatch("secondarytoolbarreset",{source:this})}},{key:"_updateUIState",value:function(){this.items.firstPage.disabled=1>=this.pageNumber;this.items.lastPage.disabled=this.pageNumber>=this.pagesCount;this.items.pageRotateCw.disabled=0===this.pagesCount;this.items.pageRotateCcw.disabled=0===this.pagesCount}},{key:"_bindClickListeners",value:function(){var c=this;this.toggleButton.addEventListener("click",this.toggle.bind(this));var b=function(b){b=c.buttons[b];var a=b.eventName,d=b.close,g=b.eventDetails;b.element.addEventListener("click",function(b){if(null!==a){b={source:c};for(var e in g)b[e]=g[e];c.eventBus.dispatch(a,b)}d&&c.close()})},d;for(d in this.buttons)b(d)}},{key:"_bindCursorToolsListener",value:function(c){this.eventBus.on("cursortoolchanged",function(b){b=b.tool;c.cursorSelectToolButton.classList.toggle("toggled",b===l.CursorTool.SELECT);c.cursorHandToolButton.classList.toggle("toggled",b===l.CursorTool.HAND)})}},{key:"_bindScrollModeListener",value:function(c){function b(b){b=b.mode;c.scrollVerticalButton.classList.toggle("toggled",b===p.ScrollMode.VERTICAL);c.scrollHorizontalButton.classList.toggle("toggled",b===p.ScrollMode.HORIZONTAL);c.scrollWrappedButton.classList.toggle("toggled",b===p.ScrollMode.WRAPPED);b=b===p.ScrollMode.HORIZONTAL;c.spreadNoneButton.disabled=b;c.spreadOddButton.disabled=b;c.spreadEvenButton.disabled=b}var d=this;this.eventBus.on("scrollmodechanged",b);this.eventBus.on("secondarytoolbarreset",function(c){c.source===d&&b({mode:p.ScrollMode.VERTICAL})})}},{key:"_bindSpreadModeListener",value:function(c){function b(b){b=b.mode;c.spreadNoneButton.classList.toggle("toggled",b===p.SpreadMode.NONE);c.spreadOddButton.classList.toggle("toggled",b===p.SpreadMode.ODD);c.spreadEvenButton.classList.toggle("toggled",b===p.SpreadMode.EVEN)}var d=this;this.eventBus.on("spreadmodechanged",b);this.eventBus.on("secondarytoolbarreset",function(c){c.source===d&&b({mode:p.SpreadMode.NONE})})}},{key:"open",value:function(){this.opened||(this.opened=!0,this._setMaxHeight(),this.toggleButton.classList.add("toggled"),this.toolbar.classList.remove("hidden"))}},{key:"close",value:function(){this.opened&&(this.opened=!1,this.toolbar.classList.add("hidden"),this.toggleButton.classList.remove("toggled"))}},{key:"toggle",value:function(){this.opened?this.close():this.open()}},{key:"_setMaxHeight",value:function(){this.opened&&(this.containerHeight=this.mainContainer.clientHeight,this.containerHeight!==this.previousContainerHeight&&(this.toolbarButtonContainer.setAttribute("style","max-height: "+(this.containerHeight-p.SCROLLBAR_PADDING)+"px;"),this.previousContainerHeight=this.containerHeight))}},{key:"isOpen",get:function(){return this.opened}}]);return d}();f.SecondaryToolbar=q},function(q,f,m){function n(b){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return n(b)}function r(b,a){for(var c=0;c<a.length;c++){var d=a[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(b,d.key,d)}}function p(b,a,c){a&&r(b.prototype,a);c&&r(b,c);return b}function l(b,a){if(a&&("object"===n(a)||"function"===typeof a))return a;if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function h(b,a,c){h="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(a,b,c){for(;!Object.prototype.hasOwnProperty.call(a,b)&&(a=d(a),null!==a););if(a)return b=Object.getOwnPropertyDescriptor(a,b),b.get?b.get.call(c):b.value};return h(b,a,c||b)}function d(b){d=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return d(b)}function c(c,a){if("function"!==typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(a&&a.prototype,{constructor:{value:c,writable:!0,configurable:!0}});a&&b(c,a)}function b(c,a){b=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return b(c,a)}Object.defineProperty(f,"__esModule",{value:!0});f.PDFSinglePageViewer=void 0;q=m(28);var k=m(7);m=function(b){function a(b){var c;if(!(this instanceof a))throw new TypeError("Cannot call a class as a function");c=l(this,d(a).call(this,b));c.eventBus.on("pagesinit",function(a){c._ensurePageViewVisible()});return c}c(a,b);p(a,[{key:"_resetView",value:function(){h(d(a.prototype),"_resetView",this).call(this);this._previousPageNumber=1;this._shadowViewer=document.createDocumentFragment();this._updateScrollDown=null}},{key:"_ensurePageViewVisible",value:function(){var a=this._pages[this._currentPageNumber-1],b=this._pages[this._previousPageNumber-1],c=this.viewer.childNodes;switch(c.length){case 0:this.viewer.appendChild(a.div);break;case 1:if(c[0]!==b.div)throw Error("_ensurePageViewVisible: Unexpected previously visible page.");if(a===b)break;this._shadowViewer.appendChild(b.div);this.viewer.appendChild(a.div);this.container.scrollTop=0;break;default:throw Error("_ensurePageViewVisible: Only one page should be visible at a time.");}this._previousPageNumber=this._currentPageNumber}},{key:"_scrollUpdate",value:function(){this._updateScrollDown&&this._updateScrollDown();h(d(a.prototype),"_scrollUpdate",this).call(this)}},{key:"_scrollIntoView",value:function(b){var c=this,e=b.pageDiv,g=b.pageSpot,g=void 0===g?null:g;b=b.pageNumber;(b=void 0===b?null:b)&&this._setCurrentPageNumber(b);var f=this._currentPageNumber>=this._previousPageNumber;this._ensurePageViewVisible();this.update();h(d(a.prototype),"_scrollIntoView",this).call(this,{pageDiv:e,pageSpot:g,pageNumber:b});this._updateScrollDown=function(){c.scroll.down=f;c._updateScrollDown=null}}},{key:"_getVisiblePages",value:function(){return this._getCurrentVisiblePage()}},{key:"_updateHelper",value:function(a){}},{key:"_updateScrollMode",value:function(){}},{key:"_updateSpreadMode",value:function(){}},{key:"_setDocumentViewerElement",get:function(){return(0,k.shadow)(this,"_setDocumentViewerElement",this._shadowViewer)}},{key:"_isScrollModeHorizontal",get:function(){return(0,k.shadow)(this,"_isScrollModeHorizontal",!1)}}]);return a}(q.BaseViewer);f.PDFSinglePageViewer=m},function(q,f,m){function n(f,h){for(var d=0;d<h.length;d++){var c=h[d];c.enumerable=c.enumerable||!1;c.configurable=!0;"value"in c&&(c.writable=!0);Object.defineProperty(f,c.key,c)}}function r(f,h,d){h&&n(f.prototype,h);d&&n(f,d);return f}Object.defineProperty(f,"__esModule",{value:!0});f.Toolbar=void 0;var p=m(5);q=function(){function f(h,d){var c=2<arguments.length&&void 0!==arguments[2]?arguments[2]:p.NullL10n;if(!(this instanceof f))throw new TypeError("Cannot call a class as a function");this.toolbar=h.container;this.eventBus=d;this.l10n=c;this.items=h;this._wasLocalized=!1;this.reset();this._bindListeners()}r(f,[{key:"setPageNumber",value:function(f,d){this.pageNumber=f;this.pageLabel=d;this._updateUIState(!1)}},{key:"setPagesCount",value:function(f,d){this.pagesCount=f;this.hasPageLabels=d;this._updateUIState(!0)}},{key:"setPageScale",value:function(f,d){this.pageScaleValue=(f||d).toString();this.pageScale=d;this._updateUIState(!1)}},{key:"reset",value:function(){this.pageNumber=0;this.pageLabel=null;this.hasPageLabels=!1;this.pagesCount=0;this.pageScaleValue=p.DEFAULT_SCALE_VALUE;this.pageScale=p.DEFAULT_SCALE;this._updateUIState(!0)}},{key:"_bindListeners",value:function(){var f=this,d=this.eventBus,c=this.items,b=this;c.previous.addEventListener("click",function(){d.dispatch("previouspage",{source:b})});c.next.addEventListener("click",function(){d.dispatch("nextpage",{source:b})});c.zoomIn.addEventListener("click",function(){d.dispatch("zoomin",{source:b})});c.zoomOut.addEventListener("click",function(){d.dispatch("zoomout",{source:b})});c.pageNumber.addEventListener("click",function(){this.select()});c.pageNumber.addEventListener("change",function(){d.dispatch("pagenumberchanged",{source:b,value:this.value})});c.scaleSelect.addEventListener("change",function(){"custom"!==this.value&&d.dispatch("scalechanged",{source:b,value:this.value})});c.presentationModeButton.addEventListener("click",function(){d.dispatch("presentationmode",{source:b})});c.openFile.addEventListener("click",function(){d.dispatch("openfile",{source:b})});c.print.addEventListener("click",function(){d.dispatch("print",{source:b})});c.download.addEventListener("click",function(){d.dispatch("download",{source:b})});c.scaleSelect.oncontextmenu=p.noContextMenuHandler;d.on("localized",function(){f._localized()})}},{key:"_localized",value:function(){this._wasLocalized=!0;this._adjustScaleWidth();this._updateUIState(!0)}},{key:"_updateUIState",value:function(){if(this._wasLocalized){var f=this.pageNumber,d=this.pagesCount,c=this.pageScaleValue,b=this.pageScale,k=this.items;0<arguments.length&&void 0!==arguments[0]&&arguments[0]&&(this.hasPageLabels?k.pageNumber.type="text":(k.pageNumber.type="number",this.l10n.get("of_pages",{pagesCount:d},"of {{pagesCount}}").then(function(b){k.numPages.textContent=b})),k.pageNumber.max=d);this.hasPageLabels?(k.pageNumber.value=this.pageLabel,this.l10n.get("page_of_pages",{pageNumber:f,pagesCount:d},"({{pageNumber}} of {{pagesCount}})").then(function(b){k.numPages.textContent=b})):k.pageNumber.value=f;k.previous.disabled=1>=f;k.next.disabled=f>=d;k.zoomOut.disabled=b<=p.MIN_SCALE;k.zoomIn.disabled=b>=p.MAX_SCALE;this.l10n.get("page_scale_percent",{scale:Math.round(1E4*b)/100},"{{scale}}%").then(function(b){for(var a=k.scaleSelect.options,d=!1,g=0,f=a.length;g<f;g++){var h=a[g];h.value!==c?h.selected=!1:d=h.selected=!0}d||(k.customScaleOption.textContent=b,k.customScaleOption.selected=!0)})}}},{key:"updateLoadingIndicatorState",value:function(){this.items.pageNumber.classList.toggle("visiblePageIsLoading",0<arguments.length&&void 0!==arguments[0]?arguments[0]:!1)}},{key:"_adjustScaleWidth",value:function(){var f=this.items.scaleSelectContainer,d=this.items.scaleSelect;p.animationStarted.then(function(){0===f.clientWidth&&f.setAttribute("style","display: inherit;");if(0<f.clientWidth){d.setAttribute("style","min-width: inherit;");var c=d.clientWidth+8;d.setAttribute("style","min-width: "+(c+22)+"px;");f.setAttribute("style","min-width: "+c+"px; max-width: "+c+"px;")}})}}]);return f}();f.Toolbar=q},function(q,f,m){function n(d,c,b,f,g,a,e){try{var k=d[a](e),h=k.value}catch(x){b(x);return}k.done?c(h):Promise.resolve(h).then(f,g)}function r(d){return function(){var c=this,b=arguments;return new Promise(function(f,g){function a(b){n(k,f,g,a,e,"next",b)}function e(b){n(k,f,g,a,e,"throw",b)}var k=d.apply(c,b);a(void 0)})}}function p(d,c){for(var b=0;b<c.length;b++){var f=c[b];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(d,f.key,f)}}function l(d,c,b){c&&p(d.prototype,c);b&&p(d,b);return d}Object.defineProperty(f,"__esModule",{value:!0});f.ViewHistory=void 0;var h=function(d){return d&&d.__esModule?d:{"default":d}}(m(2));q=function(){function d(c){var b=this,f=1<arguments.length&&void 0!==arguments[1]?arguments[1]:20;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.fingerprint=c;this.cacheSize=f;this._initializedPromise=this._readFromStorage().then(function(c){c=JSON.parse(c||"{}");if("files"in c)for(;c.files.length>=b.cacheSize;)c.files.shift();else c.files=[];for(var a=-1,d=0,g=c.files.length;d<g;d++)if(c.files[d].fingerprint===b.fingerprint){a=d;break}-1===a&&(a=c.files.push({fingerprint:b.fingerprint})-1);b.file=c.files[a];b.database=c})}l(d,[{key:"_writeToStorage",value:function(){var c=r(h["default"].mark(function k(){var c;return h["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:c=JSON.stringify(this.database),localStorage.setItem("pdfjs.history",c);case 2:case "end":return a.stop()}},k,this)}));return function(){return c.apply(this,arguments)}}()},{key:"_readFromStorage",value:function(){var c=r(h["default"].mark(function k(){return h["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",localStorage.getItem("pdfjs.history"));case 1:case "end":return c.stop()}},k)}));return function(){return c.apply(this,arguments)}}()},{key:"set",value:function(){var c=r(h["default"].mark(function k(c,a){return h["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this._initializedPromise;case 2:return this.file[c]=a,d.abrupt("return",this._writeToStorage());case 4:case "end":return d.stop()}},k,this)}));return function(d,g){return c.apply(this,arguments)}}()},{key:"setMultiple",value:function(){var c=r(h["default"].mark(function k(c){var a;return h["default"].wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,this._initializedPromise;case 2:for(a in c)this.file[a]=c[a];return d.abrupt("return",this._writeToStorage());case 4:case "end":return d.stop()}},k,this)}));return function(d){return c.apply(this,arguments)}}()},{key:"get",value:function(){var c=r(h["default"].mark(function k(c,a){var d;return h["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializedPromise;case 2:return d=this.file[c],e.abrupt("return",void 0!==d?d:a);case 4:case "end":return e.stop()}},k,this)}));return function(d,g){return c.apply(this,arguments)}}()},{key:"getMultiple",value:function(){var c=r(h["default"].mark(function k(c){var a,d,g;return h["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._initializedPromise;case 2:a=Object.create(null);for(d in c)g=this.file[d],a[d]=void 0!==g?g:c[d];return e.abrupt("return",a);case 5:case "end":return e.stop()}},k,this)}));return function(d){return c.apply(this,arguments)}}()}]);return d}();f.ViewHistory=q},function(q,f,m){function n(a){n="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"===typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a};return n(a)}function r(a,b,c,d,e,g,f){try{var k=a[g](f),h=k.value}catch(F){c(F);return}k.done?b(h):Promise.resolve(h).then(d,e)}function p(a){return function(){var b=this,c=arguments;return new Promise(function(d,e){function g(a){r(k,d,e,g,f,"next",a)}function f(a){r(k,d,e,g,f,"throw",a)}var k=a.apply(b,c);g(void 0)})}}function l(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1;d.configurable=!0;"value"in d&&(d.writable=!0);Object.defineProperty(a,d.key,d)}}function h(a,b,c){b&&l(a.prototype,b);c&&l(a,c);return a}function d(a){d=Object.setPrototypeOf?Object.getPrototypeOf:function(a){return a.__proto__||Object.getPrototypeOf(a)};return d(a)}function c(a,c){if("function"!==typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");a.prototype=Object.create(c&&c.prototype,{constructor:{value:a,writable:!0,configurable:!0}});c&&b(a,c)}function b(a,c){b=Object.setPrototypeOf||function(a,b){a.__proto__=b;return a};return b(a,c)}Object.defineProperty(f,"__esModule",{value:!0});f.GenericCom=void 0;var k=function(a){return a&&a.__esModule?a:{"default":a}}(m(2));q=m(1);var g=m(37),a=m(38),e=m(39);f.GenericCom={};var u=function(a){function b(){if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");var a=d(b).apply(this,arguments);if(!a||"object"!==n(a)&&"function"!==typeof a){if(void 0===this)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");a=this}return a}c(b,a);h(b,[{key:"_writeToStorage",value:function(){var a=p(k["default"].mark(function z(a){return k["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:localStorage.setItem("pdfjs.preferences",JSON.stringify(a));case 1:case "end":return b.stop()}},z)}));return function(b){return a.apply(this,arguments)}}()},{key:"_readFromStorage",value:function(){var a=p(k["default"].mark(function z(a){return k["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",JSON.parse(localStorage.getItem("pdfjs.preferences")));case 1:case "end":return a.stop()}},z)}));return function(b){return a.apply(this,arguments)}}()}]);return b}(g.BasePreferences);f=Object.create(q.DefaultExternalServices);f.createDownloadManager=function(b){return new a.DownloadManager(b)};f.createPreferences=function(){return new u};f.createL10n=function(a){a=a.locale;return new e.GenericL10n(void 0===a?"en-US":a)};q.PDFViewerApplication.externalServices=f},function(q,f,m){function n(b,c,d,a,e,f,h){try{var g=b[f](h),k=g.value}catch(C){d(C);return}g.done?c(k):Promise.resolve(k).then(a,e)}function r(b){return function(){var c=this,d=arguments;return new Promise(function(a,e){function g(b){n(k,a,e,g,f,"next",b)}function f(b){n(k,a,e,g,f,"throw",b)}var k=b.apply(c,d);g(void 0)})}}function p(b){p="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&"function"===typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};return p(b)}function l(b,c){for(var d=0;d<c.length;d++){var a=c[d];a.enumerable=a.enumerable||!1;a.configurable=!0;"value"in a&&(a.writable=!0);Object.defineProperty(b,a.key,a)}}function h(b,c,d){c&&l(b.prototype,c);d&&l(b,d);return b}Object.defineProperty(f,"__esModule",{value:!0});f.BasePreferences=void 0;var d=function(b){return b&&b.__esModule?b:{"default":b}}(m(2)),c=null;q=function(){function b(){var d=this;if(!(this instanceof b))throw new TypeError("Cannot call a class as a function");if(this.constructor===b)throw Error("Cannot initialize BasePreferences.");this.prefs=null;c||(c=Promise.resolve({cursorToolOnLoad:0,defaultZoomValue:"",disablePageLabels:!1,enablePrintAutoRotate:!1,enableWebGL:!1,eventBusDispatchToDOM:!1,externalLinkTarget:0,historyUpdateUrl:!1,pdfBugEnabled:!1,renderer:"canvas",renderInteractiveForms:!1,sidebarViewOnLoad:-1,scrollModeOnLoad:-1,spreadModeOnLoad:-1,textLayerMode:1,useOnlyCssZoom:!1,viewOnLoad:0,disableAutoFetch:!1,disableFontFace:!1,disableRange:!1,disableStream:!1}));this._initializedPromise=c.then(function(b){Object.defineProperty(d,"defaults",{value:Object.freeze(b),writable:!1,enumerable:!0,configurable:!1});d.prefs=Object.assign(Object.create(null),b);return d._readFromStorage(b)}).then(function(b){if(b)for(var a in b){var c=d.defaults[a],f=b[a];void 0!==c&&p(f)===p(c)&&(d.prefs[a]=f)}})}h(b,[{key:"_writeToStorage",value:function(){var b=r(d["default"].mark(function a(b){return d["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw Error("Not implemented: _writeToStorage");case 1:case "end":return a.stop()}},a)}));return function(a){return b.apply(this,arguments)}}()},{key:"_readFromStorage",value:function(){var b=r(d["default"].mark(function a(b){return d["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:throw Error("Not implemented: _readFromStorage");case 1:case "end":return a.stop()}},a)}));return function(a){return b.apply(this,arguments)}}()},{key:"reset",value:function(){var b=r(d["default"].mark(function a(){return d["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._initializedPromise;case 2:return this.prefs=Object.assign(Object.create(null),this.defaults),a.abrupt("return",this._writeToStorage(this.defaults));case 4:case "end":return a.stop()}},a,this)}));return function(){return b.apply(this,arguments)}}()},{key:"set",value:function(){var b=r(d["default"].mark(function a(b,c){var e,f,k;return d["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._initializedPromise;case 2:e=this.defaults[b];if(void 0!==e){a.next=7;break}throw Error('Set preference: "'.concat(b,'" is undefined.'));case 7:if(void 0!==c){a.next=9;break}throw Error("Set preference: no value is specified.");case 9:f=p(c);k=p(e);if(f===k){a.next=19;break}if("number"!==f||"string"!==k){a.next=16;break}c=c.toString();a.next=17;break;case 16:throw Error('Set preference: "'.concat(c,'" is a ').concat(f,", ")+"expected a ".concat(k,"."));case 17:a.next=21;break;case 19:if("number"!==f||Number.isInteger(c)){a.next=21;break}throw Error('Set preference: "'.concat(c,'" must be an integer.'));case 21:return this.prefs[b]=c,a.abrupt("return",this._writeToStorage(this.prefs));case 23:case "end":return a.stop()}},a,this)}));return function(a,c){return b.apply(this,arguments)}}()},{key:"get",value:function(){var b=r(d["default"].mark(function a(b){var c,e;return d["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._initializedPromise;case 2:c=this.defaults[b];if(void 0!==c){a.next=7;break}throw Error('Get preference: "'.concat(b,'" is undefined.'));case 7:e=this.prefs[b];if(void 0===e){a.next=10;break}return a.abrupt("return",e);case 10:return a.abrupt("return",c);case 11:case "end":return a.stop()}},a,this)}));return function(a){return b.apply(this,arguments)}}()},{key:"getAll",value:function(){var b=r(d["default"].mark(function a(){return d["default"].wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,this._initializedPromise;case 2:return a.abrupt("return",Object.assign(Object.create(null),this.defaults,this.prefs));case 3:case "end":return a.stop()}},a,this)}));return function(){return b.apply(this,arguments)}}()}]);return b}();f.BasePreferences=q},function(q,f,m){function n(d,c){for(var b=0;b<c.length;b++){var f=c[b];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(d,f.key,f)}}function r(d,c,b){c&&n(d.prototype,c);b&&n(d,b);return d}function p(d,c){var b=document.createElement("a");if(!b.click)throw Error('DownloadManager: "a.click()" is not supported.');b.href=d;b.target="_parent";"download"in b&&(b.download=c);(document.body||document.documentElement).appendChild(b);b.click();b.remove()}Object.defineProperty(f,"__esModule",{value:!0});f.DownloadManager=void 0;var l=m(7),h=l.apiCompatibilityParams.disableCreateObjectURL||!1;q=function(){function d(c){c=c.disableCreateObjectURL;c=void 0===c?h:c;if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.disableCreateObjectURL=c}r(d,[{key:"downloadUrl",value:function(c,b){(0,l.createValidAbsoluteUrl)(c,"http://example.com")&&p(c+"#pdfjs.action\x3ddownload",b)}},{key:"downloadData",value:function(c,b,d){navigator.msSaveBlob?navigator.msSaveBlob(new Blob([c],{type:d}),b):(c=(0,l.createObjectURL)(c,d,this.disableCreateObjectURL),p(c,b))}},{key:"download",value:function(c,b,d){navigator.msSaveBlob?navigator.msSaveBlob(c,d)||this.downloadUrl(b,d):this.disableCreateObjectURL?this.downloadUrl(b,d):(c=l.URL.createObjectURL(c),p(c,d))}}]);return d}();f.DownloadManager=q},function(q,f,m){function n(c,b,d,f,a,e,h){try{var g=c[e](h),k=g.value}catch(v){d(v);return}g.done?b(k):Promise.resolve(k).then(f,a)}function r(c){return function(){var b=this,d=arguments;return new Promise(function(f,a){function e(b){n(h,f,a,e,g,"next",b)}function g(b){n(h,f,a,e,g,"throw",b)}var h=c.apply(b,d);e(void 0)})}}function p(c,b){for(var d=0;d<b.length;d++){var f=b[d];f.enumerable=f.enumerable||!1;f.configurable=!0;"value"in f&&(f.writable=!0);Object.defineProperty(c,f.key,f)}}function l(c,b,d){b&&p(c.prototype,b);d&&p(c,d);return c}Object.defineProperty(f,"__esModule",{value:!0});f.GenericL10n=void 0;var h=function(c){return c&&c.__esModule?c:{"default":c}}(m(2));m(40);var d=document.webL10n;q=function(){function c(b){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._lang=b;this._ready=new Promise(function(c,f){d.setLanguage(b,function(){c(d)})})}l(c,[{key:"getLanguage",value:function(){var b=r(h["default"].mark(function g(){var a;return h["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._ready;case 2:return a=b.sent,b.abrupt("return",a.getLanguage());case 4:case "end":return b.stop()}},g,this)}));return function(){return b.apply(this,arguments)}}()},{key:"getDirection",value:function(){var b=r(h["default"].mark(function g(){var a;return h["default"].wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,this._ready;case 2:return a=b.sent,b.abrupt("return",a.getDirection());case 4:case "end":return b.stop()}},g,this)}));return function(){return b.apply(this,arguments)}}()},{key:"get",value:function(){var b=r(h["default"].mark(function g(a,b,c){var d;return h["default"].wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._ready;case 2:return d=e.sent,e.abrupt("return",d.get(a,b,c));case 4:case "end":return e.stop()}},g,this)}));return function(c,a,d){return b.apply(this,arguments)}}()},{key:"translate",value:function(){var b=r(h["default"].mark(function g(a){var b;return h["default"].wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,this._ready;case 2:return b=c.sent,c.abrupt("return",b.translate(a));case 4:case "end":return c.stop()}},g,this)}));return function(c){return b.apply(this,arguments)}}()}]);return c}();f.GenericL10n=q},function(q,f,m){document.webL10n=function(f,m,p){function l(){var a=m.querySelector('script[type\x3d"application/l10n"]');return a?JSON.parse(a.innerHTML):null}function h(a){var b=m.createEvent("Event");b.initEvent("localized",!0,!1);b.language=a;m.dispatchEvent(b)}function d(a,b,c){b=b||function(a){};c=c||function(){};var d=new XMLHttpRequest;d.open("GET",a,!0);d.overrideMimeType&&d.overrideMimeType("text/plain; charset\x3dutf-8");d.onreadystatechange=function(){4==d.readyState&&(200==d.status||0===d.status?b(d.responseText):c())};d.onerror=c;d.ontimeout=c;try{d.send(null)}catch(O){c()}}function c(a,b,c,e){function f(a,c){function e(a,c,d){function e(){for(;;){if(!F.length){d();break}var a=F.shift();if(!l.test(a)){if(c){if(v=m.exec(a)){q=v[1].toLowerCase();u="*"!==q&&q!==b&&q!==r;continue}else if(u)continue;if(v=n.exec(a)){f(g+v[1],e);break}}var k=a.match(p);k&&3==k.length&&(a=k[1],k=k[2],k=0>k.lastIndexOf("\\")?k:k.replace(/\\\\/g,"\\").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\b/g,"\b").replace(/\\f/g,"\f").replace(/\\{/g,"{").replace(/\\}/g,"}").replace(/\\"/g,'"').replace(/\\'/g,"'"),h[a]=k)}}}var F=a.replace(k,"").split(/[\r\n]+/),q="*",r=b.split("-",1)[0],u=!1,v="";e()}function f(a,b){d(a,function(a){e(a,!1,b)},function(){console.warn(a+" not found.");b()})}var h={},k=/^\s*|\s*$/,l=/^\s*#|^\s*$/,m=/^\s*\[(.*)\]\s*$/,n=/^\s*@import\s+url\((.*)\)\s*$/i,p=/^([^=\s]*)\s*=\s*(.+)$/;e(a,!0,function(){c(h)})}var g=a.replace(/[^\/]*$/,"")||"./";d(a,function(a){q+=a;f(a,function(a){for(var b in a){var d,e;e=b.lastIndexOf(".");0<e?(d=b.substring(0,e),e=b.substring(e+1)):(d=b,e="textContent");n[d]||(n[d]={});n[d][e]=a[b]}c&&c()})},e)}function b(a,b){function d(a){var b=a.href;this.load=function(a,d){c(b,a,d,function(){console.warn(b+" not found.");console.warn('"'+a+'" resource not found');r="";d()})}}a&&(a=a.toLowerCase());b=b||function(){};n={};r=q="";r=a;var e=m.querySelectorAll('link[type\x3d"application/l10n"]'),f=e.length;if(0===f){if((e=l())&&e.locales&&e.default_locale){console.log("using the embedded JSON directory, early way out");n=e.locales[a];if(!n){var g=e.default_locale.toLowerCase(),k;for(k in e.locales)if(k=k.toLowerCase(),k===a){n=e.locales[a];break}else k===g&&(n=e.locales[g])}b()}else console.log("no resource to load, early way out");h(a);C="complete"}else{k=null;var p=0;k=function(){p++;p>=f&&(b(),h(a),C="complete")};for(g=0;g<f;g++)(new d(e[g])).load(a,k)}}function k(a){function b(a,b){return-1!==b.indexOf(a)}function c(a,b,c){return b<=a&&a<=c}var d={0:function(a){return"other"},1:function(a){return c(a%100,3,10)?"few":0===a?"zero":c(a%100,11,99)?"many":2==a?"two":1==a?"one":"other"},2:function(a){return 0!==a&&0===a%10?"many":2==a?"two":1==a?"one":"other"},3:function(a){return 1==a?"one":"other"},4:function(a){return c(a,0,1)?"one":"other"},5:function(a){return c(a,0,2)&&2!=a?"one":"other"},6:function(a){return 0===a?"zero":1==a%10&&11!=a%100?"one":"other"},7:function(a){return 2==a?"two":1==a?"one":"other"},8:function(a){return c(a,3,6)?"few":c(a,7,10)?"many":2==a?"two":1==a?"one":"other"},9:function(a){return 0===a||1!=a&&c(a%100,1,19)?"few":1==a?"one":"other"},10:function(a){return c(a%10,2,9)&&!c(a%100,11,19)?"few":1!=a%10||c(a%100,11,19)?"other":"one"},11:function(a){return c(a%10,2,4)&&!c(a%100,12,14)?"few":0===a%10||c(a%10,5,9)||c(a%100,11,14)?"many":1==a%10&&11!=a%100?"one":"other"},12:function(a){return c(a,2,4)?"few":1==a?"one":"other"},13:function(a){return c(a%10,2,4)&&!c(a%100,12,14)?"few":1!=a&&c(a%10,0,1)||c(a%10,5,9)||c(a%100,12,14)?"many":1==a?"one":"other"},14:function(a){return c(a%100,3,4)?"few":2==a%100?"two":1==a%100?"one":"other"},15:function(a){return 0===a||c(a%100,2,10)?"few":c(a%100,11,19)?"many":1==a?"one":"other"},16:function(a){return 1==a%10&&11!=a?"one":"other"},17:function(a){return 3==a?"few":0===a?"zero":6==a?"many":2==a?"two":1==a?"one":"other"},18:function(a){return 0===a?"zero":c(a,0,2)&&0!==a&&2!=a?"one":"other"},19:function(a){return c(a,2,10)?"few":c(a,0,1)?"one":"other"},20:function(a){return!c(a%10,3,4)&&9!=a%10||c(a%100,10,19)||c(a%100,70,79)||c(a%100,90,99)?0===a%1E6&&0!==a?"many":2!=a%10||b(a%100,[12,72,92])?1!=a%10||b(a%100,[11,71,91])?"other":"one":"two":"few"},21:function(a){return 0===a?"zero":1==a?"one":"other"},22:function(a){return c(a,0,1)||c(a,11,99)?"one":"other"},23:function(a){return c(a%10,1,2)||0===a%20?"one":"other"},24:function(a){return c(a,3,10)||c(a,13,19)?"few":b(a,[2,12])?"two":b(a,[1,11])?"one":"other"}},e={af:3,ak:4,am:4,ar:1,asa:3,az:0,be:11,bem:3,bez:3,bg:3,bh:4,bm:0,bn:3,bo:0,br:20,brx:3,bs:11,ca:3,cgg:3,chr:3,cs:12,cy:17,da:3,de:3,dv:3,dz:0,ee:3,el:3,en:3,eo:3,es:3,et:3,eu:3,fa:0,ff:5,fi:3,fil:4,fo:3,fr:5,fur:3,fy:3,ga:8,gd:24,gl:3,gsw:3,gu:3,guw:4,gv:23,ha:3,haw:3,he:2,hi:4,hr:11,hu:0,id:0,ig:0,ii:0,is:3,it:3,iu:7,ja:0,jmc:3,jv:0,ka:0,kab:5,kaj:3,kcg:3,kde:0,kea:0,kk:3,kl:3,km:0,kn:0,ko:0,ksb:3,ksh:21,ku:3,kw:7,lag:18,lb:3,lg:3,ln:4,lo:0,lt:10,lv:6,mas:3,mg:4,mk:16,ml:3,mn:3,mo:9,mr:3,ms:0,mt:15,my:0,nah:3,naq:7,nb:3,nd:3,ne:3,nl:3,nn:3,no:3,nr:3,nso:4,ny:3,nyn:3,om:3,or:3,pa:3,pap:3,pl:13,ps:3,pt:3,rm:3,ro:9,rof:3,ru:11,rwk:3,sah:0,saq:3,se:7,seh:3,ses:0,sg:0,sh:11,shi:19,sk:12,sl:14,sma:7,smi:7,smj:7,smn:7,sms:7,sn:3,so:3,sq:3,sr:11,ss:3,ssy:3,st:3,sv:3,sw:3,syr:3,ta:3,te:3,teo:3,th:0,ti:4,tig:3,tk:3,tl:4,tn:3,to:0,tr:0,ts:3,tzm:22,uk:11,ur:3,ve:3,vi:0,vun:3,wa:4,wae:3,wo:0,xh:3,xog:3,yo:0,zh:0,zu:3}[a.replace(/-.*$/,"")];return e in d?d[e]:(console.warn("plural form unknown for ["+a+"]"),function(){return"other"})}function g(b,c,d){var e=n[b];if(!e){console.warn("#"+b+" is undefined.");if(!d)return null;e=d}d={};for(var f in e){var g=e[f];var h=c,k=b,l=f,m=/\{\[\s*([a-zA-Z]+)\(([a-zA-Z]+)\)\s*\]\}/.exec(g);if(m&&m.length){var p=m[1],m=m[2],q=void 0;h&&m in h?q=h[m]:m in n&&(q=n[m]);p in v&&(g=(0,v[p])(g,q,k,l))}g=a(g,c,b);d[f]=g}return d}function a(a,b,c){return a.replace(/\{\{\s*(.+?)\s*\}\}/g,function(a,d){if(b&&d in b)return b[d];if(d in n)return n[d];console.log("argument {{"+d+"}} for #"+c+" is undefined.");return a})}function e(a){var b,c;if(a){b=a.getAttribute("data-l10n-id");var d=a.getAttribute("data-l10n-args");c={};if(d)try{c=JSON.parse(d)}catch(P){console.warn("could not parse arguments for #"+b)}}else c=b=void 0;if(b)if(c=g(b,c)){if(c.textContent){if(a.children)b=a.children.length;else if("undefined"!==typeof a.childElementCount)b=a.childElementCount;else for(d=b=0;d<a.childNodes.length;d++)b+=1===a.nodeType?1:0;if(0===b)a.textContent=c.textContent;else{b=a.childNodes;for(var d=!1,e=0,f=b.length;e<f;e++)3===b[e].nodeType&&/\S/.test(b[e].nodeValue)&&(d?b[e].nodeValue="":(b[e].nodeValue=c.textContent,d=!0));d||(b=m.createTextNode(c.textContent),a.insertBefore(b,a.firstChild))}delete c.textContent}for(var h in c)a[h]=c[h]}else console.warn("#"+b+" is undefined.")}var n={},q="",r="",v={},C="loading";v.plural=function(a,b,c,d){b=parseFloat(b);if(isNaN(b)||"textContent"!=d)return a;v._pluralRules||(v._pluralRules=k(r));var e="["+v._pluralRules(b)+"]";0===b&&c+"[zero]"in n?a=n[c+"[zero]"][d]:1==b&&c+"[one]"in n?a=n[c+"[one]"][d]:2==b&&c+"[two]"in n?a=n[c+"[two]"][d]:c+e in n?a=n[c+e][d]:c+"[other]"in n&&(a=n[c+"[other]"][d]);return a};return{get:function(a,b,c){var d=a.lastIndexOf("."),e="textContent";0<d&&(e=a.substring(d+1),a=a.substring(0,d));var f;c&&(f={},f[e]=c);return(b=g(a,b,f))&&e in b?b[e]:"{{"+a+"}}"},getData:function(){return n},getText:function(){return q},getLanguage:function(){return r},setLanguage:function(a,c){b(a,function(){c&&c()})},getDirection:function(){var a=r.split("-",1)[0];return 0<=["ar","he","fa","ps","ur"].indexOf(a)?"rtl":"ltr"},translate:function(a){for(var b=(a=a||m.documentElement)?a.querySelectorAll("*[data-l10n-id]"):[],c=b.length,d=0;d<c;d++)e(b[d]);e(a)},getReadyState:function(){return C},ready:function(a){a&&("complete"==C||"interactive"==C?f.setTimeout(function(){a()}):m.addEventListener&&m.addEventListener("localized",function B(){m.removeEventListener("localized",B);a()}))}}}(window,document)},function(q,f,m){function n(b,d,e,f){b=a.scratchCanvas;var g=(k.AppOptions.get("printResolution")||150)/72;b.width=Math.floor(f.width*g);b.height=Math.floor(f.height*g);var h=Math.floor(f.width*c.CSS_UNITS)+"px",l=Math.floor(f.height*c.CSS_UNITS)+"px",m=b.getContext("2d");m.save();m.fillStyle="rgb(255, 255, 255)";m.fillRect(0,0,b.width,b.height);m.restore();return d.getPage(e).then(function(a){var b={canvasContext:m,transform:[g,0,0,g,0,0],viewport:a.getViewport({scale:1,rotation:f.rotation}),intent:"print"};return a.render(b).promise}).then(function(){return{width:h,height:l}})}function r(a,b,d,e){this.pdfDocument=a;this.pagesOverview=b;this.printContainer=d;this.l10n=e||c.NullL10n;this.disableCreateObjectURL=a.loadingParams.disableCreateObjectURL;this.currentPage=-1;this.scratchCanvas=document.createElement("canvas")}function p(a){var b=document.createEvent("CustomEvent");b.initCustomEvent(a,!1,!1,"custom");window.dispatchEvent(b)}function l(){a&&(a.destroy(),p("afterprint"))}function h(a,b,c){var d=document.getElementById("printServiceOverlay");a=Math.round(100*a/b);b=d.querySelector("progress");var e=d.querySelector(".relative-progress");b.value=a;c.get("print_progress_percent",{progress:a},a+"%").then(function(a){e.textContent=a})}function d(){if(!x){e=b.PDFViewerApplication.overlayManager;if(!e)throw Error("The overlay manager has not yet been initialized.");x=e.register("printServiceOverlay",document.getElementById("printServiceOverlay"),l,!0);document.getElementById("printCancel").onclick=l}return x}Object.defineProperty(f,"__esModule",{value:!0});f.PDFPrintService=r;var c=m(5),b=m(1),k=m(6),g=m(7),a=null,e=null;r.prototype={layout:function(){this.throwIfInactive();var a=document.querySelector("body");a.setAttribute("data-pdfjsprinting",!0);this.pagesOverview.every(function(a){return a.width===this.pagesOverview[0].width&&a.height===this.pagesOverview[0].height},this)||console.warn("Not all pages have the same size. The printed result may be incorrect!");this.pageStyleSheet=document.createElement("style");var b=this.pagesOverview[0];this.pageStyleSheet.textContent="@supports ((size:A4) and (size:1pt 1pt)) {@page { size: "+b.width+"pt "+b.height+"pt;}}";a.appendChild(this.pageStyleSheet)},destroy:function(){a===this&&(this.printContainer.textContent="",this.pageStyleSheet&&(this.pageStyleSheet.remove(),this.pageStyleSheet=null),this.scratchCanvas.width=this.scratchCanvas.height=0,a=this.scratchCanvas=null,d().then(function(){"printServiceOverlay"===e.active&&e.close("printServiceOverlay")}))},renderPages:function(){var a=this,b=this.pagesOverview.length;return new Promise(function G(c,d){a.throwIfInactive();if(++a.currentPage>=b)h(b,b,a.l10n),c();else{var e=a.currentPage;h(e,b,a.l10n);n(a,a.pdfDocument,e+1,a.pagesOverview[e]).then(a.useRenderedPage.bind(a)).then(function(){G(c,d)},d)}})},useRenderedPage:function(a){this.throwIfInactive();var b=document.createElement("img");b.style.width=a.width;b.style.height=a.height;a=this.scratchCanvas;"toBlob"in a&&!this.disableCreateObjectURL?a.toBlob(function(a){b.src=g.URL.createObjectURL(a)}):b.src=a.toDataURL();a=document.createElement("div");a.appendChild(b);this.printContainer.appendChild(a);return new Promise(function(a,c){b.onload=a;b.onerror=c})},performPrint:function(){var a=this;this.throwIfInactive();return new Promise(function(b){setTimeout(function(){a.active?(u.call(window),setTimeout(b,20)):b()},0)})},get active(){return this===a},throwIfInactive:function(){if(!this.active)throw Error("This print request was cancelled or completed.");}};var u=window.print;window.print=function(){if(a)console.warn("Ignored window.print() because of a pending print job.");else{d().then(function(){a&&e.open("printServiceOverlay")});try{p("beforeprint")}finally{if(!a){console.error("Expected print service to be initialized.");d().then(function(){"printServiceOverlay"===e.active&&e.close("printServiceOverlay")});return}var b=a;a.renderPages().then(function(){return b.performPrint()})["catch"](function(){}).then(function(){b.active&&l()})}}};var w=!!document.attachEvent;window.addEventListener("keydown",function(a){80!==a.keyCode||!a.ctrlKey&&!a.metaKey||a.altKey||a.shiftKey&&!window.chrome&&!window.opera||(window.print(),w||(a.preventDefault(),a.stopImmediatePropagation?a.stopImmediatePropagation():a.stopPropagation()))},!0);w&&document.attachEvent("onkeydown",function(a){a=a||window.event;if(80===a.keyCode&&a.ctrlKey)return a.keyCode=0,!1});"onbeforeprint"in window&&(q=function(a){"custom"!==a.detail&&a.stopImmediatePropagation&&a.stopImmediatePropagation()},window.addEventListener("beforeprint",q),window.addEventListener("afterprint",q));var x;b.PDFPrintServiceFactory.instance={supportsPrinting:!0,createPrintService:function(b,c,d,e){if(a)throw Error("The print service is created and active.");return a=new r(b,c,d,e)}}}]);